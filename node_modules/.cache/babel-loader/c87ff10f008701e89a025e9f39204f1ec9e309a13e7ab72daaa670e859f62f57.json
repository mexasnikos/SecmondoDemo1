{"ast":null,"code":"import _objectSpread from\"C:/Users/laptop-123/TravelInsurance_Demo_2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import'./Quote.css';// Import API service for database integration\nimport{createQuote,processPayment as apiProcessPayment}from'../services/apiService';// Import jsPDF dynamically to avoid build issues\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const generatePDF=async(formData,calculateTotalPrice,formatDateToEuropean,policyNumber)=>{try{var _formData$selectedQuo;// Dynamic import of jsPDF\nconst jsPDF=(await import('jspdf')).default;const doc=new jsPDF();const currentDate=new Date().toLocaleDateString('en-GB');// Set up fonts and styles\ndoc.setFontSize(20);doc.text('TRAVEL INSURANCE POLICY',20,20);doc.setFontSize(14);doc.text(\"Policy Number: \".concat(policyNumber),20,35);doc.text(\"Issue Date: \".concat(currentDate),20,45);let yPos=65;// Trip Information Section\ndoc.setFontSize(16);doc.text('TRIP INFORMATION',20,yPos);yPos+=15;doc.setFontSize(12);const tripType=formData.tripType==='single'?'Single Trip Insurance':formData.tripType==='annual'?'Annual Multi-Trip Insurance':'Comprehensive Single Trip Insurance';doc.text(\"Trip Type: \".concat(tripType),20,yPos);yPos+=10;doc.text(\"Country of Residence: \".concat(formData.countryOfResidence),20,yPos);yPos+=10;doc.text(\"Destination: \".concat(formData.destination),20,yPos);yPos+=10;doc.text(\"Departure: \".concat(formatDateToEuropean(formData.startDate)),20,yPos);yPos+=10;doc.text(\"Return: \".concat(formatDateToEuropean(formData.endDate)),20,yPos);yPos+=10;doc.text(\"Travelers: \".concat(formData.numberOfTravelers),20,yPos);yPos+=20;// Traveler Information\ndoc.setFontSize(16);doc.text('TRAVELER INFORMATION',20,yPos);yPos+=15;doc.setFontSize(12);formData.travelers.forEach((traveler,index)=>{if(yPos>250){// New page if needed\ndoc.addPage();yPos=20;}doc.text(\"\".concat(index===0?'Primary Policyholder':\"Traveler \".concat(index+1),\":\"),20,yPos);yPos+=10;doc.text(\"Name: \".concat(traveler.firstName,\" \").concat(traveler.lastName),20,yPos);yPos+=8;doc.text(\"Age: \".concat(traveler.age,\" years old\"),20,yPos);yPos+=8;doc.text(\"Email: \".concat(traveler.email),20,yPos);yPos+=8;if(traveler.phone){doc.text(\"Phone: \".concat(traveler.phone),20,yPos);yPos+=8;}yPos+=10;});// Selected Plan\nif(formData.selectedQuote){if(yPos>180){doc.addPage();yPos=20;}doc.setFontSize(16);doc.text('SELECTED INSURANCE PLAN',20,yPos);yPos+=15;doc.setFontSize(12);doc.text(\"Plan: \".concat(formData.selectedQuote.name),20,yPos);yPos+=10;doc.text(\"Medical: \".concat(formData.selectedQuote.coverage.medical),20,yPos);yPos+=10;doc.text(\"Baggage: \".concat(formData.selectedQuote.coverage.baggage),20,yPos);yPos+=10;doc.text(\"Cancellation: \".concat(formData.selectedQuote.coverage.cancellation),20,yPos);yPos+=15;// Add Included Features\nif(formData.selectedQuote.features&&formData.selectedQuote.features.length>0){doc.text('Included Features:',20,yPos);yPos+=10;formData.selectedQuote.features.forEach(feature=>{if(yPos>270){// Check for page break\ndoc.addPage();yPos=20;}doc.text(\"\\u2022 \".concat(feature),25,yPos);yPos+=8;});yPos+=10;}}// Additional Coverage\nif(formData.additionalPolicies&&formData.additionalPolicies.length>0){if(yPos>220){doc.addPage();yPos=20;}doc.setFontSize(16);doc.text('ADDITIONAL COVERAGE',20,yPos);yPos+=15;doc.setFontSize(12);formData.additionalPolicies.forEach(policy=>{if(yPos>270){// Check for page break\ndoc.addPage();yPos=20;}doc.text(\"\\u2022 \".concat(policy.name,\" - \\u20AC\").concat(policy.price.toFixed(2)),25,yPos);yPos+=8;});yPos+=15;}// Premium Summary\nif(yPos>200){doc.addPage();yPos=20;}doc.setFontSize(16);doc.text('PREMIUM SUMMARY',20,yPos);yPos+=15;doc.setFontSize(12);doc.text(\"Base Premium: \\u20AC\".concat((_formData$selectedQuo=formData.selectedQuote)===null||_formData$selectedQuo===void 0?void 0:_formData$selectedQuo.price),20,yPos);yPos+=10;if(formData.additionalPolicies&&formData.additionalPolicies.length>0){const additional=formData.additionalPolicies.reduce((sum,policy)=>sum+policy.price,0);doc.text(\"Additional Policies: \\u20AC\".concat(additional.toFixed(2)),20,yPos);yPos+=10;}doc.text('Taxes & Fees: Included',20,yPos);yPos+=10;doc.text(\"Total Premium: \\u20AC\".concat(calculateTotalPrice().toFixed(2)),20,yPos);yPos+=20;doc.text('Emergency Contact: +30 6974907500',20,yPos);// Save the PDF\ndoc.save(\"Travel_Insurance_Policy_\".concat(policyNumber,\".pdf\"));}catch(error){console.error('PDF generation failed, falling back to HTML:',error);// Fallback to HTML generation if PDF fails\ngenerateHTMLPolicy(formData,calculateTotalPrice,formatDateToEuropean,policyNumber);}};const generateHTMLPolicy=(formData,calculateTotalPrice,formatDateToEuropean,policyNumber)=>{var _formData$selectedQuo2;const currentDate=new Date().toLocaleDateString('en-GB');const htmlContent=\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n    <title>Travel Insurance Policy - \".concat(policyNumber,\"</title>\\n    <style>\\n        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\\n        .header { text-align: center; border-bottom: 2px solid #0077b6; padding-bottom: 20px; margin-bottom: 30px; }\\n        .section { margin-bottom: 25px; }\\n        .section-title { color: #0077b6; font-size: 16px; font-weight: bold; margin-bottom: 10px; }\\n        .info-row { margin: 8px 0; }\\n        .traveler-block { margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; }\\n        @media print { body { margin: 0; } }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"header\\\">\\n        <h1>TRAVEL INSURANCE POLICY</h1>\\n        <h2>Policy Number: \").concat(policyNumber,\"</h2>\\n        <p>Issue Date: \").concat(currentDate,\"</p>\\n    </div>\\n    \\n    <div class=\\\"section\\\">\\n        <div class=\\\"section-title\\\">TRIP INFORMATION</div>\\n        <div class=\\\"info-row\\\"><strong>Trip Type:</strong> \").concat(formData.tripType==='single'?'Single Trip Insurance':formData.tripType==='annual'?'Annual Multi-Trip Insurance':'Comprehensive Single Trip Insurance',\"</div>\\n        <div class=\\\"info-row\\\"><strong>Country of Residence:</strong> \").concat(formData.countryOfResidence,\"</div>\\n        <div class=\\\"info-row\\\"><strong>Destination:</strong> \").concat(formData.destination,\"</div>\\n        <div class=\\\"info-row\\\"><strong>Departure:</strong> \").concat(formatDateToEuropean(formData.startDate),\"</div>\\n        <div class=\\\"info-row\\\"><strong>Return:</strong> \").concat(formatDateToEuropean(formData.endDate),\"</div>\\n        <div class=\\\"info-row\\\"><strong>Travelers:</strong> \").concat(formData.numberOfTravelers,\"</div>\\n    </div>\\n    \\n    <div class=\\\"section\\\">\\n        <div class=\\\"section-title\\\">TRAVELER INFORMATION</div>\\n        \").concat(formData.travelers.map((traveler,index)=>\"\\n            <div class=\\\"traveler-block\\\">\\n                <strong>\".concat(index===0?'Primary Policyholder':\"Traveler \".concat(index+1),\"</strong>\\n                <div class=\\\"info-row\\\"><strong>Name:</strong> \").concat(traveler.firstName,\" \").concat(traveler.lastName,\"</div>\\n                <div class=\\\"info-row\\\"><strong>Age:</strong> \").concat(traveler.age,\" years old</div>\\n                <div class=\\\"info-row\\\"><strong>Email:</strong> \").concat(traveler.email,\"</div>\\n                \").concat(traveler.phone?\"<div class=\\\"info-row\\\"><strong>Phone:</strong> \".concat(traveler.phone,\"</div>\"):'',\"\\n            </div>\\n        \")).join(''),\"\\n    </div>\\n    \\n    \").concat(formData.selectedQuote?\"\\n    <div class=\\\"section\\\">\\n        <div class=\\\"section-title\\\">SELECTED INSURANCE PLAN</div>\\n        <div class=\\\"info-row\\\"><strong>Plan:</strong> \".concat(formData.selectedQuote.name,\"</div>\\n        <div class=\\\"info-row\\\"><strong>Medical Coverage:</strong> \").concat(formData.selectedQuote.coverage.medical,\"</div>\\n        <div class=\\\"info-row\\\"><strong>Baggage Coverage:</strong> \").concat(formData.selectedQuote.coverage.baggage,\"</div>\\n        <div class=\\\"info-row\\\"><strong>Trip Cancellation:</strong> \").concat(formData.selectedQuote.coverage.cancellation,\"</div>\\n        \\n        \").concat(formData.selectedQuote.features&&formData.selectedQuote.features.length>0?\"\\n        <div style=\\\"margin-top: 15px;\\\">\\n            <strong>Included Features:</strong>\\n            <ul>\\n                \".concat(formData.selectedQuote.features.map(feature=>\"<li>\".concat(feature,\"</li>\")).join(''),\"\\n            </ul>\\n        </div>\\n        \"):'',\"\\n    </div>\\n    \"):'',\"\\n    \\n    \").concat(formData.additionalPolicies&&formData.additionalPolicies.length>0?\"\\n    <div class=\\\"section\\\">\\n        <div class=\\\"section-title\\\">ADDITIONAL COVERAGE</div>\\n        <ul>\\n            \".concat(formData.additionalPolicies.map(policy=>\"<li>\".concat(policy.name,\" - \\u20AC\").concat(policy.price.toFixed(2),\"</li>\")).join(''),\"\\n        </ul>\\n    </div>\\n    \"):'',\"\\n    \\n    <div class=\\\"section\\\">\\n        <div class=\\\"section-title\\\">PREMIUM SUMMARY</div>\\n        <div class=\\\"info-row\\\"><strong>Base Premium:</strong> \\u20AC\").concat((_formData$selectedQuo2=formData.selectedQuote)===null||_formData$selectedQuo2===void 0?void 0:_formData$selectedQuo2.price,\"</div>\\n        \").concat(formData.additionalPolicies&&formData.additionalPolicies.length>0?\"\\n        <div class=\\\"info-row\\\"><strong>Additional Policies:</strong> \\u20AC\".concat(formData.additionalPolicies.reduce((sum,policy)=>sum+policy.price,0).toFixed(2),\"</div>\\n        \"):'',\"\\n        <div class=\\\"info-row\\\"><strong>Taxes & Fees:</strong> Included</div>\\n        <div class=\\\"info-row\\\"><strong>Total Premium:</strong> \\u20AC\").concat(calculateTotalPrice().toFixed(2),\"</div>\\n    </div>\\n    \\n    <div class=\\\"section\\\">\\n        <div class=\\\"info-row\\\"><strong>Emergency Contact:</strong> +30 6974907500</div>\\n        <div class=\\\"info-row\\\" style=\\\"margin-top: 20px; font-style: italic;\\\">\\n            This document serves as proof of travel insurance coverage.\\n        </div>\\n    </div>\\n    \\n    <script>\\n        window.onload = function() { window.print(); };\\n        window.onafterprint = function() { window.close(); };\\n    </script>\\n</body>\\n</html>\");const printWindow=window.open('','_blank','width=800,height=600');if(printWindow){printWindow.document.write(htmlContent);printWindow.document.close();}};// Format date to European format (DD/MM/YYYY)\nconst formatDateToEuropean=dateString=>{if(!dateString)return'';// Parse the ISO date string directly to avoid timezone issues\nconst[year,month,day]=dateString.split('-');return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};const Quote=_ref=>{let{onNavigate}=_ref;const[currentPhase,setCurrentPhase]=useState(1);const[formData,setFormData]=useState({destination:'',startDate:'',endDate:'',tripType:'single',countryOfResidence:'',numberOfTravelers:1,travelers:[{firstName:'',lastName:'',age:'',email:'',phone:'',vaxId:'',nationality:''}],selectedQuote:null,additionalPolicies:[],paymentMethod:'card',cardNumber:'',expiryDate:'',cvv:'',billingAddress:{street:'',city:'',postalCode:'',country:''}});const[quoteOptions,setQuoteOptions]=useState([]);const[isProcessing,setIsProcessing]=useState(false);const[policyNumber,setPolicyNumber]=useState('');const[availableAdditionalPolicies]=useState([{id:'excess-waiver',name:'Excess Waiver',description:'You can avoid paying the policy excess by adding the Excess Waiver option. This means that in the event of a claim, you won\\'t have the excess deducted from the amount you are paid.',price:8.45,icon:'🛡️',category:'Protection'},{id:'cancellation-top-up',name:'Cancellation Top Up',description:'Additional cancellation coverage for enhanced protection against trip cancellation costs.',price:15.50,icon:'❌',category:'Cancellation'},{id:'hazardous-pursuits-cat3',name:'Hazardous Pursuits Category 3',description:'Coverage for adventure sports and activities including skiing, snowboarding, and water sports.',price:12.30,icon:'🏂',category:'Activities'},{id:'hazardous-pursuits-cat4',name:'Hazardous Pursuits Category 4',description:'Coverage for extreme sports including rock climbing, bungee jumping, and skydiving.',price:18.75,icon:'🪂',category:'Activities'},{id:'valuables',name:'Valuables',description:'Enhanced coverage for valuable items including jewelry, electronics, and expensive equipment.',price:22.40,icon:'💎',category:'Protection'},{id:'golfers-extension',name:'Golfers Extension',description:'Specialized coverage for golf equipment, green fees, and golf-related incidents.',price:14.80,icon:'⛳',category:'Sports'},{id:'event-cancellation',name:'Event Cancellation',description:'Coverage for cancellation of prepaid events, concerts, or special occasions during your trip.',price:19.95,icon:'🎫',category:'Events'},{id:'repatriation-home',name:'Repatriation Home For Australians, South Africans, And New Zealanders',description:'Special repatriation coverage for travelers from Australia, South Africa, and New Zealand.',price:25.60,icon:'✈️',category:'Repatriation'}]);useEffect(()=>{window.scrollTo({top:0,behavior:'smooth'});},[]);// Show a brief message when end date is cleared due to start date change\nuseEffect(()=>{if(formData.startDate&&!formData.endDate){// This effect will run when start date exists but end date is empty\n// We could add a toast notification here if needed\n}},[formData.startDate,formData.endDate]);const generateQuoteOptions=()=>{const days=formData.startDate&&formData.endDate?Math.ceil((new Date(formData.endDate).getTime()-new Date(formData.startDate).getTime())/(1000*3600*24)):7;let basePrice=formData.tripType==='annual'?99:40;const dailyRate=formData.tripType==='annual'?0:5;const tripMultiplier=formData.tripType==='comprehensive'?1.5:1;const options=[{id:'basic',name:formData.tripType==='annual'?'Annual Basic':'Regular Basic',type:'basic',price:Math.round((basePrice+days*dailyRate)*formData.numberOfTravelers*tripMultiplier),coverage:{medical:formData.tripType==='annual'?'€5,000,000':'€2,000,000',baggage:'€1,000',cancellation:'€2,000',activities:['Standard activities']},features:['Emergency Medical Coverage','Trip Cancellation','Baggage Protection','24/7 Assistance']},{id:'standard',name:formData.tripType==='annual'?'Annual Standard':'Regular Standard',type:'standard',price:Math.round((basePrice+days*dailyRate)*1.3*formData.numberOfTravelers*tripMultiplier),coverage:{medical:formData.tripType==='annual'?'€10,000,000':'€5,000,000',baggage:'€2,500',cancellation:'€5,000',activities:['Standard activities','Adventure sports']},features:['Enhanced Medical Coverage','Trip Cancellation & Curtailment','Enhanced Baggage Protection','Adventure Sports Coverage','24/7 Assistance','Travel Delay Compensation']},{id:'premium',name:formData.tripType==='annual'?'Annual Premium':'Comprehensive Premium',type:'premium',price:Math.round((basePrice+days*dailyRate)*1.8*formData.numberOfTravelers*tripMultiplier),coverage:{medical:formData.tripType==='annual'?'€10,000,000':'€10,000,000',baggage:'€5,000',cancellation:'€10,000',activities:['All activities','Extreme sports','Winter sports']},features:['Maximum Medical Coverage','Comprehensive Trip Protection','Premium Baggage Coverage','All Sports & Activities','24/7 VIP Assistance','Travel Delay & Missed Connections','Personal Liability Coverage','Emergency Cash Advance']}];return options;};// Custom Date Picker Component\nconst CustomDatePicker=_ref2=>{let{id,value,onChange,placeholder,required,minDate}=_ref2;const[isOpen,setIsOpen]=useState(false);const[currentDate,setCurrentDate]=useState(()=>{// Initialize with selected date if available, otherwise current date\nreturn value?new Date(value):new Date();});const pickerRef=useRef(null);useEffect(()=>{const handleClickOutside=event=>{if(pickerRef.current&&!pickerRef.current.contains(event.target)){setIsOpen(false);}};if(isOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOpen]);// Update current date when value changes to show the correct month\nuseEffect(()=>{if(value){setCurrentDate(new Date(value));}},[value]);// Helper function to check if a date is valid (not in past and not before minDate)\nconst isDateValid=date=>{const today=new Date();today.setHours(0,0,0,0);// Reset time to start of day for accurate comparison\n// Reset the input date to start of day for accurate comparison\nconst inputDate=new Date(date);inputDate.setHours(0,0,0,0);// Check if date is in the past\nif(inputDate<today){return false;}// Check if date is before minimum date\nif(minDate){const minDateObj=new Date(minDate);minDateObj.setHours(0,0,0,0);if(inputDate<minDateObj){return false;}}return true;};const generateCalendar=()=>{const year=currentDate.getFullYear();const month=currentDate.getMonth();const firstDay=new Date(year,month,1);const lastDay=new Date(year,month+1,0);const daysInMonth=lastDay.getDate();const startingDayOfWeek=firstDay.getDay();const days=[];// Add empty cells for days before the first day of the month\nfor(let i=0;i<startingDayOfWeek;i++){days.push(/*#__PURE__*/_jsx(\"div\",{className:\"calendar-day empty\"},\"empty-\".concat(i)));}// Add days of the month\nfor(let day=1;day<=daysInMonth;day++){const date=new Date(year,month,day);// Create ISO string manually to avoid timezone issues\nconst dateString=\"\".concat(year,\"-\").concat((month+1).toString().padStart(2,'0'),\"-\").concat(day.toString().padStart(2,'0'));const isSelected=value===dateString;const isToday=new Date().toDateString()===date.toDateString();const isValid=isDateValid(date);days.push(/*#__PURE__*/_jsx(\"div\",{className:\"calendar-day \".concat(isSelected?'selected':'',\" \").concat(isToday?'today':'',\" \").concat(!isValid?'disabled':''),onClick:()=>{if(isValid){onChange(dateString);setIsOpen(false);}},style:{cursor:isValid?'pointer':'not-allowed',opacity:isValid?1:0.4},children:day},day));}return days;};const navigateMonth=direction=>{setCurrentDate(new Date(currentDate.getFullYear(),currentDate.getMonth()+direction,1));};const monthNames=['January','February','March','April','May','June','July','August','September','October','November','December'];return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-date-picker\",ref:pickerRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:id,value:value?formatDateToEuropean(value):'',onChange:e=>{const formattedValue=formatDateInput(e.target.value);const isoDate=formattedValue.length===10?convertToISO(formattedValue):'';// Validate that the date is valid (not in past and not before minDate)\nif(isoDate){const inputDate=new Date(isoDate);if(!isDateValid(inputDate)){// Don't update the value if it's an invalid date\nreturn;}}onChange(isoDate);},placeholder:placeholder,title:minDate?\"Enter date (DD/MM/YYYY) or click calendar - past dates and dates before start date are not allowed\":\"Enter date (DD/MM/YYYY) or click calendar - past dates are not allowed\",pattern:\"\\\\d{2}/\\\\d{2}/\\\\d{4}\",maxLength:10,required:required}),/*#__PURE__*/_jsx(\"span\",{className:\"date-icon clickable\",onClick:()=>setIsOpen(!isOpen),title:\"Open calendar\",children:\"\\uD83D\\uDCC5\"})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-popup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-header\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"calendar-nav-btn\",onClick:()=>navigateMonth(-1),children:\"\\u2039\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"calendar-month-year\",children:[monthNames[currentDate.getMonth()],\" \",currentDate.getFullYear()]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"calendar-nav-btn\",onClick:()=>navigateMonth(1),children:\"\\u203A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar-weekdays\",children:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"calendar-weekday\",children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar-days\",children:generateCalendar()})]})]});};const handleInputChange=(field,value)=>{setFormData(prev=>{const newData=_objectSpread(_objectSpread({},prev),{},{[field]:value});// If start date is changed, clear end date if it's now invalid\nif(field==='startDate'&&value&&prev.endDate){const startDate=new Date(value);const endDate=new Date(prev.endDate);startDate.setDate(startDate.getDate()+1);// Add 1 day to start date\n// If end date is before or equal to start date, clear it\nif(endDate<=startDate){newData.endDate='';}}return newData;});};const handleTravelerChange=(index,field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{travelers:prev.travelers.map((traveler,i)=>i===index?_objectSpread(_objectSpread({},traveler),{},{[field]:value}):traveler)}));};const handleNumberOfTravelersChange=count=>{setFormData(prev=>{const travelers=[...prev.travelers];if(count>travelers.length){// Add new travelers\nfor(let i=travelers.length;i<count;i++){travelers.push({firstName:'',lastName:'',age:'',email:'',phone:'',vaxId:'',nationality:''});}}else if(count<travelers.length){// Remove travelers\ntravelers.splice(count);}return _objectSpread(_objectSpread({},prev),{},{numberOfTravelers:count,travelers});});};const handleBillingAddressChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{billingAddress:_objectSpread(_objectSpread({},prev.billingAddress),{},{[field]:value})}));};// Helper function to convert DD/MM/YYYY to YYYY-MM-DD for internal storage\nconst convertToISO=ddmmyyyy=>{if(!ddmmyyyy||ddmmyyyy.length!==10)return'';const[day,month,year]=ddmmyyyy.split('/');// Create date in local timezone to avoid timezone issues\nconst date=new Date(parseInt(year),parseInt(month)-1,parseInt(day));return date.toISOString().split('T')[0];};// Helper function to format input as DD/MM/YYYY\nconst formatDateInput=value=>{// Remove all non-digits\nconst digits=value.replace(/\\D/g,'');// Format as DD/MM/YYYY\nif(digits.length>=8){return\"\".concat(digits.slice(0,2),\"/\").concat(digits.slice(2,4),\"/\").concat(digits.slice(4,8));}else if(digits.length>=4){return\"\".concat(digits.slice(0,2),\"/\").concat(digits.slice(2,4),\"/\").concat(digits.slice(4));}else if(digits.length>=2){return\"\".concat(digits.slice(0,2),\"/\").concat(digits.slice(2));}return digits;};const nextPhase=()=>{if(currentPhase===1){// Generate quotes when moving from phase 1 to 2\nconst options=generateQuoteOptions();setQuoteOptions(options);// Automatically pre-select the middle plan (standard)\nconst standardPlan=options.find(option=>option.type==='standard');if(standardPlan){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{selectedQuote:standardPlan}));}}if(currentPhase<7){setCurrentPhase(prev=>prev+1);window.scrollTo(0,0);}};const prevPhase=()=>{if(currentPhase>1){setCurrentPhase(prev=>prev-1);window.scrollTo(0,0);}};const selectQuote=quote=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{selectedQuote:quote}));};const addAdditionalPolicy=policy=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalPolicies:[...prev.additionalPolicies,policy]}));};const removeAdditionalPolicy=policyId=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalPolicies:prev.additionalPolicies.filter(p=>p.id!==policyId)}));};const calculateTotalPrice=()=>{var _formData$selectedQuo3;const basePrice=((_formData$selectedQuo3=formData.selectedQuote)===null||_formData$selectedQuo3===void 0?void 0:_formData$selectedQuo3.price)||0;const additionalPrice=formData.additionalPolicies.reduce((sum,policy)=>sum+policy.price,0);return basePrice+additionalPrice;};const generatePolicyPDF=async()=>{await generatePDF(formData,calculateTotalPrice,formatDateToEuropean,policyNumber||\"TI-\".concat(Date.now().toString().slice(-8)));};const downloadPolicyPDF=()=>{generatePolicyPDF();};const processPayment=async()=>{setIsProcessing(true);try{// First save the quote to database\n// Add TravellerNumber to each traveler (index + 1)\nconst travelersWithNumber=formData.travelers.map((traveler,index)=>_objectSpread(_objectSpread({},traveler),{},{travellerNumber:index+1}));const quoteData={destination:formData.destination,countryOfResidence:formData.countryOfResidence,startDate:formData.startDate,endDate:formData.endDate,tripType:formData.tripType,numberOfTravelers:formData.numberOfTravelers,travelers:travelersWithNumber,selectedQuote:formData.selectedQuote,additionalPolicies:formData.additionalPolicies,totalAmount:calculateTotalPrice()};// console.log('Saving quote to database...', quoteData);\n// console.log('Quote data JSON string:', JSON.stringify(quoteData));\nconst quoteResponse=await createQuote(quoteData);if(quoteResponse.status==='success'&&quoteResponse.data){const quoteId=quoteResponse.data.quoteId;// Process payment\nconst paymentData={quoteId:quoteId,paymentMethod:formData.paymentMethod,cardNumber:formData.cardNumber,// Note: In production, this should be tokenized\nexpiryDate:formData.expiryDate,cvv:formData.cvv,billingAddress:formData.billingAddress,amount:calculateTotalPrice()};// console.log('Processing payment...', { ...paymentData, cardNumber: '****', cvv: '***' });\n// console.log('Payment method being sent:', formData.paymentMethod);\n// console.log('Form data payment method:', formData.paymentMethod);\nconst paymentResponse=await apiProcessPayment(paymentData);if(paymentResponse.status==='success'){var _paymentResponse$data;// console.log('Payment successful:', paymentResponse.data);\n// Store the policy number from the backend response\nif((_paymentResponse$data=paymentResponse.data)!==null&&_paymentResponse$data!==void 0&&_paymentResponse$data.policyNumber){setPolicyNumber(paymentResponse.data.policyNumber);}setIsProcessing(false);nextPhase();// Move to documents phase\n}else{throw new Error(paymentResponse.message||'Payment failed');}}else{throw new Error(quoteResponse.message||'Failed to save quote');}}catch(error){console.error('Payment processing error:',error);setIsProcessing(false);alert('Payment processing failed. Please try again. Error: '+(error instanceof Error?error.message:'Unknown error'));}};const isPhaseValid=phase=>{switch(phase){case 1:return!!(formData.destination&&formData.startDate&&formData.endDate&&formData.tripType&&formData.countryOfResidence&&formData.travelers.every(t=>t.firstName&&t.lastName&&t.age&&t.email));case 2:return!!formData.selectedQuote;case 3:return true;// Additional policies phase is always valid (optional)\ncase 4:return true;// Summary phase is always valid\ncase 5:return true;// Confirmation phase is always valid\ncase 6:const paymentValid=!!(formData.cardNumber&&formData.expiryDate&&formData.cvv&&formData.billingAddress.street&&formData.billingAddress.city&&formData.billingAddress.postalCode&&formData.billingAddress.country);return paymentValid;case 7:return true;// Documents phase is always valid\ndefault:return false;}};const renderPhase1=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Trip Details & Traveler Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Trip Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tripType\",children:\"Trip Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"tripType\",value:formData.tripType,onChange:e=>handleInputChange('tripType',e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"single\",children:\"Regular Single Trip Insurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"annual\",children:\"Annual Multi-Trip Travel Insurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"comprehensive\",children:\"Comprehensive Single Trip Insurance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"countryOfResidence\",children:\"Country of Residence\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"countryOfResidence\",value:formData.countryOfResidence,onChange:e=>handleInputChange('countryOfResidence',e.target.value),placeholder:\"e.g., Greece, Germany, United Kingdom\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"destination\",children:\"Destination\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"destination\",value:formData.destination,onChange:e=>handleInputChange('destination',e.target.value),placeholder:\"e.g., Europe, Thailand, USA\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"startDate\",children:[\"Departure Date \",/*#__PURE__*/_jsx(\"span\",{className:\"date-format-hint\",children:\"(DD/MM/YYYY)\"})]}),/*#__PURE__*/_jsx(CustomDatePicker,{id:\"startDate\",value:formData.startDate,onChange:value=>handleInputChange('startDate',value),placeholder:\"DD/MM/YYYY\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"endDate\",children:[\"Return Date \",/*#__PURE__*/_jsx(\"span\",{className:\"date-format-hint\",children:\"(DD/MM/YYYY)\"})]}),/*#__PURE__*/_jsx(CustomDatePicker,{id:\"endDate\",value:formData.endDate,onChange:value=>handleInputChange('endDate',value),placeholder:\"DD/MM/YYYY\",required:true,minDate:formData.startDate?(()=>{// Set minimum date to start date + 1 day\nconst startDate=new Date(formData.startDate);startDate.setDate(startDate.getDate()+1);return startDate.toISOString().split('T')[0];})():undefined})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numberOfTravelers\",children:\"Number of Travelers\"}),/*#__PURE__*/_jsx(\"select\",{id:\"numberOfTravelers\",value:formData.numberOfTravelers,onChange:e=>handleNumberOfTravelersChange(parseInt(e.target.value)),children:[1,2,3,4,5,6,7,8].map(num=>/*#__PURE__*/_jsxs(\"option\",{value:num,children:[num,\" Traveler\",num>1?'s':'']},num))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Traveler Information\"}),formData.travelers.map((traveler,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"traveler-info\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Traveler \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName-\".concat(index),children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName-\".concat(index),value:traveler.firstName,onChange:e=>handleTravelerChange(index,'firstName',e.target.value),placeholder:\"Enter first name\",title:\"Enter the traveler's first name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName-\".concat(index),children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName-\".concat(index),value:traveler.lastName,onChange:e=>handleTravelerChange(index,'lastName',e.target.value),placeholder:\"Enter last name\",title:\"Enter the traveler's last name\",required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age-\".concat(index),children:\"Travellers Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age-\".concat(index),value:traveler.age,onChange:e=>handleTravelerChange(index,'age',e.target.value),placeholder:\"Enter age\",title:\"Enter the traveler's age (1-120)\",min:\"1\",max:\"120\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-\".concat(index),children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email-\".concat(index),value:traveler.email,onChange:e=>handleTravelerChange(index,'email',e.target.value),placeholder:\"Enter email address\",title:\"Enter the traveler's email address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone-\".concat(index),children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone-\".concat(index),value:traveler.phone,onChange:e=>handleTravelerChange(index,'phone',e.target.value),placeholder:\"+30 123 456 7890\",title:\"Enter the traveler's phone number\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaxId-\".concat(index),children:\"VAX ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vaxId-\".concat(index),value:traveler.vaxId,onChange:e=>handleTravelerChange(index,'vaxId',e.target.value),placeholder:\"Enter VAX ID\",title:\"Enter the traveler's VAX ID (optional)\"})]})]},index))]})]});const renderPhase2=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Choose Your Insurance Plan\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Select the coverage that best fits your travel needs.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quote-options\",children:quoteOptions.map(option=>{var _formData$selectedQuo4,_formData$selectedQuo5,_formData$selectedQuo6,_formData$selectedQuo7;return/*#__PURE__*/_jsxs(\"div\",{className:\"quote-option \".concat(((_formData$selectedQuo4=formData.selectedQuote)===null||_formData$selectedQuo4===void 0?void 0:_formData$selectedQuo4.id)===option.id?'selected':''),onClick:()=>selectQuote(option),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quote-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:option.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-price\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"price-amount\",children:[\"\\u20AC\",option.price]}),/*#__PURE__*/_jsx(\"p\",{className:\"price-period\",children:\"per trip\"})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"quote-features\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Medical Coverage: \",option.coverage.medical]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Baggage Coverage: \",option.coverage.baggage]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Cancellation: \",option.coverage.cancellation]}),option.features.map((feature,index)=>/*#__PURE__*/_jsx(\"li\",{children:feature},index))]}),/*#__PURE__*/_jsx(\"button\",{className:\"select-button\",\"aria-label\":((_formData$selectedQuo5=formData.selectedQuote)===null||_formData$selectedQuo5===void 0?void 0:_formData$selectedQuo5.id)===option.id?'Plan selected':\"Select \".concat(option.name,\" plan\"),title:((_formData$selectedQuo6=formData.selectedQuote)===null||_formData$selectedQuo6===void 0?void 0:_formData$selectedQuo6.id)===option.id?'This plan is currently selected':\"Choose the \".concat(option.name,\" plan\"),type:\"button\",children:((_formData$selectedQuo7=formData.selectedQuote)===null||_formData$selectedQuo7===void 0?void 0:_formData$selectedQuo7.id)===option.id?'Selected':'SELECT PLAN'})]},option.id);})})]});const renderPhase3=()=>{var _formData$selectedQuo8,_formData$selectedQuo9;return/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Enhance Your Coverage\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add optional coverage for extra protection during your trip.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selected-plan-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"current-plan\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Selected Plan\"}),formData.selectedQuote&&/*#__PURE__*/_jsxs(\"div\",{className:\"plan-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"plan-name\",children:formData.selectedQuote.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-price\",children:[\"\\u20AC\",formData.selectedQuote.price]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"additional-policies\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Optional Coverage Add-ons\"}),/*#__PURE__*/_jsx(\"div\",{className:\"policies-grid\",children:availableAdditionalPolicies.map(policy=>{const isSelected=formData.additionalPolicies.some(p=>p.id===policy.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"policy-card \".concat(isSelected?'selected':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"policy-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"policy-icon\",children:policy.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"policy-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:policy.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"policy-price\",children:[\"\\u20AC\",policy.price.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"policy-btn \".concat(isSelected?'remove':'add'),onClick:()=>isSelected?removeAdditionalPolicy(policy.id):addAdditionalPolicy(policy),children:isSelected?'REMOVE':'ADD'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"policy-description\",children:[/*#__PURE__*/_jsx(\"p\",{children:policy.description}),policy.id==='excess-waiver'&&/*#__PURE__*/_jsx(\"button\",{className:\"find-out-more\",onClick:()=>alert('More information about Excess Waiver coverage will be available soon.'),\"aria-label\":\"Learn more about Excess Waiver coverage\",title:\"Get more information about Excess Waiver coverage\",type:\"button\",children:\"Find out more\"})]})]},policy.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"total-summary-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"base-plan\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Base Plan: \",(_formData$selectedQuo8=formData.selectedQuote)===null||_formData$selectedQuo8===void 0?void 0:_formData$selectedQuo8.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20AC\",(_formData$selectedQuo9=formData.selectedQuote)===null||_formData$selectedQuo9===void 0?void 0:_formData$selectedQuo9.price]})]}),formData.additionalPolicies.map(policy=>/*#__PURE__*/_jsxs(\"div\",{className:\"additional-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:policy.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20AC\",policy.price.toFixed(2)]})]},policy.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"total-line\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-label\",children:\"Total Premium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-amount\",children:[\"\\u20AC\",calculateTotalPrice().toFixed(2)]})]})]})})]});};const renderPhase4=()=>{var _formData$selectedQuo0;const calculateTripDuration=()=>{if(formData.startDate&&formData.endDate){const start=new Date(formData.startDate);const end=new Date(formData.endDate);const days=Math.ceil((end.getTime()-start.getTime())/(1000*3600*24));return days;}return 0;};return/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Review Your Details\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please carefully review all information below. You can go back to make changes if needed.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"professional-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF0D Trip Overview\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Insurance Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formData.tripType==='single'?'Single Trip Insurance':formData.tripType==='annual'?'Annual Multi-Trip Insurance':'Comprehensive Single Trip Insurance'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Country of Residence:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formData.countryOfResidence})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Destination:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formData.destination})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Departure Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatDateToEuropean(formData.startDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Return Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatDateToEuropean(formData.endDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Trip Duration:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[calculateTripDuration(),\" days\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Number of Travelers:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[formData.numberOfTravelers,\" \",formData.numberOfTravelers===1?'person':'people']})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 Traveler Information\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:formData.travelers.map((traveler,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"traveler-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"traveler-header\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Primary \",index===0?'Policyholder':\"Traveler \".concat(index+1)]})}),/*#__PURE__*/_jsx(\"div\",{className:\"traveler-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Full Name:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[traveler.firstName,\" \",traveler.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Age:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[traveler.age,\" years old\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Email Address:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:traveler.email})]}),traveler.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:traveler.phone})]}),traveler.vaxId&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"VAX ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:traveler.vaxId})]})]})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDEE1\\uFE0F Selected Insurance Plan\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:formData.selectedQuote&&/*#__PURE__*/_jsxs(\"div\",{className:\"plan-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"plan-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:formData.selectedQuote.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan-price\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-label\",children:\"Total Premium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-value\",children:[\"\\u20AC\",calculateTotalPrice().toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-overview\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Coverage Limits\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-icon\",children:\"\\uD83C\\uDFE5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-type\",children:\"Medical Emergency\"}),/*#__PURE__*/_jsx(\"span\",{className:\"coverage-amount\",children:formData.selectedQuote.coverage.medical})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-icon\",children:\"\\uD83E\\uDDF3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-type\",children:\"Baggage Protection\"}),/*#__PURE__*/_jsx(\"span\",{className:\"coverage-amount\",children:formData.selectedQuote.coverage.baggage})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-icon\",children:\"\\u274C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"coverage-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coverage-type\",children:\"Trip Cancellation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"coverage-amount\",children:formData.selectedQuote.coverage.cancellation})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"features-overview\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Included Benefits\"}),/*#__PURE__*/_jsx(\"div\",{className:\"features-grid\",children:formData.selectedQuote.features.map((feature,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"feature-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature-check\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{className:\"feature-text\",children:feature})]},index))})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-card total-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"total-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-label\",children:\"Base Premium:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-value\",children:[\"\\u20AC\",(_formData$selectedQuo0=formData.selectedQuote)===null||_formData$selectedQuo0===void 0?void 0:_formData$selectedQuo0.price]})]}),formData.additionalPolicies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-label\",children:\"Additional Policies:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-value\",children:[\"\\u20AC\",formData.additionalPolicies.reduce((sum,policy)=>sum+policy.price,0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-label\",children:\"Taxes & Fees:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"total-value\",children:\"Included\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row final-total\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"total-label\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-value\",children:[\"\\u20AC\",calculateTotalPrice().toFixed(2)]})]})]})})})]})]});};const renderPhase5=()=>{var _formData$selectedQuo1;return/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confirmation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please confirm that all details are correct before proceeding to payment.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Trip:\"}),\" \",formData.destination,\" (\",formatDateToEuropean(formData.startDate),\" to \",formatDateToEuropean(formData.endDate),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Country of Residence:\"}),\" \",formData.countryOfResidence]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Travelers:\"}),\" \",formData.numberOfTravelers,\" person\",formData.numberOfTravelers>1?'s':'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Plan:\"}),\" \",(_formData$selectedQuo1=formData.selectedQuote)===null||_formData$selectedQuo1===void 0?void 0:_formData$selectedQuo1.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-item total\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" \\u20AC\",calculateTotalPrice().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"terms-section\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",required:true}),/*#__PURE__*/_jsxs(\"span\",{children:[\"I agree to the \",/*#__PURE__*/_jsx(\"button\",{className:\"link-button\",onClick:()=>onNavigate===null||onNavigate===void 0?void 0:onNavigate('privacy'),style:{background:'none',border:'none',color:'#0077b6',textDecoration:'underline',cursor:'pointer'},children:\"Terms and Conditions\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",required:true}),/*#__PURE__*/_jsxs(\"span\",{children:[\"I agree to the \",/*#__PURE__*/_jsx(\"button\",{className:\"link-button\",onClick:()=>onNavigate===null||onNavigate===void 0?void 0:onNavigate('privacy'),style:{background:'none',border:'none',color:'#0077b6',textDecoration:'underline',cursor:'pointer'},children:\"Privacy Policy\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"I would like to receive marketing emails about travel insurance offers\"})]})]})]});};const renderPhase6=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Details\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter your payment information to complete your purchase.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-method-info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"We accept all major credit and debit cards for secure payment processing.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Card Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardNumber\",children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardNumber\",value:formData.cardNumber,onChange:e=>handleInputChange('cardNumber',e.target.value),placeholder:\"1234 5678 9012 3456\",title:\"Enter your 16-digit card number\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiryDate\",children:\"Expiry Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"expiryDate\",value:formData.expiryDate,onChange:e=>handleInputChange('expiryDate',e.target.value),placeholder:\"MM/YY\",title:\"Enter card expiry date in MM/YY format\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cvv\",children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cvv\",value:formData.cvv,onChange:e=>handleInputChange('cvv',e.target.value),placeholder:\"123\",title:\"Enter the 3-digit CVV code from the back of your card\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"billing-address\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Billing Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street\",children:\"Street Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"street\",value:formData.billingAddress.street,onChange:e=>handleBillingAddressChange('street',e.target.value),placeholder:\"Enter street address\",title:\"Enter your billing street address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",value:formData.billingAddress.city,onChange:e=>handleBillingAddressChange('city',e.target.value),placeholder:\"Enter city\",title:\"Enter your billing city\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postalCode\",children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"postalCode\",value:formData.billingAddress.postalCode,onChange:e=>handleBillingAddressChange('postalCode',e.target.value),placeholder:\"Enter postal code\",title:\"Enter your billing postal code\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"country\",value:formData.billingAddress.country,onChange:e=>handleBillingAddressChange('country',e.target.value),placeholder:\"Enter country\",title:\"Enter your billing country\",required:true})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-summary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"summary-item\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total Amount: \\u20AC\",calculateTotalPrice().toFixed(2)]})})})]});const renderPhase7=()=>{var _formData$travelers$;return/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-phase\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDF89 Congratulations!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your travel insurance has been successfully purchased.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"policy-number\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Policy Number:\"}),\" \",policyNumber||\"TI-\".concat(Date.now().toString().slice(-8))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-email\",children:[\"A confirmation email has been sent to \",(_formData$travelers$=formData.travelers[0])===null||_formData$travelers$===void 0?void 0:_formData$travelers$.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"documents-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Documents\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"document-links\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:downloadPolicyPDF,className:\"document-link download-btn\",\"aria-label\":\"Download your policy summary as a PDF document\",title:\"Download a PDF copy of your travel insurance policy summary\",type:\"button\",children:\"\\uD83D\\uDCC4 Download Your Policy Summary (PDF)\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/Globelink_Wording_EU_V2_07.03.2025.pdf\",className:\"document-link\",download:true,children:\"\\uD83D\\uDCC4 Download Policy Certificate\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/Globelink_Wording_EU_V2_07.03.2025.pdf\",className:\"document-link\",download:true,children:\"\\uD83D\\uDCCB Download Policy Terms & Conditions\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/Globelink_Wording_EU_V2_07.03.2025.pdf\",className:\"document-link\",download:true,children:\"\\uD83C\\uDD94 Download Insurance Card\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/Globelink_Wording_EU_V2_07.03.2025.pdf\",className:\"document-link\",download:true,children:\"\\uD83D\\uDCDE Emergency Contact Information\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"next-steps\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"What's Next?\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Save your policy documents in a safe place\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Keep the emergency contact numbers with you while traveling\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Download our mobile app for easy access to your policy\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Contact us anytime at +30 6974907500 for assistance\"})]})]})]});};const renderPhaseContent=()=>{switch(currentPhase){case 1:return renderPhase1();case 2:return renderPhase2();case 3:return renderPhase3();case 4:return renderPhase4();case 5:return renderPhase5();case 6:return renderPhase6();case 7:return renderPhase7();default:return renderPhase1();}};return/*#__PURE__*/_jsx(\"div\",{className:\"quote-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Travel Insurance Quote Wizard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wizard-progress\",children:[1,2,3,4,5,6,7].map(phase=>/*#__PURE__*/_jsxs(\"div\",{className:\"progress-step \".concat(currentPhase>=phase?'active':'',\" \").concat(currentPhase===phase?'current':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-number\",children:phase}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-label\",children:[phase===1&&'Details',phase===2&&'Quotes',phase===3&&'Add-ons',phase===4&&'Review',phase===5&&'Confirm',phase===6&&'Payment',phase===7&&'Documents']})]},phase))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wizard-content\",children:renderPhaseContent()}),/*#__PURE__*/_jsxs(\"div\",{className:\"wizard-navigation\",children:[currentPhase>1&&currentPhase<7&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:prevPhase,\"aria-label\":\"Go to previous step\",title:\"Go back to the previous step\",type:\"button\",children:\"Previous\"}),currentPhase<6&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:nextPhase,disabled:!isPhaseValid(currentPhase),\"aria-label\":currentPhase===5?'Proceed to payment step':'Go to next step',title:currentPhase===5?'Continue to payment details':'Continue to next step',type:\"button\",children:currentPhase===5?'Proceed to Payment':'Next'}),currentPhase===6&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:processPayment,disabled:!isPhaseValid(currentPhase)||isProcessing,\"aria-label\":isProcessing?'Processing payment, please wait':\"Pay \\u20AC\".concat(calculateTotalPrice().toFixed(2),\" for your travel insurance\"),title:isProcessing?'Payment is being processed, please wait':\"Complete payment of \\u20AC\".concat(calculateTotalPrice().toFixed(2)),type:\"button\",style:{opacity:!isPhaseValid(currentPhase)||isProcessing?0.5:1,cursor:!isPhaseValid(currentPhase)||isProcessing?'not-allowed':'pointer'},children:isProcessing?'Processing Payment...':\"Pay \\u20AC\".concat(calculateTotalPrice().toFixed(2))})}),currentPhase===7&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>window.location.href='/',\"aria-label\":\"Return to homepage\",title:\"Go back to the main homepage\",type:\"button\",children:\"Return to Homepage\"})]})]})});};export default Quote;","map":{"version":3,"names":["React","useState","useEffect","useRef","createQuote","processPayment","apiProcessPayment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","generatePDF","formData","calculateTotalPrice","formatDateToEuropean","policyNumber","_formData$selectedQuo","jsPDF","default","doc","currentDate","Date","toLocaleDateString","setFontSize","text","concat","yPos","tripType","countryOfResidence","destination","startDate","endDate","numberOfTravelers","travelers","forEach","traveler","index","addPage","firstName","lastName","age","email","phone","selectedQuote","name","coverage","medical","baggage","cancellation","features","length","feature","additionalPolicies","policy","price","toFixed","additional","reduce","sum","save","error","console","generateHTMLPolicy","_formData$selectedQuo2","htmlContent","map","join","printWindow","window","open","document","write","close","dateString","year","month","day","split","Quote","_ref","onNavigate","currentPhase","setCurrentPhase","setFormData","vaxId","nationality","paymentMethod","cardNumber","expiryDate","cvv","billingAddress","street","city","postalCode","country","quoteOptions","setQuoteOptions","isProcessing","setIsProcessing","setPolicyNumber","availableAdditionalPolicies","id","description","icon","category","scrollTo","top","behavior","generateQuoteOptions","days","Math","ceil","getTime","basePrice","dailyRate","tripMultiplier","options","type","round","activities","CustomDatePicker","_ref2","value","onChange","placeholder","required","minDate","isOpen","setIsOpen","setCurrentDate","pickerRef","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","isDateValid","date","today","setHours","inputDate","minDateObj","generateCalendar","getFullYear","getMonth","firstDay","lastDay","daysInMonth","getDate","startingDayOfWeek","getDay","i","push","className","toString","padStart","isSelected","isToday","toDateString","isValid","onClick","style","cursor","opacity","children","navigateMonth","direction","monthNames","ref","e","formattedValue","formatDateInput","isoDate","convertToISO","title","pattern","maxLength","handleInputChange","field","prev","newData","_objectSpread","setDate","handleTravelerChange","handleNumberOfTravelersChange","count","splice","handleBillingAddressChange","ddmmyyyy","parseInt","toISOString","digits","replace","slice","nextPhase","standardPlan","find","option","prevPhase","selectQuote","quote","addAdditionalPolicy","removeAdditionalPolicy","policyId","filter","p","_formData$selectedQuo3","additionalPrice","generatePolicyPDF","now","downloadPolicyPDF","travelersWithNumber","travellerNumber","quoteData","totalAmount","quoteResponse","status","data","quoteId","paymentData","amount","paymentResponse","_paymentResponse$data","Error","message","alert","isPhaseValid","phase","every","t","paymentValid","renderPhase1","htmlFor","undefined","num","min","max","renderPhase2","_formData$selectedQuo4","_formData$selectedQuo5","_formData$selectedQuo6","_formData$selectedQuo7","renderPhase3","_formData$selectedQuo8","_formData$selectedQuo9","some","renderPhase4","_formData$selectedQuo0","calculateTripDuration","start","end","renderPhase5","_formData$selectedQuo1","background","border","color","textDecoration","renderPhase6","renderPhase7","_formData$travelers$","href","download","renderPhaseContent","disabled","location"],"sources":["C:/Users/laptop-123/TravelInsurance_Demo_2/src/pages/Quote.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './Quote.css';\n// Import API service for database integration\nimport { createQuote, processPayment as apiProcessPayment } from '../services/apiService';\n\n// Import jsPDF dynamically to avoid build issues\nconst generatePDF = async (formData: any, calculateTotalPrice: () => number, formatDateToEuropean: (date: string) => string, policyNumber: string) => {\n  try {\n    // Dynamic import of jsPDF\n    const jsPDF = (await import('jspdf')).default;\n    \n    const doc = new jsPDF();\n    const currentDate = new Date().toLocaleDateString('en-GB');\n    \n    // Set up fonts and styles\n    doc.setFontSize(20);\n    doc.text('TRAVEL INSURANCE POLICY', 20, 20);\n    \n    doc.setFontSize(14);\n    doc.text(`Policy Number: ${policyNumber}`, 20, 35);\n    doc.text(`Issue Date: ${currentDate}`, 20, 45);\n    \n    let yPos = 65;\n    \n    // Trip Information Section\n    doc.setFontSize(16);\n    doc.text('TRIP INFORMATION', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    const tripType = formData.tripType === 'single' ? 'Single Trip Insurance' : \n                    formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : \n                    'Comprehensive Single Trip Insurance';\n    \n    doc.text(`Trip Type: ${tripType}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Country of Residence: ${formData.countryOfResidence}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Destination: ${formData.destination}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Departure: ${formatDateToEuropean(formData.startDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Return: ${formatDateToEuropean(formData.endDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Travelers: ${formData.numberOfTravelers}`, 20, yPos);\n    yPos += 20;\n    \n    // Traveler Information\n    doc.setFontSize(16);\n    doc.text('TRAVELER INFORMATION', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    formData.travelers.forEach((traveler: any, index: number) => {\n      if (yPos > 250) { // New page if needed\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.text(`${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}:`, 20, yPos);\n      yPos += 10;\n      doc.text(`Name: ${traveler.firstName} ${traveler.lastName}`, 20, yPos);\n      yPos += 8;\n      doc.text(`Age: ${traveler.age} years old`, 20, yPos);\n      yPos += 8;\n      doc.text(`Email: ${traveler.email}`, 20, yPos);\n      yPos += 8;\n      if (traveler.phone) {\n        doc.text(`Phone: ${traveler.phone}`, 20, yPos);\n        yPos += 8;\n      }\n      yPos += 10;\n    });\n    \n    // Selected Plan\n    if (formData.selectedQuote) {\n      if (yPos > 180) {\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.setFontSize(16);\n      doc.text('SELECTED INSURANCE PLAN', 20, yPos);\n      yPos += 15;\n      \n      doc.setFontSize(12);\n      doc.text(`Plan: ${formData.selectedQuote.name}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Medical: ${formData.selectedQuote.coverage.medical}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Baggage: ${formData.selectedQuote.coverage.baggage}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Cancellation: ${formData.selectedQuote.coverage.cancellation}`, 20, yPos);\n      yPos += 15;\n      \n      // Add Included Features\n      if (formData.selectedQuote.features && formData.selectedQuote.features.length > 0) {\n        doc.text('Included Features:', 20, yPos);\n        yPos += 10;\n        formData.selectedQuote.features.forEach((feature: string) => {\n          if (yPos > 270) { // Check for page break\n            doc.addPage();\n            yPos = 20;\n          }\n          doc.text(`• ${feature}`, 25, yPos);\n          yPos += 8;\n        });\n        yPos += 10;\n      }\n    }\n    \n    // Additional Coverage\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      if (yPos > 220) {\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.setFontSize(16);\n      doc.text('ADDITIONAL COVERAGE', 20, yPos);\n      yPos += 15;\n      \n      doc.setFontSize(12);\n      formData.additionalPolicies.forEach((policy: any) => {\n        if (yPos > 270) { // Check for page break\n          doc.addPage();\n          yPos = 20;\n        }\n        doc.text(`• ${policy.name} - €${policy.price.toFixed(2)}`, 25, yPos);\n        yPos += 8;\n      });\n      yPos += 15;\n    }\n    \n    // Premium Summary\n    if (yPos > 200) {\n      doc.addPage();\n      yPos = 20;\n    }\n    \n    doc.setFontSize(16);\n    doc.text('PREMIUM SUMMARY', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    doc.text(`Base Premium: €${formData.selectedQuote?.price}`, 20, yPos);\n    yPos += 10;\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      const additional = formData.additionalPolicies.reduce((sum: number, policy: any) => sum + policy.price, 0);\n      doc.text(`Additional Policies: €${additional.toFixed(2)}`, 20, yPos);\n      yPos += 10;\n    }\n    doc.text('Taxes & Fees: Included', 20, yPos);\n    yPos += 10;\n    doc.text(`Total Premium: €${calculateTotalPrice().toFixed(2)}`, 20, yPos);\n    yPos += 20;\n    \n    doc.text('Emergency Contact: +30 6974907500', 20, yPos);\n    \n    // Save the PDF\n    doc.save(`Travel_Insurance_Policy_${policyNumber}.pdf`);\n    \n  } catch (error) {\n    console.error('PDF generation failed, falling back to HTML:', error);\n    // Fallback to HTML generation if PDF fails\n    generateHTMLPolicy(formData, calculateTotalPrice, formatDateToEuropean, policyNumber);\n  }\n};\n\nconst generateHTMLPolicy = (formData: any, calculateTotalPrice: () => number, formatDateToEuropean: (date: string) => string, policyNumber: string) => {\n  const currentDate = new Date().toLocaleDateString('en-GB');\n  \n  const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Travel Insurance Policy - ${policyNumber}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n        .header { text-align: center; border-bottom: 2px solid #0077b6; padding-bottom: 20px; margin-bottom: 30px; }\n        .section { margin-bottom: 25px; }\n        .section-title { color: #0077b6; font-size: 16px; font-weight: bold; margin-bottom: 10px; }\n        .info-row { margin: 8px 0; }\n        .traveler-block { margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; }\n        @media print { body { margin: 0; } }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>TRAVEL INSURANCE POLICY</h1>\n        <h2>Policy Number: ${policyNumber}</h2>\n        <p>Issue Date: ${currentDate}</p>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRIP INFORMATION</div>\n        <div class=\"info-row\"><strong>Trip Type:</strong> ${formData.tripType === 'single' ? 'Single Trip Insurance' : \n                        formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : \n                        'Comprehensive Single Trip Insurance'}</div>\n        <div class=\"info-row\"><strong>Country of Residence:</strong> ${formData.countryOfResidence}</div>\n        <div class=\"info-row\"><strong>Destination:</strong> ${formData.destination}</div>\n        <div class=\"info-row\"><strong>Departure:</strong> ${formatDateToEuropean(formData.startDate)}</div>\n        <div class=\"info-row\"><strong>Return:</strong> ${formatDateToEuropean(formData.endDate)}</div>\n        <div class=\"info-row\"><strong>Travelers:</strong> ${formData.numberOfTravelers}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRAVELER INFORMATION</div>\n        ${formData.travelers.map((traveler: any, index: number) => `\n            <div class=\"traveler-block\">\n                <strong>${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}</strong>\n                <div class=\"info-row\"><strong>Name:</strong> ${traveler.firstName} ${traveler.lastName}</div>\n                <div class=\"info-row\"><strong>Age:</strong> ${traveler.age} years old</div>\n                <div class=\"info-row\"><strong>Email:</strong> ${traveler.email}</div>\n                ${traveler.phone ? `<div class=\"info-row\"><strong>Phone:</strong> ${traveler.phone}</div>` : ''}\n            </div>\n        `).join('')}\n    </div>\n    \n    ${formData.selectedQuote ? `\n    <div class=\"section\">\n        <div class=\"section-title\">SELECTED INSURANCE PLAN</div>\n        <div class=\"info-row\"><strong>Plan:</strong> ${formData.selectedQuote.name}</div>\n        <div class=\"info-row\"><strong>Medical Coverage:</strong> ${formData.selectedQuote.coverage.medical}</div>\n        <div class=\"info-row\"><strong>Baggage Coverage:</strong> ${formData.selectedQuote.coverage.baggage}</div>\n        <div class=\"info-row\"><strong>Trip Cancellation:</strong> ${formData.selectedQuote.coverage.cancellation}</div>\n        \n        ${formData.selectedQuote.features && formData.selectedQuote.features.length > 0 ? `\n        <div style=\"margin-top: 15px;\">\n            <strong>Included Features:</strong>\n            <ul>\n                ${formData.selectedQuote.features.map((feature: string) => `<li>${feature}</li>`).join('')}\n            </ul>\n        </div>\n        ` : ''}\n    </div>\n    ` : ''}\n    \n    ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n    <div class=\"section\">\n        <div class=\"section-title\">ADDITIONAL COVERAGE</div>\n        <ul>\n            ${formData.additionalPolicies.map((policy: any) => `<li>${policy.name} - €${policy.price.toFixed(2)}</li>`).join('')}\n        </ul>\n    </div>\n    ` : ''}\n    \n    <div class=\"section\">\n        <div class=\"section-title\">PREMIUM SUMMARY</div>\n        <div class=\"info-row\"><strong>Base Premium:</strong> €${formData.selectedQuote?.price}</div>\n        ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n        <div class=\"info-row\"><strong>Additional Policies:</strong> €${formData.additionalPolicies.reduce((sum: number, policy: any) => sum + policy.price, 0).toFixed(2)}</div>\n        ` : ''}\n        <div class=\"info-row\"><strong>Taxes & Fees:</strong> Included</div>\n        <div class=\"info-row\"><strong>Total Premium:</strong> €${calculateTotalPrice().toFixed(2)}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"info-row\"><strong>Emergency Contact:</strong> +30 6974907500</div>\n        <div class=\"info-row\" style=\"margin-top: 20px; font-style: italic;\">\n            This document serves as proof of travel insurance coverage.\n        </div>\n    </div>\n    \n    <script>\n        window.onload = function() { window.print(); };\n        window.onafterprint = function() { window.close(); };\n    </script>\n</body>\n</html>`;\n\n  const printWindow = window.open('', '_blank', 'width=800,height=600');\n  if (printWindow) {\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n  }\n};\n\n// Format date to European format (DD/MM/YYYY)\nconst formatDateToEuropean = (dateString: string): string => {\n  if (!dateString) return '';\n  // Parse the ISO date string directly to avoid timezone issues\n  const [year, month, day] = dateString.split('-');\n  return `${day}/${month}/${year}`;\n};\n\ninterface TravelerInfo {\n  firstName: string;\n  lastName: string;\n  age: string;\n  email: string;\n  phone: string;\n  vaxId: string;\n  nationality: string;\n}\n\ninterface QuoteOption {\n  id: string;\n  name: string;\n  type: 'basic' | 'standard' | 'premium';\n  price: number;\n  coverage: {\n    medical: string;\n    baggage: string;\n    cancellation: string;\n    activities: string[];\n  };\n  features: string[];\n}\n\ninterface QuoteFormData {\n  // Trip Details\n  destination: string;\n  startDate: string;\n  endDate: string;\n  tripType: 'single' | 'annual' | 'comprehensive';\n  countryOfResidence: string;\n  \n  // Traveler Information\n  numberOfTravelers: number;\n  travelers: TravelerInfo[];\n  \n  // Selected Quote\n  selectedQuote: QuoteOption | null;\n  \n  // Additional Policies\n  additionalPolicies: AdditionalPolicy[];\n  \n  // Payment Details\n  paymentMethod: 'card' | 'bank' | 'paypal';\n  cardNumber: string;\n  expiryDate: string;\n  cvv: string;\n  billingAddress: {\n    street: string;\n    city: string;\n    postalCode: string;\n    country: string;\n  };\n}\n\ninterface AdditionalPolicy {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  icon: string;\n  category: string;\n}\n\ntype WizardPhase = 1 | 2 | 3 | 4 | 5 | 6 | 7;\n\ninterface QuoteProps {\n  onNavigate?: (page: string) => void;\n}\n\nconst Quote: React.FC<QuoteProps> = ({ onNavigate }) => {\n  const [currentPhase, setCurrentPhase] = useState<WizardPhase>(1);\n  const [formData, setFormData] = useState<QuoteFormData>({\n    destination: '',\n    startDate: '',\n    endDate: '',\n    tripType: 'single',\n    countryOfResidence: '',\n    numberOfTravelers: 1,\n    travelers: [\n      {\n        firstName: '',\n        lastName: '',\n        age: '',\n        email: '',\n        phone: '',\n        vaxId: '',\n        nationality: ''\n      }\n    ],\n    selectedQuote: null,\n    additionalPolicies: [],\n    paymentMethod: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    billingAddress: {\n      street: '',\n      city: '',\n      postalCode: '',\n      country: ''\n    }\n  });\n\n  const [quoteOptions, setQuoteOptions] = useState<QuoteOption[]>([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [policyNumber, setPolicyNumber] = useState<string>('');\n  const [availableAdditionalPolicies] = useState<AdditionalPolicy[]>([\n    {\n      id: 'excess-waiver',\n      name: 'Excess Waiver',\n      description: 'You can avoid paying the policy excess by adding the Excess Waiver option. This means that in the event of a claim, you won\\'t have the excess deducted from the amount you are paid.',\n      price: 8.45,\n      icon: '🛡️',\n      category: 'Protection'\n    },\n    {\n      id: 'cancellation-top-up',\n      name: 'Cancellation Top Up',\n      description: 'Additional cancellation coverage for enhanced protection against trip cancellation costs.',\n      price: 15.50,\n      icon: '❌',\n      category: 'Cancellation'\n    },\n    {\n      id: 'hazardous-pursuits-cat3',\n      name: 'Hazardous Pursuits Category 3',\n      description: 'Coverage for adventure sports and activities including skiing, snowboarding, and water sports.',\n      price: 12.30,\n      icon: '🏂',\n      category: 'Activities'\n    },\n    {\n      id: 'hazardous-pursuits-cat4',\n      name: 'Hazardous Pursuits Category 4',\n      description: 'Coverage for extreme sports including rock climbing, bungee jumping, and skydiving.',\n      price: 18.75,\n      icon: '🪂',\n      category: 'Activities'\n    },\n    {\n      id: 'valuables',\n      name: 'Valuables',\n      description: 'Enhanced coverage for valuable items including jewelry, electronics, and expensive equipment.',\n      price: 22.40,\n      icon: '💎',\n      category: 'Protection'\n    },\n    {\n      id: 'golfers-extension',\n      name: 'Golfers Extension',\n      description: 'Specialized coverage for golf equipment, green fees, and golf-related incidents.',\n      price: 14.80,\n      icon: '⛳',\n      category: 'Sports'\n    },\n    {\n      id: 'event-cancellation',\n      name: 'Event Cancellation',\n      description: 'Coverage for cancellation of prepaid events, concerts, or special occasions during your trip.',\n      price: 19.95,\n      icon: '🎫',\n      category: 'Events'\n    },\n    {\n      id: 'repatriation-home',\n      name: 'Repatriation Home For Australians, South Africans, And New Zealanders',\n      description: 'Special repatriation coverage for travelers from Australia, South Africa, and New Zealand.',\n      price: 25.60,\n      icon: '✈️',\n      category: 'Repatriation'\n    }\n  ]);\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Show a brief message when end date is cleared due to start date change\n  useEffect(() => {\n    if (formData.startDate && !formData.endDate) {\n      // This effect will run when start date exists but end date is empty\n      // We could add a toast notification here if needed\n    }\n  }, [formData.startDate, formData.endDate]);\n\n\n  const generateQuoteOptions = (): QuoteOption[] => {\n    const days = formData.startDate && formData.endDate \n      ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 3600 * 24))\n      : 7;\n\n    let basePrice = formData.tripType === 'annual' ? 99 : 40;\n    const dailyRate = formData.tripType === 'annual' ? 0 : 5;\n    const tripMultiplier = formData.tripType === 'comprehensive' ? 1.5 : 1;\n\n    const options: QuoteOption[] = [\n      {\n        id: 'basic',\n        name: formData.tripType === 'annual' ? 'Annual Basic' : 'Regular Basic',\n        type: 'basic',\n        price: Math.round((basePrice + (days * dailyRate)) * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? '€5,000,000' : '€2,000,000',\n          baggage: '€1,000',\n          cancellation: '€2,000',\n          activities: ['Standard activities']\n        },\n        features: [\n          'Emergency Medical Coverage',\n          'Trip Cancellation',\n          'Baggage Protection',\n          '24/7 Assistance'\n        ]\n      },\n      {\n        id: 'standard',\n        name: formData.tripType === 'annual' ? 'Annual Standard' : 'Regular Standard',\n        type: 'standard',\n        price: Math.round((basePrice + (days * dailyRate)) * 1.3 * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? '€10,000,000' : '€5,000,000',\n          baggage: '€2,500',\n          cancellation: '€5,000',\n          activities: ['Standard activities', 'Adventure sports']\n        },\n        features: [\n          'Enhanced Medical Coverage',\n          'Trip Cancellation & Curtailment',\n          'Enhanced Baggage Protection',\n          'Adventure Sports Coverage',\n          '24/7 Assistance',\n          'Travel Delay Compensation'\n        ]\n      },\n      {\n        id: 'premium',\n        name: formData.tripType === 'annual' ? 'Annual Premium' : 'Comprehensive Premium',\n        type: 'premium',\n        price: Math.round((basePrice + (days * dailyRate)) * 1.8 * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? '€10,000,000' : '€10,000,000',\n          baggage: '€5,000',\n          cancellation: '€10,000',\n          activities: ['All activities', 'Extreme sports', 'Winter sports']\n        },\n        features: [\n          'Maximum Medical Coverage',\n          'Comprehensive Trip Protection',\n          'Premium Baggage Coverage',\n          'All Sports & Activities',\n          '24/7 VIP Assistance',\n          'Travel Delay & Missed Connections',\n          'Personal Liability Coverage',\n          'Emergency Cash Advance'\n        ]\n      }\n    ];\n\n    return options;\n  };\n\n  // Custom Date Picker Component\n  const CustomDatePicker: React.FC<{\n    id: string;\n    value: string;\n    onChange: (value: string) => void;\n    placeholder: string;\n    required?: boolean;\n    minDate?: string; // ISO date string for minimum selectable date\n  }> = ({ id, value, onChange, placeholder, required, minDate }) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [currentDate, setCurrentDate] = useState(() => {\n      // Initialize with selected date if available, otherwise current date\n      return value ? new Date(value) : new Date();\n    });\n    const pickerRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (pickerRef.current && !pickerRef.current.contains(event.target as Node)) {\n          setIsOpen(false);\n        }\n      };\n\n      if (isOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n      }\n\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, [isOpen]);\n\n    // Update current date when value changes to show the correct month\n    useEffect(() => {\n      if (value) {\n        setCurrentDate(new Date(value));\n      }\n    }, [value]);\n\n    // Helper function to check if a date is valid (not in past and not before minDate)\n    const isDateValid = (date: Date): boolean => {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n      \n      // Reset the input date to start of day for accurate comparison\n      const inputDate = new Date(date);\n      inputDate.setHours(0, 0, 0, 0);\n      \n      // Check if date is in the past\n      if (inputDate < today) {\n        return false;\n      }\n      \n      // Check if date is before minimum date\n      if (minDate) {\n        const minDateObj = new Date(minDate);\n        minDateObj.setHours(0, 0, 0, 0);\n        if (inputDate < minDateObj) {\n          return false;\n        }\n      }\n      \n      return true;\n    };\n\n    const generateCalendar = () => {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth();\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n      const daysInMonth = lastDay.getDate();\n      const startingDayOfWeek = firstDay.getDay();\n\n      const days = [];\n      \n      // Add empty cells for days before the first day of the month\n      for (let i = 0; i < startingDayOfWeek; i++) {\n        days.push(<div key={`empty-${i}`} className=\"calendar-day empty\"></div>);\n      }\n\n      // Add days of the month\n      for (let day = 1; day <= daysInMonth; day++) {\n        const date = new Date(year, month, day);\n        // Create ISO string manually to avoid timezone issues\n        const dateString = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n        const isSelected = value === dateString;\n        const isToday = new Date().toDateString() === date.toDateString();\n        const isValid = isDateValid(date);\n\n        days.push(\n          <div\n            key={day}\n            className={`calendar-day ${isSelected ? 'selected' : ''} ${isToday ? 'today' : ''} ${!isValid ? 'disabled' : ''}`}\n            onClick={() => {\n              if (isValid) {\n                onChange(dateString);\n                setIsOpen(false);\n              }\n            }}\n            style={{\n              cursor: isValid ? 'pointer' : 'not-allowed',\n              opacity: isValid ? 1 : 0.4\n            }}\n          >\n            {day}\n          </div>\n        );\n      }\n\n      return days;\n    };\n\n    const navigateMonth = (direction: number) => {\n      setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1));\n    };\n\n    const monthNames = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n\n    return (\n      <div className=\"custom-date-picker\" ref={pickerRef}>\n        <div className=\"date-input-wrapper\">\n          <input\n            type=\"text\"\n            id={id}\n            value={value ? formatDateToEuropean(value) : ''}\n            onChange={(e) => {\n              const formattedValue = formatDateInput(e.target.value);\n              const isoDate = formattedValue.length === 10 ? convertToISO(formattedValue) : '';\n              \n              // Validate that the date is valid (not in past and not before minDate)\n              if (isoDate) {\n                const inputDate = new Date(isoDate);\n                if (!isDateValid(inputDate)) {\n                  // Don't update the value if it's an invalid date\n                  return;\n                }\n              }\n              \n              onChange(isoDate);\n            }}\n            placeholder={placeholder}\n            title={minDate ? \n              \"Enter date (DD/MM/YYYY) or click calendar - past dates and dates before start date are not allowed\" : \n              \"Enter date (DD/MM/YYYY) or click calendar - past dates are not allowed\"\n            }\n            pattern=\"\\d{2}/\\d{2}/\\d{4}\"\n            maxLength={10}\n            required={required}\n          />\n          <span \n            className=\"date-icon clickable\" \n            onClick={() => setIsOpen(!isOpen)}\n            title=\"Open calendar\"\n          >\n            📅\n          </span>\n        </div>\n        \n        {isOpen && (\n          <div className=\"calendar-popup\">\n            <div className=\"calendar-header\">\n              <button \n                type=\"button\" \n                className=\"calendar-nav-btn\" \n                onClick={() => navigateMonth(-1)}\n              >\n                ‹\n              </button>\n              <span className=\"calendar-month-year\">\n                {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\n              </span>\n              <button \n                type=\"button\" \n                className=\"calendar-nav-btn\" \n                onClick={() => navigateMonth(1)}\n              >\n                ›\n              </button>\n            </div>\n            <div className=\"calendar-weekdays\">\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\n                <div key={day} className=\"calendar-weekday\">{day}</div>\n              ))}\n            </div>\n            <div className=\"calendar-days\">\n              {generateCalendar()}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleInputChange = (field: string, value: string | number) => {\n    setFormData(prev => {\n      const newData = {\n        ...prev,\n        [field]: value\n      };\n      \n      // If start date is changed, clear end date if it's now invalid\n      if (field === 'startDate' && value && prev.endDate) {\n        const startDate = new Date(value as string);\n        const endDate = new Date(prev.endDate);\n        startDate.setDate(startDate.getDate() + 1); // Add 1 day to start date\n        \n        // If end date is before or equal to start date, clear it\n        if (endDate <= startDate) {\n          newData.endDate = '';\n        }\n      }\n      \n      return newData;\n    });\n  };\n\n  const handleTravelerChange = (index: number, field: keyof TravelerInfo, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      travelers: prev.travelers.map((traveler, i) => \n        i === index ? { ...traveler, [field]: value } : traveler\n      )\n    }));\n  };\n\n  const handleNumberOfTravelersChange = (count: number) => {\n    setFormData(prev => {\n      const travelers = [...prev.travelers];\n      \n      if (count > travelers.length) {\n        // Add new travelers\n        for (let i = travelers.length; i < count; i++) {\n          travelers.push({\n            firstName: '',\n            lastName: '',\n            age: '',\n            email: '',\n            phone: '',\n            vaxId: '',\n            nationality: ''\n          });\n        }\n      } else if (count < travelers.length) {\n        // Remove travelers\n        travelers.splice(count);\n      }\n      \n      return {\n        ...prev,\n        numberOfTravelers: count,\n        travelers\n      };\n    });\n  };\n\n  const handleBillingAddressChange = (field: keyof QuoteFormData['billingAddress'], value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      billingAddress: {\n        ...prev.billingAddress,\n        [field]: value\n      }\n    }));\n  };\n\n  // Helper function to convert DD/MM/YYYY to YYYY-MM-DD for internal storage\n  const convertToISO = (ddmmyyyy: string): string => {\n    if (!ddmmyyyy || ddmmyyyy.length !== 10) return '';\n    const [day, month, year] = ddmmyyyy.split('/');\n    // Create date in local timezone to avoid timezone issues\n    const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n    return date.toISOString().split('T')[0];\n  };\n\n  // Helper function to format input as DD/MM/YYYY\n  const formatDateInput = (value: string): string => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n    \n    // Format as DD/MM/YYYY\n    if (digits.length >= 8) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4, 8)}`;\n    } else if (digits.length >= 4) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4)}`;\n    } else if (digits.length >= 2) {\n      return `${digits.slice(0, 2)}/${digits.slice(2)}`;\n    }\n    return digits;\n  };\n\n  const nextPhase = () => {\n    if (currentPhase === 1) {\n      // Generate quotes when moving from phase 1 to 2\n      const options = generateQuoteOptions();\n      setQuoteOptions(options);\n      \n      // Automatically pre-select the middle plan (standard)\n      const standardPlan = options.find(option => option.type === 'standard');\n      if (standardPlan) {\n        setFormData(prev => ({\n          ...prev,\n          selectedQuote: standardPlan\n        }));\n      }\n    }\n    \n    if (currentPhase < 7) {\n      setCurrentPhase((prev) => (prev + 1) as WizardPhase);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const prevPhase = () => {\n    if (currentPhase > 1) {\n      setCurrentPhase((prev) => (prev - 1) as WizardPhase);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const selectQuote = (quote: QuoteOption) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedQuote: quote\n    }));\n  };\n\n  const addAdditionalPolicy = (policy: AdditionalPolicy) => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: [...prev.additionalPolicies, policy]\n    }));\n  };\n\n  const removeAdditionalPolicy = (policyId: string) => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: prev.additionalPolicies.filter(p => p.id !== policyId)\n    }));\n  };\n\n  const calculateTotalPrice = (): number => {\n    const basePrice = formData.selectedQuote?.price || 0;\n    const additionalPrice = formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0);\n    return basePrice + additionalPrice;\n  };\n\n  const generatePolicyPDF = async () => {\n    await generatePDF(formData, calculateTotalPrice, formatDateToEuropean, policyNumber || `TI-${Date.now().toString().slice(-8)}`);\n  };\n\n  const downloadPolicyPDF = () => {\n    generatePolicyPDF();\n  };\n\n  const processPayment = async () => {\n    setIsProcessing(true);\n    \n    try {\n      // First save the quote to database\n      // Add TravellerNumber to each traveler (index + 1)\n      const travelersWithNumber = formData.travelers.map((traveler, index) => ({\n        ...traveler,\n        travellerNumber: index + 1\n      }));\n\n      const quoteData = {\n        destination: formData.destination,\n        countryOfResidence: formData.countryOfResidence,\n        startDate: formData.startDate,\n        endDate: formData.endDate,\n        tripType: formData.tripType,\n        numberOfTravelers: formData.numberOfTravelers,\n        travelers: travelersWithNumber,\n        selectedQuote: formData.selectedQuote,\n        additionalPolicies: formData.additionalPolicies,\n        totalAmount: calculateTotalPrice()\n      };\n\n      // console.log('Saving quote to database...', quoteData);\n      // console.log('Quote data JSON string:', JSON.stringify(quoteData));\n      const quoteResponse = await createQuote(quoteData);\n      \n      if (quoteResponse.status === 'success' && quoteResponse.data) {\n        const quoteId = quoteResponse.data.quoteId;\n        \n        // Process payment\n        const paymentData = {\n          quoteId: quoteId,\n          paymentMethod: formData.paymentMethod,\n          cardNumber: formData.cardNumber, // Note: In production, this should be tokenized\n          expiryDate: formData.expiryDate,\n          cvv: formData.cvv,\n          billingAddress: formData.billingAddress,\n          amount: calculateTotalPrice()\n        };\n\n        // console.log('Processing payment...', { ...paymentData, cardNumber: '****', cvv: '***' });\n        // console.log('Payment method being sent:', formData.paymentMethod);\n        // console.log('Form data payment method:', formData.paymentMethod);\n        const paymentResponse = await apiProcessPayment(paymentData);\n        \n        if (paymentResponse.status === 'success') {\n          // console.log('Payment successful:', paymentResponse.data);\n          // Store the policy number from the backend response\n          if (paymentResponse.data?.policyNumber) {\n            setPolicyNumber(paymentResponse.data.policyNumber);\n          }\n          setIsProcessing(false);\n          nextPhase(); // Move to documents phase\n        } else {\n          throw new Error(paymentResponse.message || 'Payment failed');\n        }\n      } else {\n        throw new Error(quoteResponse.message || 'Failed to save quote');\n      }\n    } catch (error) {\n      console.error('Payment processing error:', error);\n      setIsProcessing(false);\n      alert('Payment processing failed. Please try again. Error: ' + (error instanceof Error ? error.message : 'Unknown error'));\n    }\n  };\n\n  const isPhaseValid = (phase: WizardPhase): boolean => {\n    switch (phase) {\n      case 1:\n        return !!(\n          formData.destination &&\n          formData.startDate &&\n          formData.endDate &&\n          formData.tripType &&\n          formData.countryOfResidence &&\n          formData.travelers.every(t => t.firstName && t.lastName && t.age && t.email)\n        );\n      case 2:\n        return !!formData.selectedQuote;\n      case 3:\n        return true; // Additional policies phase is always valid (optional)\n      case 4:\n        return true; // Summary phase is always valid\n      case 5:\n        return true; // Confirmation phase is always valid\n      case 6:\n        const paymentValid = !!(\n          formData.cardNumber && \n          formData.expiryDate && \n          formData.cvv &&\n          formData.billingAddress.street &&\n          formData.billingAddress.city &&\n          formData.billingAddress.postalCode &&\n          formData.billingAddress.country\n        );\n        \n        \n        return paymentValid;\n      case 7:\n        return true; // Documents phase is always valid\n      default:\n        return false;\n    }\n  };\n\n  const renderPhase1 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Trip Details & Traveler Information</h2>\n      \n      <div className=\"form-section\">\n        <h3>Trip Details</h3>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"tripType\">Trip Type</label>\n          <select\n            id=\"tripType\"\n            value={formData.tripType}\n            onChange={(e) => handleInputChange('tripType', e.target.value)}\n            required\n          >\n            <option value=\"single\">Regular Single Trip Insurance</option>\n            <option value=\"annual\">Annual Multi-Trip Travel Insurance</option>\n            <option value=\"comprehensive\">Comprehensive Single Trip Insurance</option>\n          </select>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"countryOfResidence\">Country of Residence</label>\n          <input\n            type=\"text\"\n            id=\"countryOfResidence\"\n            value={formData.countryOfResidence}\n            onChange={(e) => handleInputChange('countryOfResidence', e.target.value)}\n            placeholder=\"e.g., Greece, Germany, United Kingdom\"\n            required\n          />\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"destination\">Destination</label>\n          <input\n            type=\"text\"\n            id=\"destination\"\n            value={formData.destination}\n            onChange={(e) => handleInputChange('destination', e.target.value)}\n            placeholder=\"e.g., Europe, Thailand, USA\"\n            required\n          />\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label htmlFor=\"startDate\">Departure Date <span className=\"date-format-hint\">(DD/MM/YYYY)</span></label>\n            <CustomDatePicker\n              id=\"startDate\"\n              value={formData.startDate}\n              onChange={(value) => handleInputChange('startDate', value)}\n              placeholder=\"DD/MM/YYYY\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"endDate\">Return Date <span className=\"date-format-hint\">(DD/MM/YYYY)</span></label>\n            <CustomDatePicker\n              id=\"endDate\"\n              value={formData.endDate}\n              onChange={(value) => handleInputChange('endDate', value)}\n              placeholder=\"DD/MM/YYYY\"\n              required\n              minDate={formData.startDate ? (() => {\n                // Set minimum date to start date + 1 day\n                const startDate = new Date(formData.startDate);\n                startDate.setDate(startDate.getDate() + 1);\n                return startDate.toISOString().split('T')[0];\n              })() : undefined}\n            />\n          </div>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"numberOfTravelers\">Number of Travelers</label>\n          <select\n            id=\"numberOfTravelers\"\n            value={formData.numberOfTravelers}\n            onChange={(e) => handleNumberOfTravelersChange(parseInt(e.target.value))}\n          >\n            {[1,2,3,4,5,6,7,8].map(num => (\n              <option key={num} value={num}>{num} Traveler{num > 1 ? 's' : ''}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"form-section\">\n        <h3>Traveler Information</h3>\n        {formData.travelers.map((traveler, index) => (\n          <div key={index} className=\"traveler-info\">\n            <h4>Traveler {index + 1}</h4>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`firstName-${index}`}>First Name</label>\n                <input\n                  type=\"text\"\n                  id={`firstName-${index}`}\n                  value={traveler.firstName}\n                  onChange={(e) => handleTravelerChange(index, 'firstName', e.target.value)}\n                  placeholder=\"Enter first name\"\n                  title=\"Enter the traveler's first name\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`lastName-${index}`}>Last Name</label>\n                <input\n                  type=\"text\"\n                  id={`lastName-${index}`}\n                  value={traveler.lastName}\n                  onChange={(e) => handleTravelerChange(index, 'lastName', e.target.value)}\n                  placeholder=\"Enter last name\"\n                  title=\"Enter the traveler's last name\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`age-${index}`}>Travellers Age</label>\n                <input\n                  type=\"number\"\n                  id={`age-${index}`}\n                  value={traveler.age}\n                  onChange={(e) => handleTravelerChange(index, 'age', e.target.value)}\n                  placeholder=\"Enter age\"\n                  title=\"Enter the traveler's age (1-120)\"\n                  min=\"1\"\n                  max=\"120\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`email-${index}`}>Email</label>\n                <input\n                  type=\"email\"\n                  id={`email-${index}`}\n                  value={traveler.email}\n                  onChange={(e) => handleTravelerChange(index, 'email', e.target.value)}\n                  placeholder=\"Enter email address\"\n                  title=\"Enter the traveler's email address\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`phone-${index}`}>Phone</label>\n                <input\n                  type=\"tel\"\n                  id={`phone-${index}`}\n                  value={traveler.phone}\n                  onChange={(e) => handleTravelerChange(index, 'phone', e.target.value)}\n                  placeholder=\"+30 123 456 7890\"\n                  title=\"Enter the traveler's phone number\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor={`vaxId-${index}`}>VAX ID</label>\n              <input\n                type=\"text\"\n                id={`vaxId-${index}`}\n                value={traveler.vaxId}\n                onChange={(e) => handleTravelerChange(index, 'vaxId', e.target.value)}\n                placeholder=\"Enter VAX ID\"\n                title=\"Enter the traveler's VAX ID (optional)\"\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderPhase2 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Choose Your Insurance Plan</h2>\n      <p>Select the coverage that best fits your travel needs.</p>\n      \n      <div className=\"quote-options\">\n        {quoteOptions.map(option => (\n          <div \n            key={option.id} \n            className={`quote-option ${formData.selectedQuote?.id === option.id ? 'selected' : ''}`}\n            onClick={() => selectQuote(option)}\n          >\n            <div className=\"quote-header\">\n              <h3>{option.name}</h3>\n              <div className=\"quote-price\">\n                <p className=\"price-amount\">€{option.price}</p>\n                <p className=\"price-period\">per trip</p>\n              </div>\n            </div>\n            \n            <ul className=\"quote-features\">\n              <li>Medical Coverage: {option.coverage.medical}</li>\n              <li>Baggage Coverage: {option.coverage.baggage}</li>\n              <li>Cancellation: {option.coverage.cancellation}</li>\n              {option.features.map((feature, index) => (\n                <li key={index}>{feature}</li>\n              ))}\n            </ul>\n            \n            <button \n              className=\"select-button\"\n              aria-label={formData.selectedQuote?.id === option.id ? 'Plan selected' : `Select ${option.name} plan`}\n              title={formData.selectedQuote?.id === option.id ? 'This plan is currently selected' : `Choose the ${option.name} plan`}\n              type=\"button\"\n            >\n              {formData.selectedQuote?.id === option.id ? 'Selected' : 'SELECT PLAN'}\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderPhase3 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Enhance Your Coverage</h2>\n      <p>Add optional coverage for extra protection during your trip.</p>\n      \n      <div className=\"selected-plan-summary\">\n        <div className=\"current-plan\">\n          <h3>Your Selected Plan</h3>\n          {formData.selectedQuote && (\n            <div className=\"plan-info\">\n              <div className=\"plan-name\">{formData.selectedQuote.name}</div>\n              <div className=\"plan-price\">€{formData.selectedQuote.price}</div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"additional-policies\">\n        <h3>Optional Coverage Add-ons</h3>\n        <div className=\"policies-grid\">\n          {availableAdditionalPolicies.map(policy => {\n            const isSelected = formData.additionalPolicies.some(p => p.id === policy.id);\n            return (\n              <div key={policy.id} className={`policy-card ${isSelected ? 'selected' : ''}`}>\n                <div className=\"policy-header\">\n                  <div className=\"policy-icon\">{policy.icon}</div>\n                  <div className=\"policy-info\">\n                    <h4>{policy.name}</h4>\n                    <div className=\"policy-price\">€{policy.price.toFixed(2)}</div>\n                  </div>\n                  <button \n                    className={`policy-btn ${isSelected ? 'remove' : 'add'}`}\n                    onClick={() => isSelected ? removeAdditionalPolicy(policy.id) : addAdditionalPolicy(policy)}\n                  >\n                    {isSelected ? 'REMOVE' : 'ADD'}\n                  </button>\n                </div>\n                <div className=\"policy-description\">\n                  <p>{policy.description}</p>\n                  {policy.id === 'excess-waiver' && (\n                    <button \n                      className=\"find-out-more\" \n                      onClick={() => alert('More information about Excess Waiver coverage will be available soon.')}\n                      aria-label=\"Learn more about Excess Waiver coverage\"\n                      title=\"Get more information about Excess Waiver coverage\"\n                      type=\"button\"\n                    >\n                      Find out more\n                    </button>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"total-summary-box\">\n        <div className=\"summary-content\">\n          <div className=\"base-plan\">\n            <span>Base Plan: {formData.selectedQuote?.name}</span>\n            <span>€{formData.selectedQuote?.price}</span>\n          </div>\n          {formData.additionalPolicies.map(policy => (\n            <div key={policy.id} className=\"additional-item\">\n              <span>{policy.name}</span>\n              <span>€{policy.price.toFixed(2)}</span>\n            </div>\n          ))}\n          <div className=\"total-line\">\n            <span className=\"total-label\">Total Premium:</span>\n            <span className=\"total-amount\">€{calculateTotalPrice().toFixed(2)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderPhase4 = () => {\n    const calculateTripDuration = () => {\n      if (formData.startDate && formData.endDate) {\n        const start = new Date(formData.startDate);\n        const end = new Date(formData.endDate);\n        const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 3600 * 24));\n        return days;\n      }\n      return 0;\n    };\n\n    return (\n      <div className=\"wizard-phase\">\n        <h2>Review Your Details</h2>\n        <p>Please carefully review all information below. You can go back to make changes if needed.</p>\n        \n        <div className=\"professional-summary\">\n          {/* Trip Overview Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>🌍 Trip Overview</h3>\n            </div>\n            <div className=\"card-content\">\n              <div className=\"summary-grid\">\n                <div className=\"summary-row\">\n                  <span className=\"label\">Insurance Type:</span>\n                  <span className=\"value\">{\n                    formData.tripType === 'single' ? 'Single Trip Insurance' :\n                    formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' :\n                    'Comprehensive Single Trip Insurance'\n                  }</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Country of Residence:</span>\n                  <span className=\"value\">{formData.countryOfResidence}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Destination:</span>\n                  <span className=\"value\">{formData.destination}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Departure Date:</span>\n                  <span className=\"value\">{formatDateToEuropean(formData.startDate)}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Return Date:</span>\n                  <span className=\"value\">{formatDateToEuropean(formData.endDate)}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Trip Duration:</span>\n                  <span className=\"value\">{calculateTripDuration()} days</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Number of Travelers:</span>\n                  <span className=\"value\">{formData.numberOfTravelers} {formData.numberOfTravelers === 1 ? 'person' : 'people'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Travelers Information Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>👥 Traveler Information</h3>\n            </div>\n            <div className=\"card-content\">\n              {formData.travelers.map((traveler, index) => (\n                <div key={index} className=\"traveler-card\">\n                  <div className=\"traveler-header\">\n                    <h4>Primary {index === 0 ? 'Policyholder' : `Traveler ${index + 1}`}</h4>\n                  </div>\n                  <div className=\"traveler-details\">\n                    <div className=\"detail-grid\">\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Full Name:</span>\n                        <span className=\"detail-value\">{traveler.firstName} {traveler.lastName}</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Age:</span>\n                        <span className=\"detail-value\">{traveler.age} years old</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Email Address:</span>\n                        <span className=\"detail-value\">{traveler.email}</span>\n                      </div>\n                      {traveler.phone && (\n                        <div className=\"detail-item\">\n                          <span className=\"detail-label\">Phone Number:</span>\n                          <span className=\"detail-value\">{traveler.phone}</span>\n                        </div>\n                      )}\n                      {traveler.vaxId && (\n                        <div className=\"detail-item\">\n                          <span className=\"detail-label\">VAX ID:</span>\n                          <span className=\"detail-value\">{traveler.vaxId}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Insurance Plan Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>🛡️ Selected Insurance Plan</h3>\n            </div>\n            <div className=\"card-content\">\n              {formData.selectedQuote && (\n                <div className=\"plan-summary\">\n                  <div className=\"plan-header\">\n                    <h4>{formData.selectedQuote.name}</h4>\n                    <div className=\"plan-price\">\n                      <span className=\"price-label\">Total Premium:</span>\n                      <span className=\"price-value\">€{calculateTotalPrice().toFixed(2)}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"coverage-overview\">\n                    <h5>Coverage Limits</h5>\n                    <div className=\"coverage-grid\">\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">🏥</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Medical Emergency</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.medical}</span>\n                        </div>\n                      </div>\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">🧳</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Baggage Protection</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.baggage}</span>\n                        </div>\n                      </div>\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">❌</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Trip Cancellation</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.cancellation}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"features-overview\">\n                    <h5>Included Benefits</h5>\n                    <div className=\"features-grid\">\n                      {formData.selectedQuote.features.map((feature, index) => (\n                        <div key={index} className=\"feature-item\">\n                          <span className=\"feature-check\">✓</span>\n                          <span className=\"feature-text\">{feature}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Summary Totals */}\n          <div className=\"summary-card total-card\">\n            <div className=\"card-content\">\n              <div className=\"total-summary\">\n                <div className=\"total-row\">\n                  <span className=\"total-label\">Base Premium:</span>\n                  <span className=\"total-value\">€{formData.selectedQuote?.price}</span>\n                </div>\n                {formData.additionalPolicies.length > 0 && (\n                  <div className=\"total-row\">\n                    <span className=\"total-label\">Additional Policies:</span>\n                    <span className=\"total-value\">€{formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0).toFixed(2)}</span>\n                  </div>\n                )}\n                <div className=\"total-row\">\n                  <span className=\"total-label\">Taxes & Fees:</span>\n                  <span className=\"total-value\">Included</span>\n                </div>\n                <div className=\"total-row final-total\">\n                  <span className=\"total-label\">Total Amount:</span>\n                  <span className=\"total-value\">€{calculateTotalPrice().toFixed(2)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderPhase5 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Confirmation</h2>\n      <p>Please confirm that all details are correct before proceeding to payment.</p>\n      \n      <div className=\"confirmation-box\">\n        <div className=\"confirmation-item\">\n          <strong>Trip:</strong> {formData.destination} ({formatDateToEuropean(formData.startDate)} to {formatDateToEuropean(formData.endDate)})\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Country of Residence:</strong> {formData.countryOfResidence}\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Travelers:</strong> {formData.numberOfTravelers} person{formData.numberOfTravelers > 1 ? 's' : ''}\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Plan:</strong> {formData.selectedQuote?.name}\n        </div>\n        <div className=\"confirmation-item total\">\n          <strong>Total Amount:</strong> €{calculateTotalPrice().toFixed(2)}\n        </div>\n      </div>\n      \n      <div className=\"terms-section\">\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" required />\n          <span>I agree to the <button \n            className=\"link-button\" \n            onClick={() => onNavigate?.('privacy')}\n            style={{ background: 'none', border: 'none', color: '#0077b6', textDecoration: 'underline', cursor: 'pointer' }}\n          >\n            Terms and Conditions\n          </button></span>\n        </label>\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" required />\n          <span>I agree to the <button \n            className=\"link-button\" \n            onClick={() => onNavigate?.('privacy')}\n            style={{ background: 'none', border: 'none', color: '#0077b6', textDecoration: 'underline', cursor: 'pointer' }}\n          >\n            Privacy Policy\n          </button></span>\n        </label>\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" />\n          <span>I would like to receive marketing emails about travel insurance offers</span>\n        </label>\n      </div>\n    </div>\n  );\n\n  const renderPhase6 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Payment Details</h2>\n      <p>Enter your payment information to complete your purchase.</p>\n      \n      \n      <div className=\"payment-section\">\n        <div className=\"payment-methods\">\n          <h3>Payment Method</h3>\n          <div className=\"payment-method-info\">\n            <p>We accept all major credit and debit cards for secure payment processing.</p>\n          </div>\n        </div>\n\n        <div className=\"card-details\">\n          <h3>Card Details</h3>\n          <div className=\"form-group\">\n            <label htmlFor=\"cardNumber\">Card Number</label>\n            <input\n              type=\"text\"\n              id=\"cardNumber\"\n              value={formData.cardNumber}\n              onChange={(e) => handleInputChange('cardNumber', e.target.value)}\n              placeholder=\"1234 5678 9012 3456\"\n              title=\"Enter your 16-digit card number\"\n              required\n            />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"expiryDate\">Expiry Date</label>\n              <input\n                type=\"text\"\n                id=\"expiryDate\"\n                value={formData.expiryDate}\n                onChange={(e) => handleInputChange('expiryDate', e.target.value)}\n                placeholder=\"MM/YY\"\n                title=\"Enter card expiry date in MM/YY format\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"cvv\">CVV</label>\n              <input\n                type=\"text\"\n                id=\"cvv\"\n                value={formData.cvv}\n                onChange={(e) => handleInputChange('cvv', e.target.value)}\n                placeholder=\"123\"\n                title=\"Enter the 3-digit CVV code from the back of your card\"\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"billing-address\">\n          <h3>Billing Address</h3>\n          <div className=\"form-group\">\n            <label htmlFor=\"street\">Street Address</label>\n            <input\n              type=\"text\"\n              id=\"street\"\n              value={formData.billingAddress.street}\n              onChange={(e) => handleBillingAddressChange('street', e.target.value)}\n              placeholder=\"Enter street address\"\n              title=\"Enter your billing street address\"\n              required\n            />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"city\">City</label>\n              <input\n                type=\"text\"\n                id=\"city\"\n                value={formData.billingAddress.city}\n                onChange={(e) => handleBillingAddressChange('city', e.target.value)}\n                placeholder=\"Enter city\"\n                title=\"Enter your billing city\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"postalCode\">Postal Code</label>\n              <input\n                type=\"text\"\n                id=\"postalCode\"\n                value={formData.billingAddress.postalCode}\n                onChange={(e) => handleBillingAddressChange('postalCode', e.target.value)}\n                placeholder=\"Enter postal code\"\n                title=\"Enter your billing postal code\"\n                required\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"country\">Country</label>\n            <input\n              type=\"text\"\n              id=\"country\"\n              value={formData.billingAddress.country}\n              onChange={(e) => handleBillingAddressChange('country', e.target.value)}\n              placeholder=\"Enter country\"\n              title=\"Enter your billing country\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"payment-summary\">\n        <div className=\"summary-item\">\n          <strong>Total Amount: €{calculateTotalPrice().toFixed(2)}</strong>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderPhase7 = () => (\n    <div className=\"wizard-phase\">\n      <h2>🎉 Congratulations!</h2>\n      <p>Your travel insurance has been successfully purchased.</p>\n      \n      <div className=\"success-message\">\n        <div className=\"policy-number\">\n          <strong>Policy Number:</strong> {policyNumber || `TI-${Date.now().toString().slice(-8)}`}\n        </div>\n        <div className=\"confirmation-email\">\n          A confirmation email has been sent to {formData.travelers[0]?.email}\n        </div>\n      </div>\n      \n      <div className=\"documents-section\">\n        <h3>Your Documents</h3>\n        <div className=\"document-links\">\n          <button \n            onClick={downloadPolicyPDF} \n            className=\"document-link download-btn\"\n            aria-label=\"Download your policy summary as a PDF document\"\n            title=\"Download a PDF copy of your travel insurance policy summary\"\n            type=\"button\"\n          >\n            📄 Download Your Policy Summary (PDF)\n          </button>\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            📄 Download Policy Certificate\n          </a>\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            📋 Download Policy Terms & Conditions\n          </a>\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            🆔 Download Insurance Card\n          </a>\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            📞 Emergency Contact Information\n          </a>\n        </div>\n      </div>\n      \n      <div className=\"next-steps\">\n        <h3>What's Next?</h3>\n        <ul>\n          <li>Save your policy documents in a safe place</li>\n          <li>Keep the emergency contact numbers with you while traveling</li>\n          <li>Download our mobile app for easy access to your policy</li>\n          <li>Contact us anytime at +30 6974907500 for assistance</li>\n        </ul>\n      </div>\n    </div>\n  );\n\n  const renderPhaseContent = () => {\n    switch (currentPhase) {\n      case 1:\n        return renderPhase1();\n      case 2:\n        return renderPhase2();\n      case 3:\n        return renderPhase3();\n      case 4:\n        return renderPhase4();\n      case 5:\n        return renderPhase5();\n      case 6:\n        return renderPhase6();\n      case 7:\n        return renderPhase7();\n      default:\n        return renderPhase1();\n    }\n  };\n\n  return (\n    <div className=\"quote-page\">\n      <div className=\"container\">\n        <div className=\"wizard-header\">\n          <h1>Travel Insurance Quote Wizard</h1>\n          <div className=\"wizard-progress\">\n            {[1, 2, 3, 4, 5, 6, 7].map(phase => (\n              <div key={phase} className={`progress-step ${currentPhase >= phase ? 'active' : ''} ${currentPhase === phase ? 'current' : ''}`}>\n                <div className=\"step-number\">{phase}</div>\n                <div className=\"step-label\">\n                  {phase === 1 && 'Details'}\n                  {phase === 2 && 'Quotes'}\n                  {phase === 3 && 'Add-ons'}\n                  {phase === 4 && 'Review'}\n                  {phase === 5 && 'Confirm'}\n                  {phase === 6 && 'Payment'}\n                  {phase === 7 && 'Documents'}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"wizard-content\">\n          {renderPhaseContent()}\n        </div>\n\n        <div className=\"wizard-navigation\">\n          {currentPhase > 1 && currentPhase < 7 && (\n            <button \n              className=\"btn btn-secondary\" \n              onClick={prevPhase}\n              aria-label=\"Go to previous step\"\n              title=\"Go back to the previous step\"\n              type=\"button\"\n            >\n              Previous\n            </button>\n          )}\n          \n          {currentPhase < 6 && (\n            <button \n              className=\"btn btn-primary\" \n              onClick={nextPhase}\n              disabled={!isPhaseValid(currentPhase)}\n              aria-label={currentPhase === 5 ? 'Proceed to payment step' : 'Go to next step'}\n              title={currentPhase === 5 ? 'Continue to payment details' : 'Continue to next step'}\n              type=\"button\"\n            >\n              {currentPhase === 5 ? 'Proceed to Payment' : 'Next'}\n            </button>\n          )}\n          \n          {currentPhase === 6 && (\n            <>\n              <button \n                className=\"btn btn-primary\" \n                onClick={processPayment}\n                disabled={!isPhaseValid(currentPhase) || isProcessing}\n                aria-label={isProcessing ? 'Processing payment, please wait' : `Pay €${calculateTotalPrice().toFixed(2)} for your travel insurance`}\n                title={isProcessing ? 'Payment is being processed, please wait' : `Complete payment of €${calculateTotalPrice().toFixed(2)}`}\n                type=\"button\"\n                style={{\n                  opacity: (!isPhaseValid(currentPhase) || isProcessing) ? 0.5 : 1,\n                  cursor: (!isPhaseValid(currentPhase) || isProcessing) ? 'not-allowed' : 'pointer'\n                }}\n              >\n                {isProcessing ? 'Processing Payment...' : `Pay €${calculateTotalPrice().toFixed(2)}`}\n              </button>\n              \n            </>\n          )}\n          \n          {currentPhase === 7 && (\n            <button \n              className=\"btn btn-primary\" \n              onClick={() => window.location.href = '/'}\n              aria-label=\"Return to homepage\"\n              title=\"Go back to the main homepage\"\n              type=\"button\"\n            >\n              Return to Homepage\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Quote;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}