{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laptop-123\\\\TravelInsurance_Demo_2\\\\src\\\\pages\\\\Quote2.tsx\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './Quote2.css';\n// Import API service for database integration\nimport { createQuote, processPayment as apiProcessPayment } from '../services/apiService';\n// Import Terracotta service for insurance quotes\nimport TerracottaService from '../services/terracottaService';\n\n// Import jsPDF dynamically to avoid build issues\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst generatePDF = async (formData, calculateTotalPrice, formatDateToEuropean, policyNumber) => {\n  try {\n    var _formData$selectedQuo;\n    // Dynamic import of jsPDF\n    const jsPDF = (await import('jspdf')).default;\n    const doc = new jsPDF();\n    const currentDate = new Date().toLocaleDateString('en-GB');\n\n    // Set up fonts and styles\n    doc.setFontSize(20);\n    doc.text('TRAVEL INSURANCE POLICY', 20, 20);\n    doc.setFontSize(14);\n    doc.text(`Policy Number: ${policyNumber}`, 20, 35);\n    doc.text(`Issue Date: ${currentDate}`, 20, 45);\n    let yPos = 65;\n\n    // Trip Information Section\n    doc.setFontSize(16);\n    doc.text('TRIP INFORMATION', 20, yPos);\n    yPos += 15;\n    doc.setFontSize(12);\n    const tripType = formData.tripType === 'single' ? 'Single Trip Insurance' : formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' : 'Comprehensive Single Trip Insurance';\n    doc.text(`Trip Type: ${tripType}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Country of Residence: ${formData.countryOfResidence}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Destination: ${formData.destination}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Departure: ${formatDateToEuropean(formData.startDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Return: ${formatDateToEuropean(formData.endDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Travelers: ${formData.numberOfTravelers}`, 20, yPos);\n    yPos += 20;\n\n    // Traveler Information\n    doc.setFontSize(16);\n    doc.text('TRAVELER INFORMATION', 20, yPos);\n    yPos += 15;\n    doc.setFontSize(12);\n    formData.travelers.forEach((traveler, index) => {\n      if (yPos > 250) {\n        // New page if needed\n        doc.addPage();\n        yPos = 20;\n      }\n      doc.text(`${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}:`, 20, yPos);\n      yPos += 10;\n      doc.text(`Name: ${traveler.firstName} ${traveler.lastName}`, 20, yPos);\n      yPos += 8;\n      doc.text(`Age: ${traveler.age} years old`, 20, yPos);\n      yPos += 8;\n      doc.text(`Email: ${traveler.email}`, 20, yPos);\n      yPos += 8;\n      if (traveler.phone) {\n        doc.text(`Phone: ${traveler.phone}`, 20, yPos);\n        yPos += 8;\n      }\n      yPos += 10;\n    });\n\n    // Selected Plan\n    if (formData.selectedQuote) {\n      if (yPos > 180) {\n        doc.addPage();\n        yPos = 20;\n      }\n      doc.setFontSize(16);\n      doc.text('SELECTED INSURANCE PLAN', 20, yPos);\n      yPos += 15;\n      doc.setFontSize(12);\n      doc.text(`Plan: ${formData.selectedQuote.name}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Medical: ${formData.selectedQuote.coverage.medical}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Baggage: ${formData.selectedQuote.coverage.baggage}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Cancellation: ${formData.selectedQuote.coverage.cancellation}`, 20, yPos);\n      yPos += 15;\n\n      // Add Included Features\n      if (formData.selectedQuote.features && formData.selectedQuote.features.length > 0) {\n        doc.text('Included Features:', 20, yPos);\n        yPos += 10;\n        formData.selectedQuote.features.forEach(feature => {\n          if (yPos > 270) {\n            // Check for page break\n            doc.addPage();\n            yPos = 20;\n          }\n          doc.text(`â€¢ ${feature}`, 25, yPos);\n          yPos += 8;\n        });\n        yPos += 10;\n      }\n    }\n\n    // Additional Coverage\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      if (yPos > 220) {\n        doc.addPage();\n        yPos = 20;\n      }\n      doc.setFontSize(16);\n      doc.text('ADDITIONAL COVERAGE', 20, yPos);\n      yPos += 15;\n      doc.setFontSize(12);\n      formData.additionalPolicies.forEach(policy => {\n        if (yPos > 270) {\n          // Check for page break\n          doc.addPage();\n          yPos = 20;\n        }\n        doc.text(`â€¢ ${policy.name} - â‚¬${policy.price.toFixed(2)}`, 25, yPos);\n        yPos += 8;\n      });\n      yPos += 15;\n    }\n\n    // Premium Summary\n    if (yPos > 200) {\n      doc.addPage();\n      yPos = 20;\n    }\n    doc.setFontSize(16);\n    doc.text('PREMIUM SUMMARY', 20, yPos);\n    yPos += 15;\n    doc.setFontSize(12);\n    doc.text(`Base Premium: â‚¬${(_formData$selectedQuo = formData.selectedQuote) === null || _formData$selectedQuo === void 0 ? void 0 : _formData$selectedQuo.price}`, 20, yPos);\n    yPos += 10;\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      const additional = formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0);\n      doc.text(`Additional Policies: â‚¬${additional.toFixed(2)}`, 20, yPos);\n      yPos += 10;\n    }\n    doc.text('Taxes & Fees: Included', 20, yPos);\n    yPos += 10;\n    doc.text(`Total Premium: â‚¬${calculateTotalPrice().toFixed(2)}`, 20, yPos);\n    yPos += 20;\n    doc.text('Emergency Contact: +30 6974907500', 20, yPos);\n\n    // Save the PDF\n    doc.save(`Travel_Insurance_Policy_${policyNumber}.pdf`);\n  } catch (error) {\n    console.error('PDF generation failed, falling back to HTML:', error);\n    // Fallback to HTML generation if PDF fails\n    generateHTMLPolicy(formData, calculateTotalPrice, formatDateToEuropean, policyNumber);\n  }\n};\nconst generateHTMLPolicy = (formData, calculateTotalPrice, formatDateToEuropean, policyNumber) => {\n  var _formData$selectedQuo2;\n  const currentDate = new Date().toLocaleDateString('en-GB');\n  const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Travel Insurance Policy - ${policyNumber}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n        .header { text-align: center; border-bottom: 2px solid #0077b6; padding-bottom: 20px; margin-bottom: 30px; }\n        .section { margin-bottom: 25px; }\n        .section-title { color: #0077b6; font-size: 16px; font-weight: bold; margin-bottom: 10px; }\n        .info-row { margin: 8px 0; }\n        .traveler-block { margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; }\n        @media print { body { margin: 0; } }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>TRAVEL INSURANCE POLICY</h1>\n        <h2>Policy Number: ${policyNumber}</h2>\n        <p>Issue Date: ${currentDate}</p>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRIP INFORMATION</div>\n        <div class=\"info-row\"><strong>Trip Type:</strong> ${formData.tripType === 'single' ? 'Single Trip Insurance' : formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' : 'Comprehensive Single Trip Insurance'}</div>\n        <div class=\"info-row\"><strong>Country of Residence:</strong> ${formData.countryOfResidence}</div>\n        <div class=\"info-row\"><strong>Destination:</strong> ${formData.destination}</div>\n        <div class=\"info-row\"><strong>Departure:</strong> ${formatDateToEuropean(formData.startDate)}</div>\n        <div class=\"info-row\"><strong>Return:</strong> ${formatDateToEuropean(formData.endDate)}</div>\n        <div class=\"info-row\"><strong>Travelers:</strong> ${formData.numberOfTravelers}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRAVELER INFORMATION</div>\n        ${formData.travelers.map((traveler, index) => `\n            <div class=\"traveler-block\">\n                <strong>${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}</strong>\n                <div class=\"info-row\"><strong>Name:</strong> ${traveler.firstName} ${traveler.lastName}</div>\n                <div class=\"info-row\"><strong>Age:</strong> ${traveler.age} years old</div>\n                <div class=\"info-row\"><strong>Email:</strong> ${traveler.email}</div>\n                ${traveler.phone ? `<div class=\"info-row\"><strong>Phone:</strong> ${traveler.phone}</div>` : ''}\n            </div>\n        `).join('')}\n    </div>\n    \n    ${formData.selectedQuote ? `\n    <div class=\"section\">\n        <div class=\"section-title\">SELECTED INSURANCE PLAN</div>\n        <div class=\"info-row\"><strong>Plan:</strong> ${formData.selectedQuote.name}</div>\n        <div class=\"info-row\"><strong>Medical Coverage:</strong> ${formData.selectedQuote.coverage.medical}</div>\n        <div class=\"info-row\"><strong>Baggage Coverage:</strong> ${formData.selectedQuote.coverage.baggage}</div>\n        <div class=\"info-row\"><strong>Trip Cancellation:</strong> ${formData.selectedQuote.coverage.cancellation}</div>\n        \n        ${formData.selectedQuote.features && formData.selectedQuote.features.length > 0 ? `\n        <div style=\"margin-top: 15px;\">\n            <strong>Included Features:</strong>\n            <ul>\n                ${formData.selectedQuote.features.map(feature => `<li>${feature}</li>`).join('')}\n            </ul>\n        </div>\n        ` : ''}\n    </div>\n    ` : ''}\n    \n    ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n    <div class=\"section\">\n        <div class=\"section-title\">ADDITIONAL COVERAGE</div>\n        <ul>\n            ${formData.additionalPolicies.map(policy => `<li>${policy.name} - â‚¬${policy.price.toFixed(2)}</li>`).join('')}\n        </ul>\n    </div>\n    ` : ''}\n    \n    <div class=\"section\">\n        <div class=\"section-title\">PREMIUM SUMMARY</div>\n        <div class=\"info-row\"><strong>Base Premium:</strong> â‚¬${(_formData$selectedQuo2 = formData.selectedQuote) === null || _formData$selectedQuo2 === void 0 ? void 0 : _formData$selectedQuo2.price}</div>\n        ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n        <div class=\"info-row\"><strong>Additional Policies:</strong> â‚¬${formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0).toFixed(2)}</div>\n        ` : ''}\n        <div class=\"info-row\"><strong>Taxes & Fees:</strong> Included</div>\n        <div class=\"info-row\"><strong>Total Premium:</strong> â‚¬${calculateTotalPrice().toFixed(2)}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"info-row\"><strong>Emergency Contact:</strong> +30 6974907500</div>\n        <div class=\"info-row\" style=\"margin-top: 20px; font-style: italic;\">\n            This document serves as proof of travel insurance coverage.\n        </div>\n    </div>\n    \n    <script>\n        window.onload = function() { window.print(); };\n        window.onafterprint = function() { window.close(); };\n    </script>\n</body>\n</html>`;\n  const printWindow = window.open('', '_blank', 'width=800,height=600');\n  if (printWindow) {\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n  }\n};\n\n// Format date to European format (DD/MM/YYYY)\nconst formatDateToEuropean = dateString => {\n  if (!dateString) return '';\n  // Parse the ISO date string directly to avoid timezone issues\n  const [year, month, day] = dateString.split('-');\n  return `${day}/${month}/${year}`;\n};\nconst calculateAgeFromDateOfBirth = dateOfBirth => {\n  const birthDate = new Date(dateOfBirth);\n  const today = new Date();\n  let age = today.getFullYear() - birthDate.getFullYear();\n  const monthDiff = today.getMonth() - birthDate.getMonth();\n  if (monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate()) {\n    age--;\n  }\n  return Math.max(0, age);\n};\nconst Quote2 = ({\n  onNavigate\n}) => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [currentPhase, setCurrentPhase] = useState(1);\n  const [formData, setFormData] = useState({\n    destination: '',\n    startDate: '',\n    endDate: '',\n    tripType: 'single',\n    countryOfResidence: '',\n    numberOfTravelers: 1,\n    travelers: [{\n      firstName: '',\n      lastName: '',\n      age: '',\n      email: '',\n      phone: '',\n      vaxId: '',\n      nationality: ''\n    }],\n    selectedQuote: null,\n    additionalPolicies: [],\n    paymentMethod: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    billingAddress: {\n      street: '',\n      city: '',\n      postalCode: '',\n      country: ''\n    }\n  });\n  const [quoteOptions, setQuoteOptions] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [policyNumber, setPolicyNumber] = useState('');\n  const [terracottaService] = useState(() => {\n    console.log('Creating TerracottaService instance...');\n    return TerracottaService.getInstance('4072', '111427');\n  });\n  const [screeningQuestions, setScreeningQuestions] = useState([]);\n  const [screeningAnswers, setScreeningAnswers] = useState({});\n  const [isLoadingQuotes, setIsLoadingQuotes] = useState(false);\n  const [quoteError, setQuoteError] = useState('');\n  const [availableProducts, setAvailableProducts] = useState([]);\n  const [isLoadingProducts, setIsLoadingProducts] = useState(true);\n\n  // Policy types state\n  const [availablePolicyTypes, setAvailablePolicyTypes] = useState([]);\n  const [isLoadingPolicyTypes, setIsLoadingPolicyTypes] = useState(false);\n\n  // Destination categories state\n  const [destinationCategories, setDestinationCategories] = useState([]);\n  const [isLoadingCategories, setIsLoadingCategories] = useState(false);\n\n  // Help popup state\n  const [showHelpPopup, setShowHelpPopup] = useState(false);\n  const [countriesByCategory, setCountriesByCategory] = useState({});\n  const [isLoadingCountries, setIsLoadingCountries] = useState(false);\n\n  // Countries of residence state\n  const [countriesOfResidence, setCountriesOfResidence] = useState([]);\n  const [isLoadingCountriesOfResidence, setIsLoadingCountriesOfResidence] = useState(false);\n  const [availableAdditionalPolicies] = useState([{\n    id: 'excess-waiver',\n    name: 'Excess Waiver',\n    description: 'You can avoid paying the policy excess by adding the Excess Waiver option. This means that in the event of a claim, you won\\'t have the excess deducted from the amount you are paid.',\n    price: 8.45,\n    icon: 'ðŸ›¡ï¸',\n    category: 'Protection'\n  }, {\n    id: 'cancellation-top-up',\n    name: 'Cancellation Top Up',\n    description: 'Additional cancellation coverage for enhanced protection against trip cancellation costs.',\n    price: 15.50,\n    icon: 'âŒ',\n    category: 'Cancellation'\n  }, {\n    id: 'hazardous-pursuits-cat3',\n    name: 'Hazardous Pursuits Category 3',\n    description: 'Coverage for adventure sports and activities including skiing, snowboarding, and water sports.',\n    price: 12.30,\n    icon: 'ðŸ‚',\n    category: 'Activities'\n  }, {\n    id: 'hazardous-pursuits-cat4',\n    name: 'Hazardous Pursuits Category 4',\n    description: 'Coverage for extreme sports including rock climbing, bungee jumping, and skydiving.',\n    price: 18.75,\n    icon: 'ðŸª‚',\n    category: 'Activities'\n  }, {\n    id: 'valuables',\n    name: 'Valuables',\n    description: 'Enhanced coverage for valuable items including jewelry, electronics, and expensive equipment.',\n    price: 22.40,\n    icon: 'ðŸ’Ž',\n    category: 'Protection'\n  }, {\n    id: 'golfers-extension',\n    name: 'Golfers Extension',\n    description: 'Specialized coverage for golf equipment, green fees, and golf-related incidents.',\n    price: 14.80,\n    icon: 'â›³',\n    category: 'Sports'\n  }, {\n    id: 'event-cancellation',\n    name: 'Event Cancellation',\n    description: 'Coverage for cancellation of prepaid events, concerts, or special occasions during your trip.',\n    price: 19.95,\n    icon: 'ðŸŽ«',\n    category: 'Events'\n  }, {\n    id: 'repatriation-home',\n    name: 'Repatriation Home For Australians, South Africans, And New Zealanders',\n    description: 'Special repatriation coverage for travelers from Australia, South Africa, and New Zealand.',\n    price: 25.60,\n    icon: 'âœˆï¸',\n    category: 'Repatriation'\n  }]);\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }, []);\n\n  // Load available Terracotta products on component mount\n  useEffect(() => {\n    const loadTerracottaProducts = async () => {\n      try {\n        var _productResponse$Sche;\n        setIsLoadingProducts(true);\n        console.log('Loading Terracotta products...');\n        const productResponse = await terracottaService.getUserProductList();\n        console.log('Terracotta products loaded:', productResponse);\n        console.log(`âœ… Successfully loaded ${((_productResponse$Sche = productResponse.Schemas) === null || _productResponse$Sche === void 0 ? void 0 : _productResponse$Sche.length) || 0} products for your account`);\n        setAvailableProducts(productResponse.Schemas || []);\n        setIsLoadingProducts(false);\n      } catch (error) {\n        console.error('Error loading Terracotta products:', error);\n        setIsLoadingProducts(false);\n        // Don't show error to user, just log it - we'll use fallback\n      }\n    };\n    loadTerracottaProducts();\n  }, [terracottaService]);\n\n  // Load policy types when products are available\n  useEffect(() => {\n    const loadPolicyTypes = async () => {\n      if (availableProducts.length === 0) return;\n      try {\n        setIsLoadingPolicyTypes(true);\n        console.log('Loading policy types for available products...');\n\n        // Load policy types for each product (schema)\n        const allPolicyTypes = [];\n        for (const product of availableProducts) {\n          try {\n            console.log(`Loading policy types for schema ${product.SchemaID}: ${product.SchemaName}`);\n            const policyResponse = await terracottaService.getUserProductTypePolicy(product.SchemaID.toString());\n            console.log(`Policy types for schema ${product.SchemaID}:`, policyResponse);\n\n            // Add schema context to each policy type\n            const policyTypesWithSchema = policyResponse.PolicyTypes.map(policyType => ({\n              ...policyType,\n              SchemaID: product.SchemaID,\n              SchemaName: product.SchemaName\n            }));\n            allPolicyTypes.push(...policyTypesWithSchema);\n          } catch (error) {\n            console.error(`Error loading policy types for schema ${product.SchemaID}:`, error);\n          }\n        }\n\n        // Remove duplicates based on TypePolicyID\n        const uniquePolicyTypes = allPolicyTypes.filter((policyType, index, self) => index === self.findIndex(p => p.TypePolicyID === policyType.TypePolicyID));\n        setAvailablePolicyTypes(uniquePolicyTypes);\n        console.log(`âœ… Successfully loaded ${uniquePolicyTypes.length} unique policy types`);\n        setIsLoadingPolicyTypes(false);\n      } catch (error) {\n        console.error('Error loading policy types:', error);\n        setIsLoadingPolicyTypes(false);\n      }\n    };\n    loadPolicyTypes();\n  }, [availableProducts, terracottaService]);\n\n  // Show a brief message when end date is cleared due to start date change\n  useEffect(() => {\n    if (formData.startDate && !formData.endDate) {\n      // This effect will run when start date exists but end date is empty\n      // We could add a toast notification here if needed\n    }\n  }, [formData.startDate, formData.endDate]);\n\n  // Load countries of residence on component mount\n  useEffect(() => {\n    const loadCountriesOfResidence = async () => {\n      try {\n        setIsLoadingCountriesOfResidence(true);\n        console.log('Loading countries of residence...');\n        const response = await fetch('http://localhost:5002/api/countries');\n        const data = await response.json();\n        if (data.status === 'success') {\n          setCountriesOfResidence(data.countries);\n          console.log('âœ… Countries of residence loaded:', data.countries.length, 'countries');\n        } else {\n          console.error('âŒ Failed to load countries of residence:', data.message);\n        }\n      } catch (error) {\n        console.error('âŒ Error loading countries of residence:', error);\n      } finally {\n        setIsLoadingCountriesOfResidence(false);\n      }\n    };\n    loadCountriesOfResidence();\n  }, []);\n\n  // Load destination categories on component mount\n  useEffect(() => {\n    const loadDestinationCategories = async () => {\n      try {\n        setIsLoadingCategories(true);\n        console.log('Loading destination categories...');\n        const response = await fetch('http://localhost:5002/api/destination-categories');\n        const data = await response.json();\n        if (data.status === 'success') {\n          setDestinationCategories(data.categories);\n          console.log('âœ… Destination categories loaded:', data.categories);\n        } else {\n          console.error('âŒ Failed to load destination categories:', data.message);\n        }\n      } catch (error) {\n        console.error('âŒ Error loading destination categories:', error);\n        // Set fallback categories if API fails\n        setDestinationCategories(['Europe', 'Worldwide']);\n      } finally {\n        setIsLoadingCategories(false);\n      }\n    };\n    loadDestinationCategories();\n  }, []);\n\n  // Load countries for each category when categories are loaded\n  useEffect(() => {\n    const loadCountriesForCategories = async () => {\n      if (destinationCategories.length === 0) return;\n      try {\n        setIsLoadingCountries(true);\n        const countriesData = {};\n\n        // Load countries for each category\n        for (const category of destinationCategories) {\n          try {\n            const response = await fetch(`http://localhost:5002/api/destination-categories/${encodeURIComponent(category)}/countries`);\n            const data = await response.json();\n            if (data.status === 'success') {\n              countriesData[category] = data.countries;\n            }\n          } catch (error) {\n            console.error(`Error loading countries for ${category}:`, error);\n            countriesData[category] = [];\n          }\n        }\n        setCountriesByCategory(countriesData);\n      } catch (error) {\n        console.error('Error loading countries:', error);\n      } finally {\n        setIsLoadingCountries(false);\n      }\n    };\n    loadCountriesForCategories();\n  }, [destinationCategories]);\n\n  // Generate quotes when component mounts or when form data is complete\n  useEffect(() => {\n    const generateQuotesIfNeeded = async () => {\n      // Only generate quotes if we have basic form data and we're in phase 2\n      if (currentPhase === 2 && quoteOptions.length === 0) {\n        console.log('ðŸ”„ Generating quotes on component load...');\n        try {\n          const options = await generateQuoteOptions();\n          setQuoteOptions(options);\n        } catch (error) {\n          console.error('Error generating quotes:', error);\n        }\n      }\n    };\n    generateQuotesIfNeeded();\n  }, [currentPhase]);\n\n  // Automatically load sample quotes when reaching Phase 2\n  useEffect(() => {\n    if (currentPhase === 2) {\n      console.log('ðŸš€ Auto-loading TravelSafe sample quotes...');\n      const sampleQuotes = generateSampleSOAPQuotes();\n      setQuoteOptions(sampleQuotes);\n      setIsLoadingQuotes(false);\n    }\n  }, [currentPhase]);\n  const generateQuoteOptions = async () => {\n    setIsLoadingQuotes(true);\n    setQuoteError('');\n    try {\n      var _response$quoteResult;\n      console.log('ðŸš€ Getting real quotes from Terracotta SOAP API...');\n      console.log('Form data:', formData);\n\n      // Make a single SOAP request to get all available quotes\n      const terracottaRequest = TerracottaService.convertToTerracottaFormat(formData);\n      console.log('SOAP Request:', terracottaRequest);\n\n      // Get quotes from Terracotta SOAP API\n      const response = await terracottaService.provideQuotation(terracottaRequest);\n      console.log('SOAP Response:', response);\n      console.log('ðŸ“Š SOAP Response Message:', response.Message);\n      console.log('ðŸ“Š Quote Results Count:', ((_response$quoteResult = response.quoteResults) === null || _response$quoteResult === void 0 ? void 0 : _response$quoteResult.length) || 0);\n      if (response.quoteResults && response.quoteResults.length > 0) {\n        console.log('ðŸ“Š Processing SOAP results:', response.quoteResults);\n        // Convert SOAP response directly to QuoteOption format\n        const realQuotes = response.quoteResults.map((result, index) => {\n          console.log(`Processing quote ${index + 1}:`, result);\n          return {\n            id: `soap-${result.QuoteID}`,\n            name: `${result.schemaName} - ${result.typePolicyName || result.policytypeName}`,\n            type: result.isBestBuy === 1 ? 'premium' : result.GrossPrice > 100 ? 'standard' : 'basic',\n            price: result.GrossPrice || 0,\n            coverage: {\n              medical: result.coverLevel > 0 ? `â‚¬${(result.coverLevel * 1000000).toLocaleString()}` : 'â‚¬2,000,000',\n              baggage: 'â‚¬1,000',\n              // This would ideally come from SOAP response\n              cancellation: 'â‚¬2,000',\n              // This would ideally come from SOAP response\n              activities: ['Standard activities', 'Adventure sports']\n            },\n            features: ['24/7 Emergency Assistance', 'Medical Coverage', 'Trip Cancellation', 'Baggage Protection', ...(result.isAnnual === 1 ? ['Annual Multi-Trip Coverage'] : []), ...(result.isBestBuy === 1 ? ['Best Buy Option'] : []), ...(result.maxDaysPerTrip > 0 ? [`Up to ${result.maxDaysPerTrip} days per trip`] : [])],\n            // Real SOAP response data\n            terracottaQuoteId: result.QuoteID,\n            schemaName: result.schemaName,\n            policyTypeName: result.typePolicyName || result.policytypeName,\n            typePolicyName: result.typePolicyName || result.policytypeName,\n            summaryOfCoverUrl: result.SI,\n            policyWordingUrl: result.PW,\n            currency: result.currency,\n            ipt: result.IPT,\n            // Complete SOAP response fields\n            schemaID: result.SchemaID,\n            destinationCategory: result.destinationName,\n            tripType: formData.tripType,\n            residenceName: result.residenceName,\n            destinationName: result.destinationName,\n            packageName: result.packageName,\n            typePackageName: result.typePackageName,\n            isAnnual: result.isAnnual,\n            isBestBuy: result.isBestBuy,\n            isBestBuyText: result.isBestBuyText,\n            maxDaysPerTrip: result.maxDaysPerTrip,\n            coverLevel: result.coverLevel,\n            discount: result.Discount,\n            iconURL: result.IconURL,\n            helpFile: result.HelpFile,\n            policytypeShortName: result.policytypeShortName,\n            // Additional SOAP fields\n            keyFactsUrl: result.KF,\n            policyTypeID: result.PolicyTypeID,\n            destinationID: result.DestinationID,\n            packageID: result.PackageID,\n            screeningPremium: result.screeningPremium,\n            ipRate: result.IPTRate,\n            netUW: result.netUW,\n            wbComm: result.wbComm,\n            agentComm: result.agentComm\n          };\n        });\n        console.log(`âœ… Received ${realQuotes.length} real quotes from Terracotta SOAP API`);\n        setIsLoadingQuotes(false);\n        return realQuotes;\n      } else {\n        console.log('âš ï¸ No quotes in SOAP response, using sample data');\n        console.log('âš ï¸ Response message:', response.Message);\n        console.log('âš ï¸ This might be due to:');\n        console.log('   - Incorrect API credentials');\n        console.log('   - Invalid parameter values');\n        console.log('   - API restrictions or downtime');\n        console.log('   - Date range issues (past dates)');\n        setIsLoadingQuotes(false);\n        return generateSampleSOAPQuotes();\n      }\n    } catch (error) {\n      console.error('âŒ Error getting real SOAP quotes:', error);\n      setQuoteError('SOAP API unavailable. Showing sample quotes from your SOAP response.');\n      setIsLoadingQuotes(false);\n\n      // Fallback to sample SOAP response data\n      console.log('ðŸ”„ Using sample SOAP response data');\n      return generateSampleSOAPQuotes();\n    }\n  };\n\n  // Generate sample quotes using your SOAP response data\n  const generateSampleSOAPQuotes = () => {\n    return [{\n      id: 'soap-12345',\n      name: 'TravelSafe Basic 2024 - Single Trip Travel Insurance',\n      type: 'premium',\n      // Best buy\n      price: 72.60,\n      coverage: {\n        medical: 'â‚¬5,000,000',\n        // Cover level 5\n        baggage: 'â‚¬1,000',\n        cancellation: 'â‚¬2,000',\n        activities: ['Standard activities', 'Adventure sports']\n      },\n      features: ['24/7 Emergency Assistance', 'Medical Coverage', 'Trip Cancellation', 'Baggage Protection', 'Best Buy Option', 'Up to 90 days per trip'],\n      // Real SOAP response data from QuoteID 12345\n      terracottaQuoteId: '12345',\n      schemaName: 'TravelSafe Basic 2024',\n      policyTypeName: 'Single Trip Travel Insurance',\n      typePolicyName: 'Single Trip Travel Insurance',\n      summaryOfCoverUrl: 'https://terracotta.example.com/summary/12345.pdf',\n      policyWordingUrl: 'https://terracotta.example.com/wording/12345.pdf',\n      currency: 'EUR',\n      ipt: 12.60,\n      // Complete SOAP response fields\n      schemaID: 683,\n      destinationCategory: 'Europe',\n      tripType: formData.tripType,\n      residenceName: 'Greece',\n      destinationName: 'Europe',\n      packageName: 'TravelSafe Standard',\n      typePackageName: 'Standard Package',\n      isAnnual: 0,\n      isBestBuy: 1,\n      isBestBuyText: 'Best Value Option',\n      maxDaysPerTrip: 90,\n      coverLevel: 5,\n      discount: 0.00,\n      iconURL: 'https://terracotta.example.com/icons/basic.png',\n      helpFile: 'https://terracotta.example.com/help/12345.html',\n      policytypeShortName: 'Single Trip',\n      // Additional SOAP fields\n      keyFactsUrl: 'https://terracotta.example.com/keyfacts/12345.pdf',\n      policyTypeID: 1,\n      destinationID: 2,\n      packageID: 1,\n      screeningPremium: 0.00,\n      ipRate: 21.00,\n      netUW: 60.00,\n      wbComm: 5.40,\n      agentComm: 7.20\n    }, {\n      id: 'soap-12346',\n      name: 'TravelSafe Premium 2024 - Single Trip Travel Insurance',\n      type: 'standard',\n      price: 108.90,\n      coverage: {\n        medical: 'â‚¬10,000,000',\n        // Cover level 10\n        baggage: 'â‚¬1,000',\n        cancellation: 'â‚¬2,000',\n        activities: ['Standard activities', 'Adventure sports']\n      },\n      features: ['24/7 Emergency Assistance', 'Medical Coverage', 'Trip Cancellation', 'Baggage Protection', 'Up to 120 days per trip'],\n      // Real SOAP response data from QuoteID 12346\n      terracottaQuoteId: '12346',\n      schemaName: 'TravelSafe Premium 2024',\n      policyTypeName: 'Single Trip Travel Insurance',\n      typePolicyName: 'Single Trip Travel Insurance',\n      summaryOfCoverUrl: 'https://terracotta.example.com/summary/12346.pdf',\n      policyWordingUrl: 'https://terracotta.example.com/wording/12346.pdf',\n      currency: 'EUR',\n      ipt: 18.90,\n      // Complete SOAP response fields\n      schemaID: 717,\n      destinationCategory: 'Europe',\n      tripType: formData.tripType,\n      residenceName: 'Greece',\n      destinationName: 'Europe',\n      packageName: 'TravelSafe Premium',\n      typePackageName: 'Premium Package',\n      isAnnual: 0,\n      isBestBuy: 0,\n      isBestBuyText: '',\n      maxDaysPerTrip: 120,\n      coverLevel: 10,\n      discount: 0.00,\n      iconURL: 'https://terracotta.example.com/icons/premium.png',\n      helpFile: 'https://terracotta.example.com/help/12346.html',\n      policytypeShortName: 'Single Trip',\n      // Additional SOAP fields\n      keyFactsUrl: 'https://terracotta.example.com/keyfacts/12346.pdf',\n      policyTypeID: 1,\n      destinationID: 2,\n      packageID: 2,\n      screeningPremium: 0.00,\n      ipRate: 21.00,\n      netUW: 90.00,\n      wbComm: 8.10,\n      agentComm: 10.80\n    }];\n  };\n\n  // Helper function to calculate coverage levels using real SOAP data\n  const calculateRealCoverageLevels = (result, destination, tripType) => {\n    // Use real data from SOAP response when available, fallback to calculated values\n    const baseMedical = result.coverLevel > 0 ? `â‚¬${(result.coverLevel * 1000000).toLocaleString()}` : tripType === 'annual' ? 'â‚¬5,000,000' : 'â‚¬2,000,000';\n    const baseBaggage = 'â‚¬1,000'; // This would ideally come from SOAP response\n    const baseCancellation = 'â‚¬2,000'; // This would ideally come from SOAP response\n\n    // Enhance coverage based on destination category and SOAP data\n    let medicalMultiplier = 1;\n    let baggageMultiplier = 1;\n    let cancellationMultiplier = 1;\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      medicalMultiplier = 2;\n      baggageMultiplier = 1.5;\n      cancellationMultiplier = 2;\n    } else if (destination.toLowerCase().includes('europe')) {\n      medicalMultiplier = 1.5;\n      baggageMultiplier = 1.2;\n      cancellationMultiplier = 1.5;\n    }\n\n    // Use SOAP cover level if available\n    if (result.coverLevel > 0) {\n      medicalMultiplier = 1; // Use the real cover level from SOAP\n    }\n    return {\n      medical: result.coverLevel > 0 ? baseMedical : `â‚¬${(parseInt(baseMedical.replace(/[â‚¬,]/g, '')) * medicalMultiplier).toLocaleString()}`,\n      baggage: `â‚¬${(parseInt(baseBaggage.replace(/[â‚¬,]/g, '')) * baggageMultiplier).toLocaleString()}`,\n      cancellation: `â‚¬${(parseInt(baseCancellation.replace(/[â‚¬,]/g, '')) * cancellationMultiplier).toLocaleString()}`,\n      activities: generateActivitiesForDestination(destination)\n    };\n  };\n\n  // Helper function to generate features using real SOAP data\n  const generateFeaturesFromSOAPData = (result, destination, tripType) => {\n    const baseFeatures = ['24/7 Emergency Assistance', 'Medical Coverage', 'Trip Cancellation', 'Baggage Protection'];\n    const soapFeatures = [];\n    const destinationFeatures = [];\n\n    // Add features based on SOAP response data\n    if (result.isAnnual === 1) {\n      soapFeatures.push('Annual Multi-Trip Coverage', 'Unlimited Trips', 'Annual Policy Benefits');\n    }\n    if (result.isBestBuy === 1) {\n      soapFeatures.push('Best Buy Policy', result.isBestBuyText || 'Recommended Option');\n    }\n    if (result.maxDaysPerTrip > 0) {\n      soapFeatures.push(`Up to ${result.maxDaysPerTrip} days per trip`);\n    }\n    if (result.discount > 0) {\n      soapFeatures.push(`${result.discount}% Discount Applied`);\n    }\n\n    // Add destination-specific features\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      destinationFeatures.push('Worldwide Medical Coverage', 'Emergency Repatriation', 'High-Risk Activity Coverage');\n    } else if (destination.toLowerCase().includes('europe')) {\n      destinationFeatures.push('EU Medical Card Coverage', 'Schengen Zone Protection');\n    }\n    if (tripType === 'comprehensive') {\n      destinationFeatures.push('Enhanced Coverage', 'Adventure Sports', 'Winter Sports', 'Business Travel');\n    }\n    return [...baseFeatures, ...soapFeatures, ...destinationFeatures];\n  };\n\n  // Helper function to calculate coverage levels based on destination and trip type (fallback)\n  const calculateCoverageLevels = (destination, tripType, price) => {\n    const baseMedical = tripType === 'annual' ? 'â‚¬5,000,000' : tripType === 'longstay' ? 'â‚¬3,000,000' : 'â‚¬2,000,000';\n    const baseBaggage = 'â‚¬1,000';\n    const baseCancellation = 'â‚¬2,000';\n\n    // Enhance coverage based on destination category\n    let medicalMultiplier = 1;\n    let baggageMultiplier = 1;\n    let cancellationMultiplier = 1;\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      medicalMultiplier = 2;\n      baggageMultiplier = 1.5;\n      cancellationMultiplier = 2;\n    } else if (destination.toLowerCase().includes('europe')) {\n      medicalMultiplier = 1.5;\n      baggageMultiplier = 1.2;\n      cancellationMultiplier = 1.5;\n    }\n\n    // Enhance based on price level\n    if (price > 200) {\n      medicalMultiplier *= 2;\n      baggageMultiplier *= 2;\n      cancellationMultiplier *= 2;\n    } else if (price > 100) {\n      medicalMultiplier *= 1.5;\n      baggageMultiplier *= 1.5;\n      cancellationMultiplier *= 1.5;\n    }\n    return {\n      medical: `â‚¬${(parseInt(baseMedical.replace(/[â‚¬,]/g, '')) * medicalMultiplier).toLocaleString()}`,\n      baggage: `â‚¬${(parseInt(baseBaggage.replace(/[â‚¬,]/g, '')) * baggageMultiplier).toLocaleString()}`,\n      cancellation: `â‚¬${(parseInt(baseCancellation.replace(/[â‚¬,]/g, '')) * cancellationMultiplier).toLocaleString()}`,\n      activities: generateActivitiesForDestination(destination)\n    };\n  };\n\n  // Helper function to determine quote type based on price and index\n  const determineQuoteType = (price, index) => {\n    if (price < 50) return 'basic';\n    if (price < 150) return 'standard';\n    return 'premium';\n  };\n\n  // Helper function to generate features based on destination and trip type\n  const generateFeaturesForDestination = (destination, tripType) => {\n    const baseFeatures = ['24/7 Emergency Assistance', 'Medical Coverage', 'Trip Cancellation', 'Baggage Protection'];\n    const destinationFeatures = [];\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      destinationFeatures.push('Worldwide Medical Coverage', 'Emergency Repatriation', 'High-Risk Activity Coverage');\n    } else if (destination.toLowerCase().includes('europe')) {\n      destinationFeatures.push('EU Medical Card Coverage', 'Schengen Zone Protection');\n    }\n    if (tripType === 'annual') {\n      destinationFeatures.push('Multiple Trip Coverage', 'Annual Policy Benefits', 'Unlimited Trips');\n    } else if (tripType === 'longstay') {\n      destinationFeatures.push('Extended Stay Coverage', 'Long Term Medical', 'Extended Baggage Protection', 'Long Stay Benefits');\n    } else if (tripType === 'comprehensive') {\n      destinationFeatures.push('Enhanced Coverage', 'Adventure Sports', 'Winter Sports', 'Business Travel');\n    }\n    return [...baseFeatures, ...destinationFeatures];\n  };\n\n  // Helper function to generate activities based on destination\n  const generateActivitiesForDestination = destination => {\n    const baseActivities = ['Standard activities'];\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      return ['Standard activities', 'Adventure sports', 'Extreme sports', 'Water sports', 'Winter sports'];\n    } else if (destination.toLowerCase().includes('europe')) {\n      return ['Standard activities', 'Adventure sports', 'Winter sports'];\n    }\n    return baseActivities;\n  };\n\n  // Enhanced mock quote generation that simulates Terracotta-style data\n  const generateEnhancedMockQuoteOptions = () => {\n    const days = formData.startDate && formData.endDate ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 3600 * 24)) : 7;\n    let basePrice = formData.tripType === 'annual' ? 99 : formData.tripType === 'longstay' ? 60 : 40;\n    const dailyRate = formData.tripType === 'annual' ? 0 : formData.tripType === 'longstay' ? 3 : 5;\n    const tripMultiplier = formData.tripType === 'comprehensive' ? 1.5 : formData.tripType === 'longstay' ? 1.2 : 1;\n\n    // Generate multiple mock quotes based on available schemas\n    const mockQuotes = [];\n\n    // Create quotes for each available schema if we have them, otherwise use defaults\n    const schemasToUse = availableProducts.length > 0 ? availableProducts : [{\n      SchemaID: 683,\n      SchemaName: 'TravelSafe Basic'\n    }, {\n      SchemaID: 717,\n      SchemaName: 'TravelSafe Premium'\n    }];\n    schemasToUse.forEach((schema, index) => {\n      const price = Math.round((basePrice + days * dailyRate + index * 30) * formData.numberOfTravelers * tripMultiplier);\n      const coverage = calculateCoverageLevels(formData.destination, formData.tripType, price);\n      const features = generateFeaturesForDestination(formData.destination, formData.tripType);\n      const quoteType = determineQuoteType(price, index);\n      mockQuotes.push({\n        id: `mock-${schema.SchemaID}-${index}`,\n        name: `${schema.SchemaName} - ${formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip'}`,\n        type: quoteType,\n        price: price,\n        coverage: coverage,\n        features: features,\n        // Terracotta specific fields (mock)\n        terracottaQuoteId: `mock-${schema.SchemaID}-${Date.now()}`,\n        schemaName: schema.SchemaName,\n        policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/mock.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/mock.pdf',\n        currency: 'EUR',\n        ipt: Math.round(price * 0.21),\n        // 21% IPT\n        // Additional metadata\n        schemaID: schema.SchemaID,\n        destinationCategory: formData.destination,\n        tripType: formData.tripType\n      });\n    });\n    return mockQuotes;\n  };\n\n  // Legacy mock quotes (kept for backward compatibility)\n  const generateLegacyMockQuoteOptions = () => {\n    const days = formData.startDate && formData.endDate ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 3600 * 24)) : 7;\n    let basePrice = formData.tripType === 'annual' ? 99 : formData.tripType === 'longstay' ? 60 : 40;\n    const dailyRate = formData.tripType === 'annual' ? 0 : formData.tripType === 'longstay' ? 3 : 5;\n    const tripMultiplier = formData.tripType === 'comprehensive' ? 1.5 : formData.tripType === 'longstay' ? 1.2 : 1;\n    const options = [{\n      id: 'terracotta-basic',\n      name: 'Terracotta TravelSafe Basic',\n      type: 'basic',\n      price: Math.round((basePrice + days * dailyRate) * formData.numberOfTravelers * tripMultiplier),\n      coverage: {\n        medical: formData.tripType === 'annual' ? 'â‚¬5,000,000' : 'â‚¬2,000,000',\n        baggage: 'â‚¬1,000',\n        cancellation: 'â‚¬2,000',\n        activities: ['Standard activities']\n      },\n      features: ['Emergency Medical Coverage', 'Trip Cancellation', 'Baggage Protection', '24/7 Assistance'],\n      // Terracotta-specific fields (simulated)\n      terracottaQuoteId: `TC-${Date.now()}-001`,\n      schemaName: 'TravelSafe Basic',\n      policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n      summaryOfCoverUrl: 'https://terracotta.example.com/summary/basic.pdf',\n      policyWordingUrl: 'https://terracotta.example.com/wording/basic.pdf',\n      currency: 'EUR',\n      ipt: 15.50\n    }, {\n      id: 'terracotta-standard',\n      name: 'Terracotta TravelSafe Standard',\n      type: 'standard',\n      price: Math.round((basePrice + days * dailyRate) * 1.3 * formData.numberOfTravelers * tripMultiplier),\n      coverage: {\n        medical: formData.tripType === 'annual' ? 'â‚¬10,000,000' : 'â‚¬5,000,000',\n        baggage: 'â‚¬2,500',\n        cancellation: 'â‚¬5,000',\n        activities: ['Standard activities', 'Adventure sports']\n      },\n      features: ['Enhanced Medical Coverage', 'Trip Cancellation & Curtailment', 'Enhanced Baggage Protection', 'Adventure Sports Coverage', '24/7 Assistance', 'Travel Delay Compensation'],\n      // Terracotta-specific fields (simulated)\n      terracottaQuoteId: `TC-${Date.now()}-002`,\n      schemaName: 'TravelSafe Standard',\n      policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n      summaryOfCoverUrl: 'https://terracotta.example.com/summary/standard.pdf',\n      policyWordingUrl: 'https://terracotta.example.com/wording/standard.pdf',\n      currency: 'EUR',\n      ipt: 22.75\n    }, {\n      id: 'terracotta-premium',\n      name: 'Terracotta TravelSafe Premium',\n      type: 'premium',\n      price: Math.round((basePrice + days * dailyRate) * 1.8 * formData.numberOfTravelers * tripMultiplier),\n      coverage: {\n        medical: formData.tripType === 'annual' ? 'â‚¬10,000,000' : 'â‚¬10,000,000',\n        baggage: 'â‚¬5,000',\n        cancellation: 'â‚¬10,000',\n        activities: ['All activities', 'Extreme sports', 'Winter sports']\n      },\n      features: ['Maximum Medical Coverage', 'Comprehensive Trip Protection', 'Premium Baggage Coverage', 'All Sports & Activities', '24/7 VIP Assistance', 'Travel Delay & Missed Connections', 'Personal Liability Coverage', 'Emergency Cash Advance'],\n      // Terracotta-specific fields (simulated)\n      terracottaQuoteId: `TC-${Date.now()}-003`,\n      schemaName: 'TravelSafe Premium',\n      policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n      summaryOfCoverUrl: 'https://terracotta.example.com/summary/premium.pdf',\n      policyWordingUrl: 'https://terracotta.example.com/wording/premium.pdf',\n      currency: 'EUR',\n      ipt: 35.00\n    }];\n    return options;\n  };\n\n  // Custom Date Picker Component\n  const CustomDatePicker = ({\n    id,\n    value,\n    onChange,\n    placeholder,\n    required,\n    minDate\n  }) => {\n    _s();\n    const [isOpen, setIsOpen] = useState(false);\n    const [currentDate, setCurrentDate] = useState(() => {\n      // Initialize with selected date if available, otherwise current date\n      return value ? new Date(value) : new Date();\n    });\n    const pickerRef = useRef(null);\n    useEffect(() => {\n      const handleClickOutside = event => {\n        if (pickerRef.current && !pickerRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n      if (isOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n      }\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, [isOpen]);\n\n    // Update current date when value changes to show the correct month\n    useEffect(() => {\n      if (value) {\n        setCurrentDate(new Date(value));\n      }\n    }, [value]);\n\n    // Helper function to check if a date is valid (not in past and not before minDate)\n    const isDateValid = date => {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n\n      // Reset the input date to start of day for accurate comparison\n      const inputDate = new Date(date);\n      inputDate.setHours(0, 0, 0, 0);\n\n      // Check if date is in the past\n      if (inputDate < today) {\n        return false;\n      }\n\n      // Check if date is before minimum date\n      if (minDate) {\n        const minDateObj = new Date(minDate);\n        minDateObj.setHours(0, 0, 0, 0);\n        if (inputDate < minDateObj) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const generateCalendar = () => {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth();\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n      const daysInMonth = lastDay.getDate();\n      const startingDayOfWeek = firstDay.getDay();\n      const days = [];\n\n      // Add empty cells for days before the first day of the month\n      for (let i = 0; i < startingDayOfWeek; i++) {\n        days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-day empty\"\n        }, `empty-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1375,\n          columnNumber: 19\n        }, this));\n      }\n\n      // Add days of the month\n      for (let day = 1; day <= daysInMonth; day++) {\n        const date = new Date(year, month, day);\n        // Create ISO string manually to avoid timezone issues\n        const dateString = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n        const isSelected = value === dateString;\n        const isToday = new Date().toDateString() === date.toDateString();\n        const isValid = isDateValid(date);\n        days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `calendar-day ${isSelected ? 'selected' : ''} ${isToday ? 'today' : ''} ${!isValid ? 'disabled' : ''}`,\n          onClick: () => {\n            if (isValid) {\n              onChange(dateString);\n              setIsOpen(false);\n            }\n          },\n          style: {\n            cursor: isValid ? 'pointer' : 'not-allowed',\n            opacity: isValid ? 1 : 0.4\n          },\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1388,\n          columnNumber: 11\n        }, this));\n      }\n      return days;\n    };\n    const navigateMonth = direction => {\n      setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1));\n    };\n    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-date-picker\",\n      ref: pickerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: id,\n          value: value ? formatDateToEuropean(value) : '',\n          onChange: e => {\n            const formattedValue = formatDateInput(e.target.value);\n            const isoDate = formattedValue.length === 10 ? convertToISO(formattedValue) : '';\n\n            // Validate that the date is valid (not in past and not before minDate)\n            if (isoDate) {\n              const inputDate = new Date(isoDate);\n              if (!isDateValid(inputDate)) {\n                // Don't update the value if it's an invalid date\n                return;\n              }\n            }\n            onChange(isoDate);\n          },\n          placeholder: placeholder,\n          title: minDate ? \"Enter date (DD/MM/YYYY) or click calendar - past dates and dates before start date are not allowed\" : \"Enter date (DD/MM/YYYY) or click calendar - past dates are not allowed\",\n          pattern: \"\\\\d{2}/\\\\d{2}/\\\\d{4}\",\n          maxLength: 10,\n          required: required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date-icon clickable\",\n          onClick: () => setIsOpen(!isOpen),\n          title: \"Open calendar\",\n          children: \"\\uD83D\\uDCC5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 9\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-popup\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"calendar-nav-btn\",\n            onClick: () => navigateMonth(-1),\n            children: \"\\u2039\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"calendar-month-year\",\n            children: [monthNames[currentDate.getMonth()], \" \", currentDate.getFullYear()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"calendar-nav-btn\",\n            onClick: () => navigateMonth(1),\n            children: \"\\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-weekdays\",\n          children: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-weekday\",\n            children: day\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1482,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1480,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-days\",\n          children: generateCalendar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1485,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1460,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1420,\n      columnNumber: 7\n    }, this);\n  };\n  _s(CustomDatePicker, \"Z9Sk5PjmSjivFMKzrLcRxEkOb18=\");\n  const handleInputChange = (field, value) => {\n    setFormData(prev => {\n      const newData = {\n        ...prev,\n        [field]: value\n      };\n\n      // If start date is changed, clear end date if it's now invalid\n      if (field === 'startDate' && value && prev.endDate) {\n        const startDate = new Date(value);\n        const endDate = new Date(prev.endDate);\n        startDate.setDate(startDate.getDate() + 1); // Add 1 day to start date\n\n        // If end date is before or equal to start date, clear it\n        if (endDate <= startDate) {\n          newData.endDate = '';\n        }\n      }\n      return newData;\n    });\n  };\n  const handleTravelerChange = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      travelers: prev.travelers.map((traveler, i) => i === index ? {\n        ...traveler,\n        [field]: value\n      } : traveler)\n    }));\n  };\n  const handleNumberOfTravelersChange = count => {\n    setFormData(prev => {\n      const travelers = [...prev.travelers];\n      if (count > travelers.length) {\n        // Add new travelers\n        for (let i = travelers.length; i < count; i++) {\n          travelers.push({\n            firstName: '',\n            lastName: '',\n            age: '',\n            email: '',\n            phone: '',\n            vaxId: '',\n            nationality: ''\n          });\n        }\n      } else if (count < travelers.length) {\n        // Remove travelers\n        travelers.splice(count);\n      }\n      return {\n        ...prev,\n        numberOfTravelers: count,\n        travelers\n      };\n    });\n  };\n  const handleBillingAddressChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      billingAddress: {\n        ...prev.billingAddress,\n        [field]: value\n      }\n    }));\n  };\n\n  // Helper function to convert DD/MM/YYYY to YYYY-MM-DD for internal storage\n  const convertToISO = ddmmyyyy => {\n    if (!ddmmyyyy || ddmmyyyy.length !== 10) return '';\n    const [day, month, year] = ddmmyyyy.split('/');\n    // Create date in local timezone to avoid timezone issues\n    const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n    return date.toISOString().split('T')[0];\n  };\n\n  // Helper function to format input as DD/MM/YYYY\n  const formatDateInput = value => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n\n    // Format as DD/MM/YYYY\n    if (digits.length >= 8) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4, 8)}`;\n    } else if (digits.length >= 4) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4)}`;\n    } else if (digits.length >= 2) {\n      return `${digits.slice(0, 2)}/${digits.slice(2)}`;\n    }\n    return digits;\n  };\n  const nextPhase = async () => {\n    if (currentPhase === 1) {\n      // Generate quotes when moving from phase 1 to 2\n      try {\n        const options = await generateQuoteOptions();\n        setQuoteOptions(options);\n\n        // Automatically pre-select the middle plan (standard)\n        const standardPlan = options.find(option => option.type === 'standard');\n        if (standardPlan) {\n          setFormData(prev => ({\n            ...prev,\n            selectedQuote: standardPlan\n          }));\n        }\n      } catch (error) {\n        console.error('Error generating quotes:', error);\n        setQuoteError('Failed to generate quotes. Please try again.');\n        return; // Don't proceed to next phase if quotes failed\n      }\n    }\n    if (currentPhase === 5) {\n      var _formData$selectedQuo3;\n      // Fetch screening questions when moving from phase 5 to 6\n      if ((_formData$selectedQuo3 = formData.selectedQuote) !== null && _formData$selectedQuo3 !== void 0 && _formData$selectedQuo3.terracottaQuoteId) {\n        try {\n          const screeningResponse = await terracottaService.getScreeningQuestions(formData.selectedQuote.terracottaQuoteId);\n          setScreeningQuestions(screeningResponse.screeningQuestions || []);\n        } catch (error) {\n          console.error('Error fetching screening questions:', error);\n          // Use mock screening questions to demonstrate the feature\n          setScreeningQuestions([{\n            questionNumber: 1,\n            question: \"Do you have any pre-existing medical conditions that require ongoing treatment?\",\n            yesMessage: \"Please note that pre-existing conditions may not be covered under this policy. Additional medical screening may be required.\",\n            noMessage: \"Thank you. No additional medical information is required.\",\n            yesAction: \"MEDICAL_SCREENING\",\n            noAction: \"CONTINUE\",\n            yesActionText: \"Medical screening required\",\n            noActionText: \"Continue with application\"\n          }, {\n            questionNumber: 2,\n            question: \"Are you currently taking any prescribed medication?\",\n            yesMessage: \"Please ensure you have sufficient medication for your trip and carry a copy of your prescription.\",\n            noMessage: \"Thank you. No additional medication information is required.\",\n            yesAction: \"MEDICATION_CHECK\",\n            noAction: \"CONTINUE\",\n            yesActionText: \"Medication verification required\",\n            noActionText: \"Continue with application\"\n          }]);\n        }\n      }\n    }\n    if (currentPhase < 8) {\n      setCurrentPhase(prev => prev + 1);\n      window.scrollTo(0, 0);\n    }\n  };\n  const prevPhase = () => {\n    if (currentPhase > 1) {\n      setCurrentPhase(prev => prev - 1);\n      window.scrollTo(0, 0);\n    }\n  };\n  const selectQuote = quote => {\n    setFormData(prev => ({\n      ...prev,\n      selectedQuote: quote\n    }));\n  };\n  const addAdditionalPolicy = policy => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: [...prev.additionalPolicies, policy]\n    }));\n  };\n  const removeAdditionalPolicy = policyId => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: prev.additionalPolicies.filter(p => p.id !== policyId)\n    }));\n  };\n  const calculateTotalPrice = () => {\n    var _formData$selectedQuo4;\n    const basePrice = ((_formData$selectedQuo4 = formData.selectedQuote) === null || _formData$selectedQuo4 === void 0 ? void 0 : _formData$selectedQuo4.price) || 0;\n    const additionalPrice = formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0);\n    return basePrice + additionalPrice;\n  };\n  const generatePolicyPDF = async () => {\n    await generatePDF(formData, calculateTotalPrice, formatDateToEuropean, policyNumber || `TI-${Date.now().toString().slice(-8)}`);\n  };\n  const downloadPolicyPDF = () => {\n    generatePolicyPDF();\n  };\n  const processPayment = async () => {\n    setIsProcessing(true);\n    try {\n      // First save the quote to database\n      const quoteData = {\n        destination: formData.destination,\n        countryOfResidence: formData.countryOfResidence,\n        startDate: formData.startDate,\n        endDate: formData.endDate,\n        tripType: formData.tripType,\n        numberOfTravelers: formData.numberOfTravelers,\n        travelers: formData.travelers,\n        selectedQuote: formData.selectedQuote,\n        additionalPolicies: formData.additionalPolicies,\n        totalAmount: calculateTotalPrice()\n      };\n\n      // console.log('Saving quote to database...', quoteData);\n      // console.log('Quote data JSON string:', JSON.stringify(quoteData));\n      const quoteResponse = await createQuote(quoteData);\n      if (quoteResponse.status === 'success' && quoteResponse.data) {\n        var _formData$selectedQuo5;\n        const quoteId = quoteResponse.data.quoteId;\n\n        // Convert screening answers to Terracotta format\n        const terracottaScreeningAnswers = Object.entries(screeningAnswers).map(([questionNumber, answer]) => ({\n          questionNumber: parseInt(questionNumber),\n          answer: answer\n        }));\n\n        // Save policy details with Terracotta\n        if ((_formData$selectedQuo5 = formData.selectedQuote) !== null && _formData$selectedQuo5 !== void 0 && _formData$selectedQuo5.terracottaQuoteId) {\n          try {\n            const savePolicyResponse = await terracottaService.savePolicyDetails({\n              userID: '4072',\n              userCode: '111427',\n              quoteID: formData.selectedQuote.terracottaQuoteId,\n              screeningQuestionAnswers: terracottaScreeningAnswers\n            });\n            if (savePolicyResponse.policySaved === 'Yes') {\n              setPolicyNumber(savePolicyResponse.policyID);\n              setIsProcessing(false);\n              nextPhase(); // Move to documents phase\n              return;\n            } else {\n              throw new Error(savePolicyResponse.Message || 'Failed to save policy with Terracotta');\n            }\n          } catch (terracottaError) {\n            console.error('Terracotta policy save error:', terracottaError);\n            // Fall through to regular payment processing\n          }\n        }\n\n        // Fallback to regular payment processing if Terracotta fails\n        const paymentData = {\n          quoteId: quoteId,\n          paymentMethod: formData.paymentMethod,\n          cardNumber: formData.cardNumber,\n          // Note: In production, this should be tokenized\n          expiryDate: formData.expiryDate,\n          cvv: formData.cvv,\n          billingAddress: formData.billingAddress,\n          amount: calculateTotalPrice()\n        };\n        const paymentResponse = await apiProcessPayment(paymentData);\n        if (paymentResponse.status === 'success') {\n          var _paymentResponse$data;\n          if ((_paymentResponse$data = paymentResponse.data) !== null && _paymentResponse$data !== void 0 && _paymentResponse$data.policyNumber) {\n            setPolicyNumber(paymentResponse.data.policyNumber);\n          }\n          setIsProcessing(false);\n          nextPhase(); // Move to documents phase\n        } else {\n          throw new Error(paymentResponse.message || 'Payment failed');\n        }\n      } else {\n        throw new Error(quoteResponse.message || 'Failed to save quote');\n      }\n    } catch (error) {\n      console.error('Payment processing error:', error);\n      setIsProcessing(false);\n      alert('Payment processing failed. Please try again. Error: ' + (error instanceof Error ? error.message : 'Unknown error'));\n    }\n  };\n  const isPhaseValid = phase => {\n    switch (phase) {\n      case 1:\n        return !!(formData.destination && formData.startDate && formData.endDate && formData.tripType && formData.countryOfResidence && formData.travelers.every(t => t.firstName && t.lastName && t.age && t.email));\n      case 2:\n        return !!formData.selectedQuote;\n      case 3:\n        return true;\n      // Additional policies phase is always valid (optional)\n      case 4:\n        return true;\n      // Summary phase is always valid\n      case 5:\n        return true;\n      // Confirmation phase is always valid\n      case 6:\n        // Screening questions phase - all questions must be answered\n        return screeningQuestions.length === 0 || Object.keys(screeningAnswers).length === screeningQuestions.length;\n      case 7:\n        const paymentValid = !!(formData.cardNumber && formData.expiryDate && formData.cvv && formData.billingAddress.street && formData.billingAddress.city && formData.billingAddress.postalCode && formData.billingAddress.country);\n        return paymentValid;\n      case 8:\n        return true;\n      // Documents phase is always valid\n      default:\n        return false;\n    }\n  };\n  const renderPhase1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wizard-phase\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Trip Details & Traveler Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1825,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Trip Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1828,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"tripType\",\n          children: [\"Trip Type\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '0.8em',\n              color: '#666',\n              marginLeft: '5px'\n            },\n            children: isLoadingPolicyTypes ? '(Loading...)' : `(${availablePolicyTypes.length} types available)`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1833,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1831,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"tripType\",\n          value: formData.tripType,\n          onChange: e => handleInputChange('tripType', e.target.value),\n          required: true,\n          disabled: isLoadingPolicyTypes,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: isLoadingPolicyTypes ? 'Loading policy types...' : 'Select trip type'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1844,\n            columnNumber: 13\n          }, this), availablePolicyTypes.map(policyType => {\n            // Map Terracotta policy types to our database values\n            let tripTypeValue = 'single';\n            if (policyType.TypePolicyName.toLowerCase().includes('annual')) {\n              tripTypeValue = 'annual';\n            } else if (policyType.TypePolicyName.toLowerCase().includes('comprehensive')) {\n              tripTypeValue = 'comprehensive';\n            } else if (policyType.TypePolicyName.toLowerCase().includes('longstay') || policyType.TypePolicyName.toLowerCase().includes('long stay') || policyType.TypePolicyName.toLowerCase().includes('longstay')) {\n              tripTypeValue = 'longstay';\n            }\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tripTypeValue,\n              children: [policyType.TypePolicyName, \" \", policyType.Description && `(${policyType.Description})`]\n            }, policyType.TypePolicyID, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1861,\n              columnNumber: 17\n            }, this);\n          }), !isLoadingPolicyTypes && availablePolicyTypes.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"single\",\n              children: \"Regular Single Trip Insurance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1869,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"annual\",\n              children: \"Annual Multi-Trip Travel Insurance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1870,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"comprehensive\",\n              children: \"Comprehensive Single Trip Insurance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1871,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"longstay\",\n              children: \"Long Stay Travel Insurance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1872,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1837,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1830,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"countryOfResidence\",\n            children: \"Country of Residence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"countryOfResidence\",\n            value: formData.countryOfResidence,\n            onChange: e => handleInputChange('countryOfResidence', e.target.value),\n            required: true,\n            disabled: isLoadingCountriesOfResidence,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isLoadingCountriesOfResidence ? 'Loading countries...' : 'Select your country of residence'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1888,\n              columnNumber: 15\n            }, this), countriesOfResidence.map(country => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: country.country_name,\n              children: country.country_name\n            }, country.country_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1892,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1881,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1879,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"destination\",\n            children: [\"Destination Category\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"help-icon\",\n              onClick: () => setShowHelpPopup(true),\n              title: \"Click to see all countries by category\",\n              children: \"(?)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1902,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1900,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"destination\",\n            value: formData.destination,\n            onChange: e => handleInputChange('destination', e.target.value),\n            required: true,\n            disabled: isLoadingCategories,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isLoadingCategories ? 'Loading categories...' : 'Select destination category'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1917,\n              columnNumber: 15\n            }, this), destinationCategories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1921,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1910,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1899,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1878,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"startDate\",\n            children: [\"Departure Date \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date-format-hint\",\n              children: \"(DD/MM/YYYY)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1931,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1931,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CustomDatePicker, {\n            id: \"startDate\",\n            value: formData.startDate,\n            onChange: value => handleInputChange('startDate', value),\n            placeholder: \"DD/MM/YYYY\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1932,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"endDate\",\n            children: [\"Return Date \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date-format-hint\",\n              children: \"(DD/MM/YYYY)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1941,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1941,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CustomDatePicker, {\n            id: \"endDate\",\n            value: formData.endDate,\n            onChange: value => handleInputChange('endDate', value),\n            placeholder: \"DD/MM/YYYY\",\n            required: true,\n            minDate: formData.startDate ? (() => {\n              // Set minimum date to start date + 1 day\n              const startDate = new Date(formData.startDate);\n              startDate.setDate(startDate.getDate() + 1);\n              return startDate.toISOString().split('T')[0];\n            })() : undefined\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1942,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1940,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1929,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"numberOfTravelers\",\n          children: \"Number of Travelers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1959,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"numberOfTravelers\",\n          value: formData.numberOfTravelers,\n          onChange: e => handleNumberOfTravelersChange(parseInt(e.target.value)),\n          children: [1, 2, 3, 4, 5, 6, 7, 8].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: num,\n            children: [num, \" Traveler\", num > 1 ? 's' : '']\n          }, num, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1966,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1960,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1958,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1827,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Traveler Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1973,\n        columnNumber: 9\n      }, this), formData.travelers.map((traveler, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"traveler-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Traveler \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1976,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `title-${index}`,\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1980,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: `title-${index}`,\n              value: traveler.title || 'Mr',\n              onChange: e => handleTravelerChange(index, 'title', e.target.value),\n              title: \"Select the traveler's title\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Mr\",\n                children: \"Mr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1987,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Mrs\",\n                children: \"Mrs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1988,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Miss\",\n                children: \"Miss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1989,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ms\",\n                children: \"Ms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1990,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Dr\",\n                children: \"Dr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1991,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Prof\",\n                children: \"Prof\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1992,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1981,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1979,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `firstName-${index}`,\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1996,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: `firstName-${index}`,\n              value: traveler.firstName,\n              onChange: e => handleTravelerChange(index, 'firstName', e.target.value),\n              placeholder: \"Enter first name\",\n              title: \"Enter the traveler's first name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1997,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1995,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `lastName-${index}`,\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2008,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: `lastName-${index}`,\n              value: traveler.lastName,\n              onChange: e => handleTravelerChange(index, 'lastName', e.target.value),\n              placeholder: \"Enter last name\",\n              title: \"Enter the traveler's last name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2009,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1978,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `dateOfBirth-${index}`,\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2023,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: `dateOfBirth-${index}`,\n              value: traveler.dateOfBirth || '',\n              onChange: e => {\n                const dateOfBirth = e.target.value;\n                // Auto-calculate age from date of birth\n                if (dateOfBirth) {\n                  const age = calculateAgeFromDateOfBirth(dateOfBirth);\n                  handleTravelerChange(index, 'dateOfBirth', dateOfBirth);\n                  handleTravelerChange(index, 'age', age.toString());\n                } else {\n                  handleTravelerChange(index, 'dateOfBirth', dateOfBirth);\n                }\n              },\n              title: \"Enter the traveler's date of birth (age will be calculated automatically)\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2024,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2022,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `age-${index}`,\n              children: \"Age (Auto-calculated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2044,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: `age-${index}`,\n              value: traveler.age,\n              onChange: e => handleTravelerChange(index, 'age', e.target.value),\n              placeholder: \"Enter age\",\n              title: \"Age will be calculated from date of birth, but you can override it manually\",\n              min: \"1\",\n              max: \"120\",\n              required: true,\n              readOnly: !!traveler.dateOfBirth,\n              style: {\n                backgroundColor: traveler.dateOfBirth ? '#f5f5f5' : 'white'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2045,\n              columnNumber: 17\n            }, this), traveler.dateOfBirth && /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '0.8em'\n              },\n              children: \"Age calculated from date of birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2059,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2043,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2021,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `email-${index}`,\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2068,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: `email-${index}`,\n              value: traveler.email,\n              onChange: e => handleTravelerChange(index, 'email', e.target.value),\n              placeholder: \"Enter email address\",\n              title: \"Enter the traveler's email address\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2069,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2067,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `phone-${index}`,\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2080,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: `phone-${index}`,\n              value: traveler.phone,\n              onChange: e => handleTravelerChange(index, 'phone', e.target.value),\n              placeholder: \"+30 123 456 7890\",\n              title: \"Enter the traveler's phone number\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2081,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2079,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2066,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `vaxId-${index}`,\n            children: \"VAX ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2094,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: `vaxId-${index}`,\n            value: traveler.vaxId,\n            onChange: e => handleTravelerChange(index, 'vaxId', e.target.value),\n            placeholder: \"Enter VAX ID\",\n            title: \"Enter the traveler's VAX ID (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2095,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2093,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1975,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1972,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1824,\n    columnNumber: 5\n  }, this);\n  const renderPhase2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wizard-phase\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: '2.2em',\n          color: '#333',\n          margin: '0 0 10px 0',\n          fontWeight: 'bold',\n          fontFamily: 'sans-serif'\n        },\n        children: \"Choose Your Insurance Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '1.1em',\n          color: '#666',\n          margin: '0',\n          fontWeight: '400'\n        },\n        children: \"Select the coverage that best fits your travel needs.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2112,\n      columnNumber: 7\n    }, this), isLoadingQuotes && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading insurance quotes from Terracotta...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2135,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2134,\n      columnNumber: 9\n    }, this), quoteError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u26A0\\uFE0F \", quoteError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Using fallback quotes for demonstration.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2142,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2140,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quote-options\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n        gap: '20px',\n        marginTop: '20px',\n        maxWidth: '1200px',\n        margin: '20px auto 0 auto'\n      },\n      children: quoteOptions.length > 0 ? quoteOptions.map(option => {\n        var _formData$selectedQuo6, _formData$selectedQuo7, _formData$selectedQuo8, _formData$selectedQuo1, _formData$selectedQuo10, _formData$selectedQuo13;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `quote-option ${((_formData$selectedQuo6 = formData.selectedQuote) === null || _formData$selectedQuo6 === void 0 ? void 0 : _formData$selectedQuo6.id) === option.id ? 'selected' : ''}`,\n          onClick: () => selectQuote(option),\n          style: {\n            background: 'white',\n            border: ((_formData$selectedQuo7 = formData.selectedQuote) === null || _formData$selectedQuo7 === void 0 ? void 0 : _formData$selectedQuo7.id) === option.id ? '2px solid #1976d2' : '1px solid #e0e0e0',\n            borderRadius: '8px',\n            padding: '24px',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            boxShadow: ((_formData$selectedQuo8 = formData.selectedQuote) === null || _formData$selectedQuo8 === void 0 ? void 0 : _formData$selectedQuo8.id) === option.id ? '0 4px 12px rgba(25, 118, 210, 0.15)' : '0 2px 8px rgba(0,0,0,0.1)',\n            position: 'relative'\n          },\n          onMouseEnter: e => {\n            var _formData$selectedQuo9;\n            if (((_formData$selectedQuo9 = formData.selectedQuote) === null || _formData$selectedQuo9 === void 0 ? void 0 : _formData$selectedQuo9.id) !== option.id) {\n              e.currentTarget.style.boxShadow = '0 4px 16px rgba(0,0,0,0.15)';\n              e.currentTarget.style.borderColor = '#1976d2';\n            }\n          },\n          onMouseLeave: e => {\n            var _formData$selectedQuo0;\n            if (((_formData$selectedQuo0 = formData.selectedQuote) === null || _formData$selectedQuo0 === void 0 ? void 0 : _formData$selectedQuo0.id) !== option.id) {\n              e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';\n              e.currentTarget.style.borderColor = '#e0e0e0';\n            }\n          },\n          children: [((_formData$selectedQuo1 = formData.selectedQuote) === null || _formData$selectedQuo1 === void 0 ? void 0 : _formData$selectedQuo1.id) === option.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '-8px',\n              right: '-8px',\n              width: '24px',\n              height: '24px',\n              backgroundColor: '#1976d2',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              color: 'white',\n              fontSize: '12px',\n              fontWeight: 'bold'\n            },\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 8px 0',\n                fontSize: '1.3em',\n                color: '#1976d2',\n                fontWeight: 'bold'\n              },\n              children: option.packageName || option.schemaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '0 0 12px 0',\n                fontSize: '0.9em',\n                color: '#666'\n              },\n              children: option.typePolicyName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '16px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '2em',\n                  fontWeight: 'bold',\n                  color: '#333',\n                  lineHeight: '1'\n                },\n                children: [option.currency || 'â‚¬', option.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.9em',\n                  color: '#666',\n                  marginTop: '4px'\n                },\n                children: \"per trip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2231,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '8px',\n                marginBottom: '16px',\n                fontSize: '0.85em'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#4caf50'\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2258,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Cover Level:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2259,\n                    columnNumber: 25\n                  }, this), \" \", option.coverLevel || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2259,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#4caf50'\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2269,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Max Days:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2270,\n                    columnNumber: 25\n                  }, this), \" \", option.maxDaysPerTrip || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2270,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#4caf50'\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Schema:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2281,\n                    columnNumber: 25\n                  }, this), \" \", option.schemaID]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#4caf50'\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2291,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"IPT:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2292,\n                    columnNumber: 25\n                  }, this), \" \", option.currency, option.ipt]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2292,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2243,\n              columnNumber: 15\n            }, this), option.isBestBuy === 1 && option.isBestBuyText && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#e8f5e8',\n                border: '1px solid #4caf50',\n                borderRadius: '6px',\n                padding: '8px',\n                marginBottom: '16px',\n                fontSize: '0.85em',\n                color: '#2e7d32',\n                textAlign: 'center',\n                fontWeight: 'bold'\n              },\n              children: [\"\\u2728 \", option.isBestBuyText, \" \\u2728\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '24px'\n            },\n            children: option.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'flex-start',\n                marginBottom: '6px',\n                fontSize: '0.9em',\n                color: '#333'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#4caf50',\n                  marginRight: '8px',\n                  marginTop: '2px',\n                  fontSize: '0.8em'\n                },\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2324,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: feature\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2330,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2317,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: '100%',\n              padding: '12px',\n              backgroundColor: ((_formData$selectedQuo10 = formData.selectedQuote) === null || _formData$selectedQuo10 === void 0 ? void 0 : _formData$selectedQuo10.id) === option.id ? '#ff6b35' : '#1976d2',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '0.95em',\n              fontWeight: 'bold',\n              cursor: 'pointer',\n              transition: 'background-color 0.3s ease',\n              textTransform: 'uppercase'\n            },\n            onMouseEnter: e => {\n              var _formData$selectedQuo11;\n              e.currentTarget.style.backgroundColor = ((_formData$selectedQuo11 = formData.selectedQuote) === null || _formData$selectedQuo11 === void 0 ? void 0 : _formData$selectedQuo11.id) === option.id ? '#e55a2b' : '#1565c0';\n            },\n            onMouseLeave: e => {\n              var _formData$selectedQuo12;\n              e.currentTarget.style.backgroundColor = ((_formData$selectedQuo12 = formData.selectedQuote) === null || _formData$selectedQuo12 === void 0 ? void 0 : _formData$selectedQuo12.id) === option.id ? '#ff6b35' : '#1976d2';\n            },\n            children: ((_formData$selectedQuo13 = formData.selectedQuote) === null || _formData$selectedQuo13 === void 0 ? void 0 : _formData$selectedQuo13.id) === option.id ? 'SELECTED' : 'SELECT PLAN'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2336,\n            columnNumber: 13\n          }, this)]\n        }, option.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2155,\n          columnNumber: 11\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          gridColumn: '1 / -1',\n          textAlign: 'center',\n          padding: '40px',\n          color: '#666'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading SOAP quotes...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2367,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2361,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2111,\n    columnNumber: 5\n  }, this);\n  const renderPhase3 = () => {\n    var _formData$selectedQuo14, _formData$selectedQuo15;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wizard-phase\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enhance Your Coverage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2376,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Add optional coverage for extra protection during your trip.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2377,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-plan-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"current-plan\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your Selected Plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2381,\n            columnNumber: 11\n          }, this), formData.selectedQuote && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plan-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"plan-name\",\n              children: formData.selectedQuote.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"plan-price\",\n              children: [\"\\u20AC\", formData.selectedQuote.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2380,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2379,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"additional-policies\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Optional Coverage Add-ons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2392,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"policies-grid\",\n          children: availableAdditionalPolicies.map(policy => {\n            const isSelected = formData.additionalPolicies.some(p => p.id === policy.id);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `policy-card ${isSelected ? 'selected' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"policy-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"policy-icon\",\n                  children: policy.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2399,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"policy-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: policy.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2401,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"policy-price\",\n                    children: [\"\\u20AC\", policy.price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2402,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2400,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `policy-btn ${isSelected ? 'remove' : 'add'}`,\n                  onClick: () => isSelected ? removeAdditionalPolicy(policy.id) : addAdditionalPolicy(policy),\n                  children: isSelected ? 'REMOVE' : 'ADD'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2398,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"policy-description\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: policy.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2412,\n                  columnNumber: 19\n                }, this), policy.id === 'excess-waiver' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"find-out-more\",\n                  onClick: () => alert('More information about Excess Waiver coverage will be available soon.'),\n                  \"aria-label\": \"Learn more about Excess Waiver coverage\",\n                  title: \"Get more information about Excess Waiver coverage\",\n                  type: \"button\",\n                  children: \"Find out more\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2414,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2411,\n                columnNumber: 17\n              }, this)]\n            }, policy.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2397,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2393,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2391,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total-summary-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"base-plan\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Base Plan: \", (_formData$selectedQuo14 = formData.selectedQuote) === null || _formData$selectedQuo14 === void 0 ? void 0 : _formData$selectedQuo14.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2434,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20AC\", (_formData$selectedQuo15 = formData.selectedQuote) === null || _formData$selectedQuo15 === void 0 ? void 0 : _formData$selectedQuo15.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2435,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2433,\n            columnNumber: 11\n          }, this), formData.additionalPolicies.map(policy => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"additional-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: policy.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20AC\", policy.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2440,\n              columnNumber: 15\n            }, this)]\n          }, policy.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2438,\n            columnNumber: 13\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-line\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-label\",\n              children: \"Total Premium:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2444,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-amount\",\n              children: [\"\\u20AC\", calculateTotalPrice().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2445,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2443,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2432,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2431,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2375,\n      columnNumber: 5\n    }, this);\n  };\n  const renderPhase4 = () => {\n    var _formData$selectedQuo16;\n    const calculateTripDuration = () => {\n      if (formData.startDate && formData.endDate) {\n        const start = new Date(formData.startDate);\n        const end = new Date(formData.endDate);\n        const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 3600 * 24));\n        return days;\n      }\n      return 0;\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wizard-phase\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Review Your Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please carefully review all information below. You can go back to make changes if needed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"professional-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDF0D Trip Overview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2472,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Insurance Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2477,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formData.tripType === 'single' ? 'Single Trip Insurance' : formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' : 'Comprehensive Single Trip Insurance'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2478,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Country of Residence:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2486,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formData.countryOfResidence\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2487,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2485,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Destination:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2490,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formData.destination\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2491,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2489,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Departure Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2494,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formatDateToEuropean(formData.startDate)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2495,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2493,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Return Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2498,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formatDateToEuropean(formData.endDate)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2499,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2497,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Trip Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2502,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: [calculateTripDuration(), \" days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2503,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2501,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Number of Travelers:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2506,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: [formData.numberOfTravelers, \" \", formData.numberOfTravelers === 1 ? 'person' : 'people']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2507,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2505,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2475,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDC65 Traveler Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2516,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: formData.travelers.map((traveler, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"traveler-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"traveler-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"Primary \", index === 0 ? 'Policyholder' : `Traveler ${index + 1}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2522,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"traveler-details\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"Full Name:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2527,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: [traveler.firstName, \" \", traveler.lastName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2528,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2526,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"Age:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2531,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: [traveler.age, \" years old\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2532,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2530,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"Email Address:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2535,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: traveler.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2536,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2534,\n                    columnNumber: 23\n                  }, this), traveler.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"Phone Number:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2540,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: traveler.phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2541,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2539,\n                    columnNumber: 25\n                  }, this), traveler.vaxId && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"VAX ID:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2546,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: traveler.vaxId\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2547,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2545,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2525,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2524,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2520,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2514,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDEE1\\uFE0F Selected Insurance Plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2560,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2559,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: formData.selectedQuote && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"plan-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"plan-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: formData.selectedQuote.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2566,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"plan-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"price-label\",\n                    children: \"Total Premium:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2568,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"price-value\",\n                    children: [\"\\u20AC\", calculateTotalPrice().toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2569,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2567,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2565,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coverage-overview\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Coverage Limits\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2574,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"coverage-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"coverage-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"coverage-icon\",\n                      children: \"\\uD83C\\uDFE5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2577,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"coverage-details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-type\",\n                        children: \"Medical Emergency\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2579,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-amount\",\n                        children: formData.selectedQuote.coverage.medical\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2580,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2578,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2576,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"coverage-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"coverage-icon\",\n                      children: \"\\uD83E\\uDDF3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2584,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"coverage-details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-type\",\n                        children: \"Baggage Protection\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2586,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-amount\",\n                        children: formData.selectedQuote.coverage.baggage\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2587,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2585,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2583,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"coverage-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"coverage-icon\",\n                      children: \"\\u274C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2591,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"coverage-details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-type\",\n                        children: \"Trip Cancellation\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2593,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"coverage-amount\",\n                        children: formData.selectedQuote.coverage.cancellation\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2594,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2592,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2590,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2575,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2573,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"features-overview\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Included Benefits\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2601,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"features-grid\",\n                  children: formData.selectedQuote.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"feature-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"feature-check\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2605,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"feature-text\",\n                      children: feature\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2606,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2604,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2602,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2600,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2564,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2562,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2558,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card total-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-label\",\n                  children: \"Base Premium:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2621,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-value\",\n                  children: [\"\\u20AC\", (_formData$selectedQuo16 = formData.selectedQuote) === null || _formData$selectedQuo16 === void 0 ? void 0 : _formData$selectedQuo16.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2622,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2620,\n                columnNumber: 17\n              }, this), formData.additionalPolicies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-label\",\n                  children: \"Additional Policies:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2626,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-value\",\n                  children: [\"\\u20AC\", formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2627,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2625,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-label\",\n                  children: \"Taxes & Fees:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2631,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-value\",\n                  children: \"Included\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2632,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2630,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-row final-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-label\",\n                  children: \"Total Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2635,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-value\",\n                  children: [\"\\u20AC\", calculateTotalPrice().toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2636,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2634,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2619,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2618,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2617,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2468,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2464,\n      columnNumber: 7\n    }, this);\n  };\n  const renderPhase5 = () => {\n    var _formData$selectedQuo17;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wizard-phase\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Confirmation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2648,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please confirm that all details are correct before proceeding to payment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2649,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Trip:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2653,\n            columnNumber: 11\n          }, this), \" \", formData.destination, \" (\", formatDateToEuropean(formData.startDate), \" to \", formatDateToEuropean(formData.endDate), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2652,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Country of Residence:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2656,\n            columnNumber: 11\n          }, this), \" \", formData.countryOfResidence]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2655,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Travelers:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2659,\n            columnNumber: 11\n          }, this), \" \", formData.numberOfTravelers, \" person\", formData.numberOfTravelers > 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2658,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Plan:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2662,\n            columnNumber: 11\n          }, this), \" \", (_formData$selectedQuo17 = formData.selectedQuote) === null || _formData$selectedQuo17 === void 0 ? void 0 : _formData$selectedQuo17.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2661,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-item total\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2665,\n            columnNumber: 11\n          }, this), \" \\u20AC\", calculateTotalPrice().toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2664,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2651,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"terms-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"checkbox-option\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2671,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"I agree to the \", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"link-button\",\n              onClick: () => onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate('privacy'),\n              style: {\n                background: 'none',\n                border: 'none',\n                color: '#0077b6',\n                textDecoration: 'underline',\n                cursor: 'pointer'\n              },\n              children: \"Terms and Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2672,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2672,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2670,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"checkbox-option\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2681,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"I agree to the \", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"link-button\",\n              onClick: () => onNavigate === null || onNavigate === void 0 ? void 0 : onNavigate('privacy'),\n              style: {\n                background: 'none',\n                border: 'none',\n                color: '#0077b6',\n                textDecoration: 'underline',\n                cursor: 'pointer'\n              },\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2682,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2682,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2680,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"checkbox-option\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2691,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"I would like to receive marketing emails about travel insurance offers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2692,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2690,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2669,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2647,\n      columnNumber: 5\n    }, this);\n  };\n  const renderPhase6 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wizard-phase\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Screening Questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2700,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please answer the following questions to complete your insurance application.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2701,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screening-questions\",\n      children: screeningQuestions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-questions\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No screening questions required for this policy.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2706,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2705,\n        columnNumber: 11\n      }, this) : screeningQuestions.map((question, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"screening-question\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Question \", question.questionNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2711,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question-text\",\n          children: question.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2712,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question-${question.questionNumber}`,\n              value: \"yes\",\n              checked: screeningAnswers[question.questionNumber] === 'yes',\n              onChange: e => setScreeningAnswers(prev => ({\n                ...prev,\n                [question.questionNumber]: 'yes'\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2716,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2726,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2715,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question-${question.questionNumber}`,\n              value: \"no\",\n              checked: screeningAnswers[question.questionNumber] === 'no',\n              onChange: e => setScreeningAnswers(prev => ({\n                ...prev,\n                [question.questionNumber]: 'no'\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2729,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2739,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2728,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2714,\n          columnNumber: 15\n        }, this), screeningAnswers[question.questionNumber] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `answer-message ${screeningAnswers[question.questionNumber]}`,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: screeningAnswers[question.questionNumber] === 'yes' ? question.yesMessage : question.noMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2746,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2745,\n          columnNumber: 17\n        }, this)]\n      }, question.questionNumber, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2710,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2703,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2699,\n    columnNumber: 5\n  }, this);\n  const renderPhase7 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wizard-phase\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Payment Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2762,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Enter your payment information to complete your purchase.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2763,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-methods\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2768,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-method-info\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"We accept all major credit and debit cards for secure payment processing.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2770,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2769,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2767,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Card Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2775,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"cardNumber\",\n            children: \"Card Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2777,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"cardNumber\",\n            value: formData.cardNumber,\n            onChange: e => handleInputChange('cardNumber', e.target.value),\n            placeholder: \"1234 5678 9012 3456\",\n            title: \"Enter your 16-digit card number\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2778,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"expiryDate\",\n              children: \"Expiry Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"expiryDate\",\n              value: formData.expiryDate,\n              onChange: e => handleInputChange('expiryDate', e.target.value),\n              placeholder: \"MM/YY\",\n              title: \"Enter card expiry date in MM/YY format\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2791,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2789,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cvv\",\n              children: \"CVV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2802,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"cvv\",\n              value: formData.cvv,\n              onChange: e => handleInputChange('cvv', e.target.value),\n              placeholder: \"123\",\n              title: \"Enter the 3-digit CVV code from the back of your card\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2803,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2801,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2788,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2774,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"billing-address\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Billing Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2817,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"street\",\n            children: \"Street Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2819,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"street\",\n            value: formData.billingAddress.street,\n            onChange: e => handleBillingAddressChange('street', e.target.value),\n            placeholder: \"Enter street address\",\n            title: \"Enter your billing street address\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2820,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2818,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"city\",\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2832,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"city\",\n              value: formData.billingAddress.city,\n              onChange: e => handleBillingAddressChange('city', e.target.value),\n              placeholder: \"Enter city\",\n              title: \"Enter your billing city\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2833,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2831,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"postalCode\",\n              children: \"Postal Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2844,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"postalCode\",\n              value: formData.billingAddress.postalCode,\n              onChange: e => handleBillingAddressChange('postalCode', e.target.value),\n              placeholder: \"Enter postal code\",\n              title: \"Enter your billing postal code\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2845,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2843,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2830,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"country\",\n            children: \"Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"country\",\n            value: formData.billingAddress.country,\n            onChange: e => handleBillingAddressChange('country', e.target.value),\n            placeholder: \"Enter country\",\n            title: \"Enter your billing country\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2858,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2856,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2816,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2766,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-summary\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-item\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Total Amount: \\u20AC\", calculateTotalPrice().toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2873,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2872,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2871,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2761,\n    columnNumber: 5\n  }, this);\n  const renderPhase8 = () => {\n    var _formData$travelers$, _formData$selectedQuo18, _formData$selectedQuo19;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wizard-phase\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF89 Congratulations!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2881,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Your travel insurance has been successfully purchased.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2882,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"policy-number\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Policy Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2886,\n            columnNumber: 11\n          }, this), \" \", policyNumber || `TI-${Date.now().toString().slice(-8)}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2885,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmation-email\",\n          children: [\"A confirmation email has been sent to \", (_formData$travelers$ = formData.travelers[0]) === null || _formData$travelers$ === void 0 ? void 0 : _formData$travelers$.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2888,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2884,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"documents-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2894,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-links\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: downloadPolicyPDF,\n            className: \"document-link download-btn\",\n            \"aria-label\": \"Download your policy summary as a PDF document\",\n            title: \"Download a PDF copy of your travel insurance policy summary\",\n            type: \"button\",\n            children: \"\\uD83D\\uDCC4 Download Your Policy Summary (PDF)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2896,\n            columnNumber: 11\n          }, this), ((_formData$selectedQuo18 = formData.selectedQuote) === null || _formData$selectedQuo18 === void 0 ? void 0 : _formData$selectedQuo18.summaryOfCoverUrl) && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: formData.selectedQuote.summaryOfCoverUrl,\n            className: \"document-link\",\n            download: true,\n            children: \"\\uD83D\\uDCC4 Download Summary of Cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2906,\n            columnNumber: 13\n          }, this), ((_formData$selectedQuo19 = formData.selectedQuote) === null || _formData$selectedQuo19 === void 0 ? void 0 : _formData$selectedQuo19.policyWordingUrl) && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: formData.selectedQuote.policyWordingUrl,\n            className: \"document-link\",\n            download: true,\n            children: \"\\uD83D\\uDCCB Download Policy Terms & Conditions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2911,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/Globelink_Wording_EU_V2_07.03.2025.pdf\",\n            className: \"document-link\",\n            download: true,\n            children: \"\\uD83C\\uDD94 Download Insurance Card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2915,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/Globelink_Wording_EU_V2_07.03.2025.pdf\",\n            className: \"document-link\",\n            download: true,\n            children: \"\\uD83D\\uDCDE Emergency Contact Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2918,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2895,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2893,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"next-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"What's Next?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2925,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Save your policy documents in a safe place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2927,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Keep the emergency contact numbers with you while traveling\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2928,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Download our mobile app for easy access to your policy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2929,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Contact us anytime at +30 6974907500 for assistance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2930,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2926,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2924,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2880,\n      columnNumber: 5\n    }, this);\n  };\n  const renderPhaseContent = () => {\n    switch (currentPhase) {\n      case 1:\n        return renderPhase1();\n      case 2:\n        return renderPhase2();\n      case 3:\n        return renderPhase3();\n      case 4:\n        return renderPhase4();\n      case 5:\n        return renderPhase5();\n      case 6:\n        return renderPhase6();\n      case 7:\n        return renderPhase7();\n      case 8:\n        return renderPhase8();\n      default:\n        return renderPhase1();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quote-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2961,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wizard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Travel Insurance Quote Wizard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wizard-progress\",\n          children: [1, 2, 3, 4, 5, 6, 7, 8].map(phase => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-step ${currentPhase >= phase ? 'active' : ''} ${currentPhase === phase ? 'current' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-number\",\n              children: phase\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2975,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"step-label\",\n              children: [phase === 1 && 'Details', phase === 2 && 'Quotes', phase === 3 && 'Add-ons', phase === 4 && 'Review', phase === 5 && 'Confirm', phase === 6 && 'Screening', phase === 7 && 'Payment', phase === 8 && 'Documents']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2976,\n              columnNumber: 19\n            }, this)]\n          }, phase, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2974,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2972,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2970,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wizard-content\",\n        children: renderPhaseContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2991,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wizard-navigation\",\n        children: [currentPhase > 1 && currentPhase < 8 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: prevPhase,\n          \"aria-label\": \"Go to previous step\",\n          title: \"Go back to the previous step\",\n          type: \"button\",\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2997,\n          columnNumber: 13\n        }, this), currentPhase < 7 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: nextPhase,\n          disabled: !isPhaseValid(currentPhase),\n          \"aria-label\": currentPhase === 6 ? 'Proceed to payment step' : 'Go to next step',\n          title: currentPhase === 6 ? 'Continue to payment details' : 'Continue to next step',\n          type: \"button\",\n          children: currentPhase === 6 ? 'Proceed to Payment' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3009,\n          columnNumber: 13\n        }, this), currentPhase === 7 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: processPayment,\n            disabled: !isPhaseValid(currentPhase) || isProcessing,\n            \"aria-label\": isProcessing ? 'Processing payment, please wait' : `Pay â‚¬${calculateTotalPrice().toFixed(2)} for your travel insurance`,\n            title: isProcessing ? 'Payment is being processed, please wait' : `Complete payment of â‚¬${calculateTotalPrice().toFixed(2)}`,\n            type: \"button\",\n            style: {\n              opacity: !isPhaseValid(currentPhase) || isProcessing ? 0.5 : 1,\n              cursor: !isPhaseValid(currentPhase) || isProcessing ? 'not-allowed' : 'pointer'\n            },\n            children: isProcessing ? 'Processing Payment...' : `Pay â‚¬${calculateTotalPrice().toFixed(2)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3023,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), currentPhase === 8 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => window.location.href = '/',\n          \"aria-label\": \"Return to homepage\",\n          title: \"Go back to the main homepage\",\n          type: \"button\",\n          children: \"Return to Homepage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3042,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2995,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2969,\n      columnNumber: 7\n    }, this), showHelpPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"help-popup-overlay\",\n      onClick: () => setShowHelpPopup(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"help-popup\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-popup-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Destination Categories & Countries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3060,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"help-popup-close\",\n            onClick: () => setShowHelpPopup(false),\n            \"aria-label\": \"Close help popup\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3061,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3059,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-popup-content\",\n          children: isLoadingCountries ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-message\",\n            children: \"Loading countries...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3072,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories-container\",\n            children: Object.entries(countriesByCategory).map(([category, countries]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"category-title\",\n                children: category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3077,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"countries-grid\",\n                children: countries.map(country => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"country-item\",\n                  children: country\n                }, country, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3080,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3078,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"category-count\",\n                children: [countries.length, \" countries\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3085,\n                columnNumber: 23\n              }, this)]\n            }, category, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3076,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3074,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3070,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3058,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3057,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2960,\n    columnNumber: 5\n  }, this);\n};\n_s2(Quote2, \"QD1AsjGeaX9okdfDoed8wHzQi0Y=\");\n_c = Quote2;\nexport default Quote2;\nvar _c;\n$RefreshReg$(_c, \"Quote2\");","map":{"version":3,"names":["React","useState","useEffect","useRef","createQuote","processPayment","apiProcessPayment","TerracottaService","jsxDEV","_jsxDEV","Fragment","_Fragment","generatePDF","formData","calculateTotalPrice","formatDateToEuropean","policyNumber","_formData$selectedQuo","jsPDF","default","doc","currentDate","Date","toLocaleDateString","setFontSize","text","yPos","tripType","countryOfResidence","destination","startDate","endDate","numberOfTravelers","travelers","forEach","traveler","index","addPage","firstName","lastName","age","email","phone","selectedQuote","name","coverage","medical","baggage","cancellation","features","length","feature","additionalPolicies","policy","price","toFixed","additional","reduce","sum","save","error","console","generateHTMLPolicy","_formData$selectedQuo2","htmlContent","map","join","printWindow","window","open","document","write","close","dateString","year","month","day","split","calculateAgeFromDateOfBirth","dateOfBirth","birthDate","today","getFullYear","monthDiff","getMonth","getDate","Math","max","Quote2","onNavigate","_s2","_s","$RefreshSig$","currentPhase","setCurrentPhase","setFormData","vaxId","nationality","paymentMethod","cardNumber","expiryDate","cvv","billingAddress","street","city","postalCode","country","quoteOptions","setQuoteOptions","isProcessing","setIsProcessing","setPolicyNumber","terracottaService","log","getInstance","screeningQuestions","setScreeningQuestions","screeningAnswers","setScreeningAnswers","isLoadingQuotes","setIsLoadingQuotes","quoteError","setQuoteError","availableProducts","setAvailableProducts","isLoadingProducts","setIsLoadingProducts","availablePolicyTypes","setAvailablePolicyTypes","isLoadingPolicyTypes","setIsLoadingPolicyTypes","destinationCategories","setDestinationCategories","isLoadingCategories","setIsLoadingCategories","showHelpPopup","setShowHelpPopup","countriesByCategory","setCountriesByCategory","isLoadingCountries","setIsLoadingCountries","countriesOfResidence","setCountriesOfResidence","isLoadingCountriesOfResidence","setIsLoadingCountriesOfResidence","availableAdditionalPolicies","id","description","icon","category","scrollTo","top","behavior","loadTerracottaProducts","_productResponse$Sche","productResponse","getUserProductList","Schemas","loadPolicyTypes","allPolicyTypes","product","SchemaID","SchemaName","policyResponse","getUserProductTypePolicy","toString","policyTypesWithSchema","PolicyTypes","policyType","push","uniquePolicyTypes","filter","self","findIndex","p","TypePolicyID","loadCountriesOfResidence","response","fetch","data","json","status","countries","message","loadDestinationCategories","categories","loadCountriesForCategories","countriesData","encodeURIComponent","generateQuotesIfNeeded","options","generateQuoteOptions","sampleQuotes","generateSampleSOAPQuotes","_response$quoteResult","terracottaRequest","convertToTerracottaFormat","provideQuotation","Message","quoteResults","realQuotes","result","QuoteID","schemaName","typePolicyName","policytypeName","type","isBestBuy","GrossPrice","coverLevel","toLocaleString","activities","isAnnual","maxDaysPerTrip","terracottaQuoteId","policyTypeName","summaryOfCoverUrl","SI","policyWordingUrl","PW","currency","ipt","IPT","schemaID","destinationCategory","destinationName","residenceName","packageName","typePackageName","isBestBuyText","discount","Discount","iconURL","IconURL","helpFile","HelpFile","policytypeShortName","keyFactsUrl","KF","policyTypeID","PolicyTypeID","destinationID","DestinationID","packageID","PackageID","screeningPremium","ipRate","IPTRate","netUW","wbComm","agentComm","calculateRealCoverageLevels","baseMedical","baseBaggage","baseCancellation","medicalMultiplier","baggageMultiplier","cancellationMultiplier","toLowerCase","includes","parseInt","replace","generateActivitiesForDestination","generateFeaturesFromSOAPData","baseFeatures","soapFeatures","destinationFeatures","calculateCoverageLevels","determineQuoteType","generateFeaturesForDestination","baseActivities","generateEnhancedMockQuoteOptions","days","ceil","getTime","basePrice","dailyRate","tripMultiplier","mockQuotes","schemasToUse","schema","round","quoteType","now","generateLegacyMockQuoteOptions","CustomDatePicker","value","onChange","placeholder","required","minDate","isOpen","setIsOpen","setCurrentDate","pickerRef","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","isDateValid","date","setHours","inputDate","minDateObj","generateCalendar","firstDay","lastDay","daysInMonth","startingDayOfWeek","getDay","i","className","fileName","_jsxFileName","lineNumber","columnNumber","padStart","isSelected","isToday","toDateString","isValid","onClick","style","cursor","opacity","children","navigateMonth","direction","monthNames","ref","e","formattedValue","formatDateInput","isoDate","convertToISO","title","pattern","maxLength","handleInputChange","field","prev","newData","setDate","handleTravelerChange","handleNumberOfTravelersChange","count","splice","handleBillingAddressChange","ddmmyyyy","toISOString","digits","slice","nextPhase","standardPlan","find","option","_formData$selectedQuo3","screeningResponse","getScreeningQuestions","questionNumber","question","yesMessage","noMessage","yesAction","noAction","yesActionText","noActionText","prevPhase","selectQuote","quote","addAdditionalPolicy","removeAdditionalPolicy","policyId","_formData$selectedQuo4","additionalPrice","generatePolicyPDF","downloadPolicyPDF","quoteData","totalAmount","quoteResponse","_formData$selectedQuo5","quoteId","terracottaScreeningAnswers","Object","entries","answer","savePolicyResponse","savePolicyDetails","userID","userCode","quoteID","screeningQuestionAnswers","policySaved","policyID","Error","terracottaError","paymentData","amount","paymentResponse","_paymentResponse$data","alert","isPhaseValid","phase","every","t","keys","paymentValid","renderPhase1","htmlFor","fontSize","color","marginLeft","disabled","tripTypeValue","TypePolicyName","Description","country_name","country_id","undefined","num","min","readOnly","backgroundColor","renderPhase2","textAlign","marginBottom","margin","fontWeight","fontFamily","display","gridTemplateColumns","gap","marginTop","maxWidth","_formData$selectedQuo6","_formData$selectedQuo7","_formData$selectedQuo8","_formData$selectedQuo1","_formData$selectedQuo10","_formData$selectedQuo13","background","border","borderRadius","padding","transition","boxShadow","position","onMouseEnter","_formData$selectedQuo9","currentTarget","borderColor","onMouseLeave","_formData$selectedQuo0","right","width","height","alignItems","justifyContent","lineHeight","marginRight","textTransform","_formData$selectedQuo11","_formData$selectedQuo12","gridColumn","renderPhase3","_formData$selectedQuo14","_formData$selectedQuo15","some","renderPhase4","_formData$selectedQuo16","calculateTripDuration","start","end","renderPhase5","_formData$selectedQuo17","textDecoration","renderPhase6","checked","renderPhase7","renderPhase8","_formData$travelers$","_formData$selectedQuo18","_formData$selectedQuo19","href","download","renderPhaseContent","location","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/laptop-123/TravelInsurance_Demo_2/src/pages/Quote2.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './Quote2.css';\n// Import API service for database integration\nimport { createQuote, processPayment as apiProcessPayment } from '../services/apiService';\n// Import Terracotta service for insurance quotes\nimport TerracottaService, { \n  TerracottaQuoteResponse, \n  TerracottaQuoteResult, \n  TerracottaScreeningQuestionsResponse,\n  TerracottaSavePolicyResponse,\n  TerracottaProductListResponse,\n  TerracottaPolicyType,\n  TerracottaPolicyTypeResponse,\n  TerracottaPolicyTypeDestination,\n  TerracottaPolicyTypeDestinationResponse\n} from '../services/terracottaService';\n\n// Import jsPDF dynamically to avoid build issues\nconst generatePDF = async (formData: any, calculateTotalPrice: () => number, formatDateToEuropean: (date: string) => string, policyNumber: string) => {\n  try {\n    // Dynamic import of jsPDF\n    const jsPDF = (await import('jspdf')).default;\n    \n    const doc = new jsPDF();\n    const currentDate = new Date().toLocaleDateString('en-GB');\n    \n    // Set up fonts and styles\n    doc.setFontSize(20);\n    doc.text('TRAVEL INSURANCE POLICY', 20, 20);\n    \n    doc.setFontSize(14);\n    doc.text(`Policy Number: ${policyNumber}`, 20, 35);\n    doc.text(`Issue Date: ${currentDate}`, 20, 45);\n    \n    let yPos = 65;\n    \n    // Trip Information Section\n    doc.setFontSize(16);\n    doc.text('TRIP INFORMATION', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    const tripType = formData.tripType === 'single' ? 'Single Trip Insurance' : \n                    formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : \n                    formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' :\n                    'Comprehensive Single Trip Insurance';\n    \n    doc.text(`Trip Type: ${tripType}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Country of Residence: ${formData.countryOfResidence}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Destination: ${formData.destination}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Departure: ${formatDateToEuropean(formData.startDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Return: ${formatDateToEuropean(formData.endDate)}`, 20, yPos);\n    yPos += 10;\n    doc.text(`Travelers: ${formData.numberOfTravelers}`, 20, yPos);\n    yPos += 20;\n    \n    // Traveler Information\n    doc.setFontSize(16);\n    doc.text('TRAVELER INFORMATION', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    formData.travelers.forEach((traveler: any, index: number) => {\n      if (yPos > 250) { // New page if needed\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.text(`${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}:`, 20, yPos);\n      yPos += 10;\n      doc.text(`Name: ${traveler.firstName} ${traveler.lastName}`, 20, yPos);\n      yPos += 8;\n      doc.text(`Age: ${traveler.age} years old`, 20, yPos);\n      yPos += 8;\n      doc.text(`Email: ${traveler.email}`, 20, yPos);\n      yPos += 8;\n      if (traveler.phone) {\n        doc.text(`Phone: ${traveler.phone}`, 20, yPos);\n        yPos += 8;\n      }\n      yPos += 10;\n    });\n    \n    // Selected Plan\n    if (formData.selectedQuote) {\n      if (yPos > 180) {\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.setFontSize(16);\n      doc.text('SELECTED INSURANCE PLAN', 20, yPos);\n      yPos += 15;\n      \n      doc.setFontSize(12);\n      doc.text(`Plan: ${formData.selectedQuote.name}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Medical: ${formData.selectedQuote.coverage.medical}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Baggage: ${formData.selectedQuote.coverage.baggage}`, 20, yPos);\n      yPos += 10;\n      doc.text(`Cancellation: ${formData.selectedQuote.coverage.cancellation}`, 20, yPos);\n      yPos += 15;\n      \n      // Add Included Features\n      if (formData.selectedQuote.features && formData.selectedQuote.features.length > 0) {\n        doc.text('Included Features:', 20, yPos);\n        yPos += 10;\n        formData.selectedQuote.features.forEach((feature: string) => {\n          if (yPos > 270) { // Check for page break\n            doc.addPage();\n            yPos = 20;\n          }\n          doc.text(`â€¢ ${feature}`, 25, yPos);\n          yPos += 8;\n        });\n        yPos += 10;\n      }\n    }\n    \n    // Additional Coverage\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      if (yPos > 220) {\n        doc.addPage();\n        yPos = 20;\n      }\n      \n      doc.setFontSize(16);\n      doc.text('ADDITIONAL COVERAGE', 20, yPos);\n      yPos += 15;\n      \n      doc.setFontSize(12);\n      formData.additionalPolicies.forEach((policy: any) => {\n        if (yPos > 270) { // Check for page break\n          doc.addPage();\n          yPos = 20;\n        }\n        doc.text(`â€¢ ${policy.name} - â‚¬${policy.price.toFixed(2)}`, 25, yPos);\n        yPos += 8;\n      });\n      yPos += 15;\n    }\n    \n    // Premium Summary\n    if (yPos > 200) {\n      doc.addPage();\n      yPos = 20;\n    }\n    \n    doc.setFontSize(16);\n    doc.text('PREMIUM SUMMARY', 20, yPos);\n    yPos += 15;\n    \n    doc.setFontSize(12);\n    doc.text(`Base Premium: â‚¬${formData.selectedQuote?.price}`, 20, yPos);\n    yPos += 10;\n    if (formData.additionalPolicies && formData.additionalPolicies.length > 0) {\n      const additional = formData.additionalPolicies.reduce((sum: number, policy: any) => sum + policy.price, 0);\n      doc.text(`Additional Policies: â‚¬${additional.toFixed(2)}`, 20, yPos);\n      yPos += 10;\n    }\n    doc.text('Taxes & Fees: Included', 20, yPos);\n    yPos += 10;\n    doc.text(`Total Premium: â‚¬${calculateTotalPrice().toFixed(2)}`, 20, yPos);\n    yPos += 20;\n    \n    doc.text('Emergency Contact: +30 6974907500', 20, yPos);\n    \n    // Save the PDF\n    doc.save(`Travel_Insurance_Policy_${policyNumber}.pdf`);\n    \n  } catch (error) {\n    console.error('PDF generation failed, falling back to HTML:', error);\n    // Fallback to HTML generation if PDF fails\n    generateHTMLPolicy(formData, calculateTotalPrice, formatDateToEuropean, policyNumber);\n  }\n};\n\nconst generateHTMLPolicy = (formData: any, calculateTotalPrice: () => number, formatDateToEuropean: (date: string) => string, policyNumber: string) => {\n  const currentDate = new Date().toLocaleDateString('en-GB');\n  \n  const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Travel Insurance Policy - ${policyNumber}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }\n        .header { text-align: center; border-bottom: 2px solid #0077b6; padding-bottom: 20px; margin-bottom: 30px; }\n        .section { margin-bottom: 25px; }\n        .section-title { color: #0077b6; font-size: 16px; font-weight: bold; margin-bottom: 10px; }\n        .info-row { margin: 8px 0; }\n        .traveler-block { margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; }\n        @media print { body { margin: 0; } }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>TRAVEL INSURANCE POLICY</h1>\n        <h2>Policy Number: ${policyNumber}</h2>\n        <p>Issue Date: ${currentDate}</p>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRIP INFORMATION</div>\n        <div class=\"info-row\"><strong>Trip Type:</strong> ${formData.tripType === 'single' ? 'Single Trip Insurance' : \n                        formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' : \n                        formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' :\n                        'Comprehensive Single Trip Insurance'}</div>\n        <div class=\"info-row\"><strong>Country of Residence:</strong> ${formData.countryOfResidence}</div>\n        <div class=\"info-row\"><strong>Destination:</strong> ${formData.destination}</div>\n        <div class=\"info-row\"><strong>Departure:</strong> ${formatDateToEuropean(formData.startDate)}</div>\n        <div class=\"info-row\"><strong>Return:</strong> ${formatDateToEuropean(formData.endDate)}</div>\n        <div class=\"info-row\"><strong>Travelers:</strong> ${formData.numberOfTravelers}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"section-title\">TRAVELER INFORMATION</div>\n        ${formData.travelers.map((traveler: any, index: number) => `\n            <div class=\"traveler-block\">\n                <strong>${index === 0 ? 'Primary Policyholder' : `Traveler ${index + 1}`}</strong>\n                <div class=\"info-row\"><strong>Name:</strong> ${traveler.firstName} ${traveler.lastName}</div>\n                <div class=\"info-row\"><strong>Age:</strong> ${traveler.age} years old</div>\n                <div class=\"info-row\"><strong>Email:</strong> ${traveler.email}</div>\n                ${traveler.phone ? `<div class=\"info-row\"><strong>Phone:</strong> ${traveler.phone}</div>` : ''}\n            </div>\n        `).join('')}\n    </div>\n    \n    ${formData.selectedQuote ? `\n    <div class=\"section\">\n        <div class=\"section-title\">SELECTED INSURANCE PLAN</div>\n        <div class=\"info-row\"><strong>Plan:</strong> ${formData.selectedQuote.name}</div>\n        <div class=\"info-row\"><strong>Medical Coverage:</strong> ${formData.selectedQuote.coverage.medical}</div>\n        <div class=\"info-row\"><strong>Baggage Coverage:</strong> ${formData.selectedQuote.coverage.baggage}</div>\n        <div class=\"info-row\"><strong>Trip Cancellation:</strong> ${formData.selectedQuote.coverage.cancellation}</div>\n        \n        ${formData.selectedQuote.features && formData.selectedQuote.features.length > 0 ? `\n        <div style=\"margin-top: 15px;\">\n            <strong>Included Features:</strong>\n            <ul>\n                ${formData.selectedQuote.features.map((feature: string) => `<li>${feature}</li>`).join('')}\n            </ul>\n        </div>\n        ` : ''}\n    </div>\n    ` : ''}\n    \n    ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n    <div class=\"section\">\n        <div class=\"section-title\">ADDITIONAL COVERAGE</div>\n        <ul>\n            ${formData.additionalPolicies.map((policy: any) => `<li>${policy.name} - â‚¬${policy.price.toFixed(2)}</li>`).join('')}\n        </ul>\n    </div>\n    ` : ''}\n    \n    <div class=\"section\">\n        <div class=\"section-title\">PREMIUM SUMMARY</div>\n        <div class=\"info-row\"><strong>Base Premium:</strong> â‚¬${formData.selectedQuote?.price}</div>\n        ${formData.additionalPolicies && formData.additionalPolicies.length > 0 ? `\n        <div class=\"info-row\"><strong>Additional Policies:</strong> â‚¬${formData.additionalPolicies.reduce((sum: number, policy: any) => sum + policy.price, 0).toFixed(2)}</div>\n        ` : ''}\n        <div class=\"info-row\"><strong>Taxes & Fees:</strong> Included</div>\n        <div class=\"info-row\"><strong>Total Premium:</strong> â‚¬${calculateTotalPrice().toFixed(2)}</div>\n    </div>\n    \n    <div class=\"section\">\n        <div class=\"info-row\"><strong>Emergency Contact:</strong> +30 6974907500</div>\n        <div class=\"info-row\" style=\"margin-top: 20px; font-style: italic;\">\n            This document serves as proof of travel insurance coverage.\n        </div>\n    </div>\n    \n    <script>\n        window.onload = function() { window.print(); };\n        window.onafterprint = function() { window.close(); };\n    </script>\n</body>\n</html>`;\n\n  const printWindow = window.open('', '_blank', 'width=800,height=600');\n  if (printWindow) {\n    printWindow.document.write(htmlContent);\n    printWindow.document.close();\n  }\n};\n\n// Format date to European format (DD/MM/YYYY)\nconst formatDateToEuropean = (dateString: string): string => {\n  if (!dateString) return '';\n  // Parse the ISO date string directly to avoid timezone issues\n  const [year, month, day] = dateString.split('-');\n  return `${day}/${month}/${year}`;\n};\n\nconst calculateAgeFromDateOfBirth = (dateOfBirth: string): number => {\n  const birthDate = new Date(dateOfBirth);\n  const today = new Date();\n  let age = today.getFullYear() - birthDate.getFullYear();\n  const monthDiff = today.getMonth() - birthDate.getMonth();\n  \n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n    age--;\n  }\n  \n  return Math.max(0, age);\n};\n\ninterface TravelerInfo {\n  firstName: string;\n  lastName: string;\n  age: string;\n  email: string;\n  phone: string;\n  vaxId: string;\n  nationality: string;\n  title?: string;\n  dateOfBirth?: string;\n  gender?: string;\n}\n\ninterface QuoteOption {\n  id: string;\n  name: string;\n  type: 'basic' | 'standard' | 'premium';\n  price: number;\n  coverage: {\n    medical: string;\n    baggage: string;\n    cancellation: string;\n    activities: string[];\n  };\n  features: string[];\n  // Terracotta specific fields\n  terracottaQuoteId?: string;\n  schemaName?: string;\n  policyTypeName?: string;\n  summaryOfCoverUrl?: string;\n  policyWordingUrl?: string;\n  currency?: string;\n  ipt?: number;\n  // Enhanced metadata fields\n  schemaID?: number;\n  destinationCategory?: string;\n  tripType?: string;\n  // Enhanced SOAP fields\n  residenceName?: string;\n  destinationName?: string;\n  packageName?: string;\n  typePackageName?: string;\n  isAnnual?: number;\n  isBestBuy?: number;\n  maxDaysPerTrip?: number;\n  coverLevel?: number;\n  discount?: number;\n  iconURL?: string;\n  helpFile?: string;\n  policytypeShortName?: string;\n  // Additional SOAP response fields\n  keyFactsUrl?: string;\n  policyTypeID?: number;\n  destinationID?: number;\n  packageID?: number;\n  screeningPremium?: number;\n  ipRate?: number;\n  netUW?: number;\n  wbComm?: number;\n  agentComm?: number;\n  // Additional fields from SOAP response\n  typePolicyName?: string;\n  isBestBuyText?: string;\n}\n\ninterface QuoteFormData {\n  // Trip Details\n  destination: string;\n  startDate: string;\n  endDate: string;\n  tripType: 'single' | 'annual' | 'comprehensive' | 'longstay';\n  countryOfResidence: string;\n  \n  // Traveler Information\n  numberOfTravelers: number;\n  travelers: TravelerInfo[];\n  \n  // Selected Quote\n  selectedQuote: QuoteOption | null;\n  \n  // Additional Policies\n  additionalPolicies: AdditionalPolicy[];\n  \n  // Payment Details\n  paymentMethod: 'card' | 'bank' | 'paypal';\n  cardNumber: string;\n  expiryDate: string;\n  cvv: string;\n  billingAddress: {\n    street: string;\n    city: string;\n    postalCode: string;\n    country: string;\n  };\n}\n\ninterface AdditionalPolicy {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  icon: string;\n  category: string;\n}\n\ntype WizardPhase = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\n\ninterface QuoteProps {\n  onNavigate?: (page: string) => void;\n}\n\nconst Quote2: React.FC<QuoteProps> = ({ onNavigate }) => {\n  const [currentPhase, setCurrentPhase] = useState<WizardPhase>(1);\n  const [formData, setFormData] = useState<QuoteFormData>({\n    destination: '',\n    startDate: '',\n    endDate: '',\n    tripType: 'single',\n    countryOfResidence: '',\n    numberOfTravelers: 1,\n    travelers: [\n      {\n        firstName: '',\n        lastName: '',\n        age: '',\n        email: '',\n        phone: '',\n        vaxId: '',\n        nationality: ''\n      }\n    ],\n    selectedQuote: null,\n    additionalPolicies: [],\n    paymentMethod: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    billingAddress: {\n      street: '',\n      city: '',\n      postalCode: '',\n      country: ''\n    }\n  });\n\n  const [quoteOptions, setQuoteOptions] = useState<QuoteOption[]>([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [policyNumber, setPolicyNumber] = useState<string>('');\n  const [terracottaService] = useState<TerracottaService>(() => {\n    console.log('Creating TerracottaService instance...');\n    return TerracottaService.getInstance('4072', '111427');\n  });\n  const [screeningQuestions, setScreeningQuestions] = useState<any[]>([]);\n  const [screeningAnswers, setScreeningAnswers] = useState<{[key: number]: 'yes' | 'no'}>({});\n  const [isLoadingQuotes, setIsLoadingQuotes] = useState(false);\n  const [quoteError, setQuoteError] = useState<string>('');\n  const [availableProducts, setAvailableProducts] = useState<any[]>([]);\n  const [isLoadingProducts, setIsLoadingProducts] = useState(true);\n  \n  // Policy types state\n  const [availablePolicyTypes, setAvailablePolicyTypes] = useState<TerracottaPolicyType[]>([]);\n  const [isLoadingPolicyTypes, setIsLoadingPolicyTypes] = useState(false);\n  \n  // Destination categories state\n  const [destinationCategories, setDestinationCategories] = useState<string[]>([]);\n  const [isLoadingCategories, setIsLoadingCategories] = useState(false);\n  \n  // Help popup state\n  const [showHelpPopup, setShowHelpPopup] = useState(false);\n  const [countriesByCategory, setCountriesByCategory] = useState<{[key: string]: string[]}>({});\n  const [isLoadingCountries, setIsLoadingCountries] = useState(false);\n  \n  // Countries of residence state\n  const [countriesOfResidence, setCountriesOfResidence] = useState<{country_id: number, country_name: string}[]>([]);\n  const [isLoadingCountriesOfResidence, setIsLoadingCountriesOfResidence] = useState(false);\n  \n  const [availableAdditionalPolicies] = useState<AdditionalPolicy[]>([\n    {\n      id: 'excess-waiver',\n      name: 'Excess Waiver',\n      description: 'You can avoid paying the policy excess by adding the Excess Waiver option. This means that in the event of a claim, you won\\'t have the excess deducted from the amount you are paid.',\n      price: 8.45,\n      icon: 'ðŸ›¡ï¸',\n      category: 'Protection'\n    },\n    {\n      id: 'cancellation-top-up',\n      name: 'Cancellation Top Up',\n      description: 'Additional cancellation coverage for enhanced protection against trip cancellation costs.',\n      price: 15.50,\n      icon: 'âŒ',\n      category: 'Cancellation'\n    },\n    {\n      id: 'hazardous-pursuits-cat3',\n      name: 'Hazardous Pursuits Category 3',\n      description: 'Coverage for adventure sports and activities including skiing, snowboarding, and water sports.',\n      price: 12.30,\n      icon: 'ðŸ‚',\n      category: 'Activities'\n    },\n    {\n      id: 'hazardous-pursuits-cat4',\n      name: 'Hazardous Pursuits Category 4',\n      description: 'Coverage for extreme sports including rock climbing, bungee jumping, and skydiving.',\n      price: 18.75,\n      icon: 'ðŸª‚',\n      category: 'Activities'\n    },\n    {\n      id: 'valuables',\n      name: 'Valuables',\n      description: 'Enhanced coverage for valuable items including jewelry, electronics, and expensive equipment.',\n      price: 22.40,\n      icon: 'ðŸ’Ž',\n      category: 'Protection'\n    },\n    {\n      id: 'golfers-extension',\n      name: 'Golfers Extension',\n      description: 'Specialized coverage for golf equipment, green fees, and golf-related incidents.',\n      price: 14.80,\n      icon: 'â›³',\n      category: 'Sports'\n    },\n    {\n      id: 'event-cancellation',\n      name: 'Event Cancellation',\n      description: 'Coverage for cancellation of prepaid events, concerts, or special occasions during your trip.',\n      price: 19.95,\n      icon: 'ðŸŽ«',\n      category: 'Events'\n    },\n    {\n      id: 'repatriation-home',\n      name: 'Repatriation Home For Australians, South Africans, And New Zealanders',\n      description: 'Special repatriation coverage for travelers from Australia, South Africa, and New Zealand.',\n      price: 25.60,\n      icon: 'âœˆï¸',\n      category: 'Repatriation'\n    }\n  ]);\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  // Load available Terracotta products on component mount\n  useEffect(() => {\n    const loadTerracottaProducts = async () => {\n      try {\n        setIsLoadingProducts(true);\n        console.log('Loading Terracotta products...');\n        const productResponse = await terracottaService.getUserProductList();\n        console.log('Terracotta products loaded:', productResponse);\n        console.log(`âœ… Successfully loaded ${productResponse.Schemas?.length || 0} products for your account`);\n        setAvailableProducts(productResponse.Schemas || []);\n        setIsLoadingProducts(false);\n      } catch (error) {\n        console.error('Error loading Terracotta products:', error);\n        setIsLoadingProducts(false);\n        // Don't show error to user, just log it - we'll use fallback\n      }\n    };\n\n    loadTerracottaProducts();\n  }, [terracottaService]);\n\n  // Load policy types when products are available\n  useEffect(() => {\n    const loadPolicyTypes = async () => {\n      if (availableProducts.length === 0) return;\n      \n      try {\n        setIsLoadingPolicyTypes(true);\n        console.log('Loading policy types for available products...');\n        \n        // Load policy types for each product (schema)\n        const allPolicyTypes: TerracottaPolicyType[] = [];\n        \n        for (const product of availableProducts) {\n          try {\n            console.log(`Loading policy types for schema ${product.SchemaID}: ${product.SchemaName}`);\n            const policyResponse = await terracottaService.getUserProductTypePolicy(product.SchemaID.toString());\n            console.log(`Policy types for schema ${product.SchemaID}:`, policyResponse);\n            \n            // Add schema context to each policy type\n            const policyTypesWithSchema = policyResponse.PolicyTypes.map(policyType => ({\n              ...policyType,\n              SchemaID: product.SchemaID,\n              SchemaName: product.SchemaName\n            }));\n            \n            allPolicyTypes.push(...policyTypesWithSchema);\n          } catch (error) {\n            console.error(`Error loading policy types for schema ${product.SchemaID}:`, error);\n          }\n        }\n        \n        // Remove duplicates based on TypePolicyID\n        const uniquePolicyTypes = allPolicyTypes.filter((policyType, index, self) => \n          index === self.findIndex(p => p.TypePolicyID === policyType.TypePolicyID)\n        );\n        \n        setAvailablePolicyTypes(uniquePolicyTypes);\n        console.log(`âœ… Successfully loaded ${uniquePolicyTypes.length} unique policy types`);\n        setIsLoadingPolicyTypes(false);\n      } catch (error) {\n        console.error('Error loading policy types:', error);\n        setIsLoadingPolicyTypes(false);\n      }\n    };\n\n    loadPolicyTypes();\n  }, [availableProducts, terracottaService]);\n\n  // Show a brief message when end date is cleared due to start date change\n  useEffect(() => {\n    if (formData.startDate && !formData.endDate) {\n      // This effect will run when start date exists but end date is empty\n      // We could add a toast notification here if needed\n    }\n  }, [formData.startDate, formData.endDate]);\n\n  // Load countries of residence on component mount\n  useEffect(() => {\n    const loadCountriesOfResidence = async () => {\n      try {\n        setIsLoadingCountriesOfResidence(true);\n        console.log('Loading countries of residence...');\n        const response = await fetch('http://localhost:5002/api/countries');\n        const data = await response.json();\n        \n        if (data.status === 'success') {\n          setCountriesOfResidence(data.countries);\n          console.log('âœ… Countries of residence loaded:', data.countries.length, 'countries');\n        } else {\n          console.error('âŒ Failed to load countries of residence:', data.message);\n        }\n      } catch (error) {\n        console.error('âŒ Error loading countries of residence:', error);\n      } finally {\n        setIsLoadingCountriesOfResidence(false);\n      }\n    };\n\n    loadCountriesOfResidence();\n  }, []);\n\n  // Load destination categories on component mount\n  useEffect(() => {\n    const loadDestinationCategories = async () => {\n      try {\n        setIsLoadingCategories(true);\n        console.log('Loading destination categories...');\n        const response = await fetch('http://localhost:5002/api/destination-categories');\n        const data = await response.json();\n        \n        if (data.status === 'success') {\n          setDestinationCategories(data.categories);\n          console.log('âœ… Destination categories loaded:', data.categories);\n        } else {\n          console.error('âŒ Failed to load destination categories:', data.message);\n        }\n      } catch (error) {\n        console.error('âŒ Error loading destination categories:', error);\n        // Set fallback categories if API fails\n        setDestinationCategories(['Europe', 'Worldwide']);\n      } finally {\n        setIsLoadingCategories(false);\n      }\n    };\n\n    loadDestinationCategories();\n  }, []);\n\n  // Load countries for each category when categories are loaded\n  useEffect(() => {\n    const loadCountriesForCategories = async () => {\n      if (destinationCategories.length === 0) return;\n      \n      try {\n        setIsLoadingCountries(true);\n        const countriesData: {[key: string]: string[]} = {};\n        \n        // Load countries for each category\n        for (const category of destinationCategories) {\n          try {\n            const response = await fetch(`http://localhost:5002/api/destination-categories/${encodeURIComponent(category)}/countries`);\n            const data = await response.json();\n            \n            if (data.status === 'success') {\n              countriesData[category] = data.countries;\n            }\n          } catch (error) {\n            console.error(`Error loading countries for ${category}:`, error);\n            countriesData[category] = [];\n          }\n        }\n        \n        setCountriesByCategory(countriesData);\n      } catch (error) {\n        console.error('Error loading countries:', error);\n      } finally {\n        setIsLoadingCountries(false);\n      }\n    };\n\n    loadCountriesForCategories();\n  }, [destinationCategories]);\n\n  // Generate quotes when component mounts or when form data is complete\n  useEffect(() => {\n    const generateQuotesIfNeeded = async () => {\n      // Only generate quotes if we have basic form data and we're in phase 2\n      if (currentPhase === 2 && quoteOptions.length === 0) {\n        console.log('ðŸ”„ Generating quotes on component load...');\n        try {\n          const options = await generateQuoteOptions();\n          setQuoteOptions(options);\n        } catch (error) {\n          console.error('Error generating quotes:', error);\n        }\n      }\n    };\n\n    generateQuotesIfNeeded();\n  }, [currentPhase]);\n\n  // Automatically load sample quotes when reaching Phase 2\n  useEffect(() => {\n    if (currentPhase === 2) {\n      console.log('ðŸš€ Auto-loading TravelSafe sample quotes...');\n      const sampleQuotes = generateSampleSOAPQuotes();\n      setQuoteOptions(sampleQuotes);\n      setIsLoadingQuotes(false);\n    }\n  }, [currentPhase]);\n\n  const generateQuoteOptions = async (): Promise<QuoteOption[]> => {\n    setIsLoadingQuotes(true);\n    setQuoteError('');\n\n    try {\n      console.log('ðŸš€ Getting real quotes from Terracotta SOAP API...');\n      console.log('Form data:', formData);\n      \n      // Make a single SOAP request to get all available quotes\n      const terracottaRequest = TerracottaService.convertToTerracottaFormat(formData);\n      console.log('SOAP Request:', terracottaRequest);\n      \n      // Get quotes from Terracotta SOAP API\n      const response: TerracottaQuoteResponse = await terracottaService.provideQuotation(terracottaRequest);\n      console.log('SOAP Response:', response);\n      \n      console.log('ðŸ“Š SOAP Response Message:', response.Message);\n      console.log('ðŸ“Š Quote Results Count:', response.quoteResults?.length || 0);\n      \n      if (response.quoteResults && response.quoteResults.length > 0) {\n        console.log('ðŸ“Š Processing SOAP results:', response.quoteResults);\n        // Convert SOAP response directly to QuoteOption format\n        const realQuotes: QuoteOption[] = response.quoteResults.map((result, index) => {\n          console.log(`Processing quote ${index + 1}:`, result);\n          return {\n            id: `soap-${result.QuoteID}`,\n            name: `${result.schemaName} - ${result.typePolicyName || result.policytypeName}`,\n            type: result.isBestBuy === 1 ? 'premium' : result.GrossPrice > 100 ? 'standard' : 'basic',\n            price: result.GrossPrice || 0,\n            coverage: {\n              medical: result.coverLevel > 0 ? `â‚¬${(result.coverLevel * 1000000).toLocaleString()}` : 'â‚¬2,000,000',\n              baggage: 'â‚¬1,000', // This would ideally come from SOAP response\n              cancellation: 'â‚¬2,000', // This would ideally come from SOAP response\n              activities: ['Standard activities', 'Adventure sports']\n            },\n            features: [\n              '24/7 Emergency Assistance',\n              'Medical Coverage',\n              'Trip Cancellation',\n              'Baggage Protection',\n              ...(result.isAnnual === 1 ? ['Annual Multi-Trip Coverage'] : []),\n              ...(result.isBestBuy === 1 ? ['Best Buy Option'] : []),\n              ...(result.maxDaysPerTrip > 0 ? [`Up to ${result.maxDaysPerTrip} days per trip`] : [])\n            ],\n            // Real SOAP response data\n            terracottaQuoteId: result.QuoteID,\n            schemaName: result.schemaName,\n            policyTypeName: result.typePolicyName || result.policytypeName,\n            typePolicyName: result.typePolicyName || result.policytypeName,\n            summaryOfCoverUrl: result.SI,\n            policyWordingUrl: result.PW,\n            currency: result.currency,\n            ipt: result.IPT,\n            // Complete SOAP response fields\n            schemaID: result.SchemaID,\n            destinationCategory: result.destinationName,\n            tripType: formData.tripType,\n            residenceName: result.residenceName,\n            destinationName: result.destinationName,\n            packageName: result.packageName,\n            typePackageName: result.typePackageName,\n            isAnnual: result.isAnnual,\n            isBestBuy: result.isBestBuy,\n            isBestBuyText: result.isBestBuyText,\n            maxDaysPerTrip: result.maxDaysPerTrip,\n            coverLevel: result.coverLevel,\n            discount: result.Discount,\n            iconURL: result.IconURL,\n            helpFile: result.HelpFile,\n            policytypeShortName: result.policytypeShortName,\n            // Additional SOAP fields\n            keyFactsUrl: result.KF,\n            policyTypeID: result.PolicyTypeID,\n            destinationID: result.DestinationID,\n            packageID: result.PackageID,\n            screeningPremium: result.screeningPremium,\n            ipRate: result.IPTRate,\n            netUW: result.netUW,\n            wbComm: result.wbComm,\n            agentComm: result.agentComm\n          };\n        });\n        \n        console.log(`âœ… Received ${realQuotes.length} real quotes from Terracotta SOAP API`);\n        setIsLoadingQuotes(false);\n        return realQuotes;\n      } else {\n        console.log('âš ï¸ No quotes in SOAP response, using sample data');\n        console.log('âš ï¸ Response message:', response.Message);\n        console.log('âš ï¸ This might be due to:');\n        console.log('   - Incorrect API credentials');\n        console.log('   - Invalid parameter values');\n        console.log('   - API restrictions or downtime');\n        console.log('   - Date range issues (past dates)');\n        setIsLoadingQuotes(false);\n        return generateSampleSOAPQuotes();\n      }\n      \n    } catch (error) {\n      console.error('âŒ Error getting real SOAP quotes:', error);\n      setQuoteError('SOAP API unavailable. Showing sample quotes from your SOAP response.');\n      setIsLoadingQuotes(false);\n      \n      // Fallback to sample SOAP response data\n      console.log('ðŸ”„ Using sample SOAP response data');\n      return generateSampleSOAPQuotes();\n    }\n  };\n\n  // Generate sample quotes using your SOAP response data\n  const generateSampleSOAPQuotes = (): QuoteOption[] => {\n    return [\n      {\n        id: 'soap-12345',\n        name: 'TravelSafe Basic 2024 - Single Trip Travel Insurance',\n        type: 'premium', // Best buy\n        price: 72.60,\n        coverage: {\n          medical: 'â‚¬5,000,000', // Cover level 5\n          baggage: 'â‚¬1,000',\n          cancellation: 'â‚¬2,000',\n          activities: ['Standard activities', 'Adventure sports']\n        },\n        features: [\n          '24/7 Emergency Assistance',\n          'Medical Coverage',\n          'Trip Cancellation',\n          'Baggage Protection',\n          'Best Buy Option',\n          'Up to 90 days per trip'\n        ],\n        // Real SOAP response data from QuoteID 12345\n        terracottaQuoteId: '12345',\n        schemaName: 'TravelSafe Basic 2024',\n        policyTypeName: 'Single Trip Travel Insurance',\n        typePolicyName: 'Single Trip Travel Insurance',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/12345.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/12345.pdf',\n        currency: 'EUR',\n        ipt: 12.60,\n        // Complete SOAP response fields\n        schemaID: 683,\n        destinationCategory: 'Europe',\n        tripType: formData.tripType,\n        residenceName: 'Greece',\n        destinationName: 'Europe',\n        packageName: 'TravelSafe Standard',\n        typePackageName: 'Standard Package',\n        isAnnual: 0,\n        isBestBuy: 1,\n        isBestBuyText: 'Best Value Option',\n        maxDaysPerTrip: 90,\n        coverLevel: 5,\n        discount: 0.00,\n        iconURL: 'https://terracotta.example.com/icons/basic.png',\n        helpFile: 'https://terracotta.example.com/help/12345.html',\n        policytypeShortName: 'Single Trip',\n        // Additional SOAP fields\n        keyFactsUrl: 'https://terracotta.example.com/keyfacts/12345.pdf',\n        policyTypeID: 1,\n        destinationID: 2,\n        packageID: 1,\n        screeningPremium: 0.00,\n        ipRate: 21.00,\n        netUW: 60.00,\n        wbComm: 5.40,\n        agentComm: 7.20\n      },\n      {\n        id: 'soap-12346',\n        name: 'TravelSafe Premium 2024 - Single Trip Travel Insurance',\n        type: 'standard',\n        price: 108.90,\n        coverage: {\n          medical: 'â‚¬10,000,000', // Cover level 10\n          baggage: 'â‚¬1,000',\n          cancellation: 'â‚¬2,000',\n          activities: ['Standard activities', 'Adventure sports']\n        },\n        features: [\n          '24/7 Emergency Assistance',\n          'Medical Coverage',\n          'Trip Cancellation',\n          'Baggage Protection',\n          'Up to 120 days per trip'\n        ],\n        // Real SOAP response data from QuoteID 12346\n        terracottaQuoteId: '12346',\n        schemaName: 'TravelSafe Premium 2024',\n        policyTypeName: 'Single Trip Travel Insurance',\n        typePolicyName: 'Single Trip Travel Insurance',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/12346.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/12346.pdf',\n        currency: 'EUR',\n        ipt: 18.90,\n        // Complete SOAP response fields\n        schemaID: 717,\n        destinationCategory: 'Europe',\n        tripType: formData.tripType,\n        residenceName: 'Greece',\n        destinationName: 'Europe',\n        packageName: 'TravelSafe Premium',\n        typePackageName: 'Premium Package',\n        isAnnual: 0,\n        isBestBuy: 0,\n        isBestBuyText: '',\n        maxDaysPerTrip: 120,\n        coverLevel: 10,\n        discount: 0.00,\n        iconURL: 'https://terracotta.example.com/icons/premium.png',\n        helpFile: 'https://terracotta.example.com/help/12346.html',\n        policytypeShortName: 'Single Trip',\n        // Additional SOAP fields\n        keyFactsUrl: 'https://terracotta.example.com/keyfacts/12346.pdf',\n        policyTypeID: 1,\n        destinationID: 2,\n        packageID: 2,\n        screeningPremium: 0.00,\n        ipRate: 21.00,\n        netUW: 90.00,\n        wbComm: 8.10,\n        agentComm: 10.80\n      }\n    ];\n  };\n\n  // Helper function to calculate coverage levels using real SOAP data\n  const calculateRealCoverageLevels = (result: any, destination: string, tripType: string) => {\n    // Use real data from SOAP response when available, fallback to calculated values\n    const baseMedical = result.coverLevel > 0 ? `â‚¬${(result.coverLevel * 1000000).toLocaleString()}` : \n                       tripType === 'annual' ? 'â‚¬5,000,000' : 'â‚¬2,000,000';\n    \n    const baseBaggage = 'â‚¬1,000'; // This would ideally come from SOAP response\n    const baseCancellation = 'â‚¬2,000'; // This would ideally come from SOAP response\n    \n    // Enhance coverage based on destination category and SOAP data\n    let medicalMultiplier = 1;\n    let baggageMultiplier = 1;\n    let cancellationMultiplier = 1;\n    \n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      medicalMultiplier = 2;\n      baggageMultiplier = 1.5;\n      cancellationMultiplier = 2;\n    } else if (destination.toLowerCase().includes('europe')) {\n      medicalMultiplier = 1.5;\n      baggageMultiplier = 1.2;\n      cancellationMultiplier = 1.5;\n    }\n    \n    // Use SOAP cover level if available\n    if (result.coverLevel > 0) {\n      medicalMultiplier = 1; // Use the real cover level from SOAP\n    }\n    \n    return {\n      medical: result.coverLevel > 0 ? baseMedical : \n               `â‚¬${(parseInt(baseMedical.replace(/[â‚¬,]/g, '')) * medicalMultiplier).toLocaleString()}`,\n      baggage: `â‚¬${(parseInt(baseBaggage.replace(/[â‚¬,]/g, '')) * baggageMultiplier).toLocaleString()}`,\n      cancellation: `â‚¬${(parseInt(baseCancellation.replace(/[â‚¬,]/g, '')) * cancellationMultiplier).toLocaleString()}`,\n      activities: generateActivitiesForDestination(destination)\n    };\n  };\n\n  // Helper function to generate features using real SOAP data\n  const generateFeaturesFromSOAPData = (result: any, destination: string, tripType: string): string[] => {\n    const baseFeatures = [\n      '24/7 Emergency Assistance',\n      'Medical Coverage',\n      'Trip Cancellation',\n      'Baggage Protection'\n    ];\n    \n    const soapFeatures: string[] = [];\n    const destinationFeatures: string[] = [];\n    \n    // Add features based on SOAP response data\n    if (result.isAnnual === 1) {\n      soapFeatures.push('Annual Multi-Trip Coverage', 'Unlimited Trips', 'Annual Policy Benefits');\n    }\n    \n    if (result.isBestBuy === 1) {\n      soapFeatures.push('Best Buy Policy', result.isBestBuyText || 'Recommended Option');\n    }\n    \n    if (result.maxDaysPerTrip > 0) {\n      soapFeatures.push(`Up to ${result.maxDaysPerTrip} days per trip`);\n    }\n    \n    if (result.discount > 0) {\n      soapFeatures.push(`${result.discount}% Discount Applied`);\n    }\n    \n    // Add destination-specific features\n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      destinationFeatures.push('Worldwide Medical Coverage', 'Emergency Repatriation', 'High-Risk Activity Coverage');\n    } else if (destination.toLowerCase().includes('europe')) {\n      destinationFeatures.push('EU Medical Card Coverage', 'Schengen Zone Protection');\n    }\n    \n    if (tripType === 'comprehensive') {\n      destinationFeatures.push('Enhanced Coverage', 'Adventure Sports', 'Winter Sports', 'Business Travel');\n    }\n    \n    return [...baseFeatures, ...soapFeatures, ...destinationFeatures];\n  };\n\n  // Helper function to calculate coverage levels based on destination and trip type (fallback)\n  const calculateCoverageLevels = (destination: string, tripType: string, price: number) => {\n    const baseMedical = tripType === 'annual' ? 'â‚¬5,000,000' : tripType === 'longstay' ? 'â‚¬3,000,000' : 'â‚¬2,000,000';\n    const baseBaggage = 'â‚¬1,000';\n    const baseCancellation = 'â‚¬2,000';\n    \n    // Enhance coverage based on destination category\n    let medicalMultiplier = 1;\n    let baggageMultiplier = 1;\n    let cancellationMultiplier = 1;\n    \n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      medicalMultiplier = 2;\n      baggageMultiplier = 1.5;\n      cancellationMultiplier = 2;\n    } else if (destination.toLowerCase().includes('europe')) {\n      medicalMultiplier = 1.5;\n      baggageMultiplier = 1.2;\n      cancellationMultiplier = 1.5;\n    }\n    \n    // Enhance based on price level\n    if (price > 200) {\n      medicalMultiplier *= 2;\n      baggageMultiplier *= 2;\n      cancellationMultiplier *= 2;\n    } else if (price > 100) {\n      medicalMultiplier *= 1.5;\n      baggageMultiplier *= 1.5;\n      cancellationMultiplier *= 1.5;\n    }\n    \n    return {\n      medical: `â‚¬${(parseInt(baseMedical.replace(/[â‚¬,]/g, '')) * medicalMultiplier).toLocaleString()}`,\n      baggage: `â‚¬${(parseInt(baseBaggage.replace(/[â‚¬,]/g, '')) * baggageMultiplier).toLocaleString()}`,\n      cancellation: `â‚¬${(parseInt(baseCancellation.replace(/[â‚¬,]/g, '')) * cancellationMultiplier).toLocaleString()}`,\n      activities: generateActivitiesForDestination(destination)\n    };\n  };\n\n  // Helper function to determine quote type based on price and index\n  const determineQuoteType = (price: number, index: number): 'basic' | 'standard' | 'premium' => {\n    if (price < 50) return 'basic';\n    if (price < 150) return 'standard';\n    return 'premium';\n  };\n\n  // Helper function to generate features based on destination and trip type\n  const generateFeaturesForDestination = (destination: string, tripType: string): string[] => {\n    const baseFeatures = [\n      '24/7 Emergency Assistance',\n      'Medical Coverage',\n      'Trip Cancellation',\n      'Baggage Protection'\n    ];\n    \n    const destinationFeatures: string[] = [];\n    \n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      destinationFeatures.push('Worldwide Medical Coverage', 'Emergency Repatriation', 'High-Risk Activity Coverage');\n    } else if (destination.toLowerCase().includes('europe')) {\n      destinationFeatures.push('EU Medical Card Coverage', 'Schengen Zone Protection');\n    }\n    \n    if (tripType === 'annual') {\n      destinationFeatures.push('Multiple Trip Coverage', 'Annual Policy Benefits', 'Unlimited Trips');\n    } else if (tripType === 'longstay') {\n      destinationFeatures.push('Extended Stay Coverage', 'Long Term Medical', 'Extended Baggage Protection', 'Long Stay Benefits');\n    } else if (tripType === 'comprehensive') {\n      destinationFeatures.push('Enhanced Coverage', 'Adventure Sports', 'Winter Sports', 'Business Travel');\n    }\n    \n    return [...baseFeatures, ...destinationFeatures];\n  };\n\n  // Helper function to generate activities based on destination\n  const generateActivitiesForDestination = (destination: string): string[] => {\n    const baseActivities = ['Standard activities'];\n    \n    if (destination.toLowerCase().includes('worldwide') || destination.toLowerCase().includes('america')) {\n      return ['Standard activities', 'Adventure sports', 'Extreme sports', 'Water sports', 'Winter sports'];\n    } else if (destination.toLowerCase().includes('europe')) {\n      return ['Standard activities', 'Adventure sports', 'Winter sports'];\n    }\n    \n    return baseActivities;\n  };\n\n  // Enhanced mock quote generation that simulates Terracotta-style data\n  const generateEnhancedMockQuoteOptions = (): QuoteOption[] => {\n    const days = formData.startDate && formData.endDate \n      ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 3600 * 24))\n      : 7;\n\n    let basePrice = formData.tripType === 'annual' ? 99 : formData.tripType === 'longstay' ? 60 : 40;\n    const dailyRate = formData.tripType === 'annual' ? 0 : formData.tripType === 'longstay' ? 3 : 5;\n    const tripMultiplier = formData.tripType === 'comprehensive' ? 1.5 : formData.tripType === 'longstay' ? 1.2 : 1;\n\n    // Generate multiple mock quotes based on available schemas\n    const mockQuotes: QuoteOption[] = [];\n    \n    // Create quotes for each available schema if we have them, otherwise use defaults\n    const schemasToUse = availableProducts.length > 0 ? availableProducts : [\n      { SchemaID: 683, SchemaName: 'TravelSafe Basic' },\n      { SchemaID: 717, SchemaName: 'TravelSafe Premium' }\n    ];\n\n    schemasToUse.forEach((schema, index) => {\n      const price = Math.round((basePrice + (days * dailyRate) + (index * 30)) * formData.numberOfTravelers * tripMultiplier);\n      const coverage = calculateCoverageLevels(formData.destination, formData.tripType, price);\n      const features = generateFeaturesForDestination(formData.destination, formData.tripType);\n      const quoteType = determineQuoteType(price, index);\n\n      mockQuotes.push({\n        id: `mock-${schema.SchemaID}-${index}`,\n        name: `${schema.SchemaName} - ${formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip'}`,\n        type: quoteType,\n        price: price,\n        coverage: coverage,\n        features: features,\n        // Terracotta specific fields (mock)\n        terracottaQuoteId: `mock-${schema.SchemaID}-${Date.now()}`,\n        schemaName: schema.SchemaName,\n        policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/mock.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/mock.pdf',\n        currency: 'EUR',\n        ipt: Math.round(price * 0.21), // 21% IPT\n        // Additional metadata\n        schemaID: schema.SchemaID,\n        destinationCategory: formData.destination,\n        tripType: formData.tripType\n      });\n    });\n\n    return mockQuotes;\n  };\n\n  // Legacy mock quotes (kept for backward compatibility)\n  const generateLegacyMockQuoteOptions = (): QuoteOption[] => {\n    const days = formData.startDate && formData.endDate \n      ? Math.ceil((new Date(formData.endDate).getTime() - new Date(formData.startDate).getTime()) / (1000 * 3600 * 24))\n      : 7;\n\n    let basePrice = formData.tripType === 'annual' ? 99 : formData.tripType === 'longstay' ? 60 : 40;\n    const dailyRate = formData.tripType === 'annual' ? 0 : formData.tripType === 'longstay' ? 3 : 5;\n    const tripMultiplier = formData.tripType === 'comprehensive' ? 1.5 : formData.tripType === 'longstay' ? 1.2 : 1;\n\n    const options: QuoteOption[] = [\n      {\n        id: 'terracotta-basic',\n        name: 'Terracotta TravelSafe Basic',\n        type: 'basic',\n        price: Math.round((basePrice + (days * dailyRate)) * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? 'â‚¬5,000,000' : 'â‚¬2,000,000',\n          baggage: 'â‚¬1,000',\n          cancellation: 'â‚¬2,000',\n          activities: ['Standard activities']\n        },\n        features: [\n          'Emergency Medical Coverage',\n          'Trip Cancellation',\n          'Baggage Protection',\n          '24/7 Assistance'\n        ],\n        // Terracotta-specific fields (simulated)\n        terracottaQuoteId: `TC-${Date.now()}-001`,\n        schemaName: 'TravelSafe Basic',\n        policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/basic.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/basic.pdf',\n        currency: 'EUR',\n        ipt: 15.50\n      },\n      {\n        id: 'terracotta-standard',\n        name: 'Terracotta TravelSafe Standard',\n        type: 'standard',\n        price: Math.round((basePrice + (days * dailyRate)) * 1.3 * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? 'â‚¬10,000,000' : 'â‚¬5,000,000',\n          baggage: 'â‚¬2,500',\n          cancellation: 'â‚¬5,000',\n          activities: ['Standard activities', 'Adventure sports']\n        },\n        features: [\n          'Enhanced Medical Coverage',\n          'Trip Cancellation & Curtailment',\n          'Enhanced Baggage Protection',\n          'Adventure Sports Coverage',\n          '24/7 Assistance',\n          'Travel Delay Compensation'\n        ],\n        // Terracotta-specific fields (simulated)\n        terracottaQuoteId: `TC-${Date.now()}-002`,\n        schemaName: 'TravelSafe Standard',\n        policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/standard.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/standard.pdf',\n        currency: 'EUR',\n        ipt: 22.75\n      },\n      {\n        id: 'terracotta-premium',\n        name: 'Terracotta TravelSafe Premium',\n        type: 'premium',\n        price: Math.round((basePrice + (days * dailyRate)) * 1.8 * formData.numberOfTravelers * tripMultiplier),\n        coverage: {\n          medical: formData.tripType === 'annual' ? 'â‚¬10,000,000' : 'â‚¬10,000,000',\n          baggage: 'â‚¬5,000',\n          cancellation: 'â‚¬10,000',\n          activities: ['All activities', 'Extreme sports', 'Winter sports']\n        },\n        features: [\n          'Maximum Medical Coverage',\n          'Comprehensive Trip Protection',\n          'Premium Baggage Coverage',\n          'All Sports & Activities',\n          '24/7 VIP Assistance',\n          'Travel Delay & Missed Connections',\n          'Personal Liability Coverage',\n          'Emergency Cash Advance'\n        ],\n        // Terracotta-specific fields (simulated)\n        terracottaQuoteId: `TC-${Date.now()}-003`,\n        schemaName: 'TravelSafe Premium',\n        policyTypeName: formData.tripType === 'annual' ? 'Annual Multi-Trip' : 'Single Trip',\n        summaryOfCoverUrl: 'https://terracotta.example.com/summary/premium.pdf',\n        policyWordingUrl: 'https://terracotta.example.com/wording/premium.pdf',\n        currency: 'EUR',\n        ipt: 35.00\n      }\n    ];\n\n    return options;\n  };\n\n  // Custom Date Picker Component\n  const CustomDatePicker: React.FC<{\n    id: string;\n    value: string;\n    onChange: (value: string) => void;\n    placeholder: string;\n    required?: boolean;\n    minDate?: string; // ISO date string for minimum selectable date\n  }> = ({ id, value, onChange, placeholder, required, minDate }) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [currentDate, setCurrentDate] = useState(() => {\n      // Initialize with selected date if available, otherwise current date\n      return value ? new Date(value) : new Date();\n    });\n    const pickerRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (pickerRef.current && !pickerRef.current.contains(event.target as Node)) {\n          setIsOpen(false);\n        }\n      };\n\n      if (isOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n      }\n\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, [isOpen]);\n\n    // Update current date when value changes to show the correct month\n    useEffect(() => {\n      if (value) {\n        setCurrentDate(new Date(value));\n      }\n    }, [value]);\n\n    // Helper function to check if a date is valid (not in past and not before minDate)\n    const isDateValid = (date: Date): boolean => {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n      \n      // Reset the input date to start of day for accurate comparison\n      const inputDate = new Date(date);\n      inputDate.setHours(0, 0, 0, 0);\n      \n      // Check if date is in the past\n      if (inputDate < today) {\n        return false;\n      }\n      \n      // Check if date is before minimum date\n      if (minDate) {\n        const minDateObj = new Date(minDate);\n        minDateObj.setHours(0, 0, 0, 0);\n        if (inputDate < minDateObj) {\n          return false;\n        }\n      }\n      \n      return true;\n    };\n\n    const generateCalendar = () => {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth();\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n      const daysInMonth = lastDay.getDate();\n      const startingDayOfWeek = firstDay.getDay();\n\n      const days = [];\n      \n      // Add empty cells for days before the first day of the month\n      for (let i = 0; i < startingDayOfWeek; i++) {\n        days.push(<div key={`empty-${i}`} className=\"calendar-day empty\"></div>);\n      }\n\n      // Add days of the month\n      for (let day = 1; day <= daysInMonth; day++) {\n        const date = new Date(year, month, day);\n        // Create ISO string manually to avoid timezone issues\n        const dateString = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n        const isSelected = value === dateString;\n        const isToday = new Date().toDateString() === date.toDateString();\n        const isValid = isDateValid(date);\n\n        days.push(\n          <div\n            key={day}\n            className={`calendar-day ${isSelected ? 'selected' : ''} ${isToday ? 'today' : ''} ${!isValid ? 'disabled' : ''}`}\n            onClick={() => {\n              if (isValid) {\n                onChange(dateString);\n                setIsOpen(false);\n              }\n            }}\n            style={{\n              cursor: isValid ? 'pointer' : 'not-allowed',\n              opacity: isValid ? 1 : 0.4\n            }}\n          >\n            {day}\n          </div>\n        );\n      }\n\n      return days;\n    };\n\n    const navigateMonth = (direction: number) => {\n      setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1));\n    };\n\n    const monthNames = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n\n    return (\n      <div className=\"custom-date-picker\" ref={pickerRef}>\n        <div className=\"date-input-wrapper\">\n          <input\n            type=\"text\"\n            id={id}\n            value={value ? formatDateToEuropean(value) : ''}\n            onChange={(e) => {\n              const formattedValue = formatDateInput(e.target.value);\n              const isoDate = formattedValue.length === 10 ? convertToISO(formattedValue) : '';\n              \n              // Validate that the date is valid (not in past and not before minDate)\n              if (isoDate) {\n                const inputDate = new Date(isoDate);\n                if (!isDateValid(inputDate)) {\n                  // Don't update the value if it's an invalid date\n                  return;\n                }\n              }\n              \n              onChange(isoDate);\n            }}\n            placeholder={placeholder}\n            title={minDate ? \n              \"Enter date (DD/MM/YYYY) or click calendar - past dates and dates before start date are not allowed\" : \n              \"Enter date (DD/MM/YYYY) or click calendar - past dates are not allowed\"\n            }\n            pattern=\"\\d{2}/\\d{2}/\\d{4}\"\n            maxLength={10}\n            required={required}\n          />\n          <span \n            className=\"date-icon clickable\" \n            onClick={() => setIsOpen(!isOpen)}\n            title=\"Open calendar\"\n          >\n            ðŸ“…\n          </span>\n        </div>\n        \n        {isOpen && (\n          <div className=\"calendar-popup\">\n            <div className=\"calendar-header\">\n              <button \n                type=\"button\" \n                className=\"calendar-nav-btn\" \n                onClick={() => navigateMonth(-1)}\n              >\n                â€¹\n              </button>\n              <span className=\"calendar-month-year\">\n                {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}\n              </span>\n              <button \n                type=\"button\" \n                className=\"calendar-nav-btn\" \n                onClick={() => navigateMonth(1)}\n              >\n                â€º\n              </button>\n            </div>\n            <div className=\"calendar-weekdays\">\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\n                <div key={day} className=\"calendar-weekday\">{day}</div>\n              ))}\n            </div>\n            <div className=\"calendar-days\">\n              {generateCalendar()}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleInputChange = (field: string, value: string | number) => {\n    setFormData(prev => {\n      const newData = {\n        ...prev,\n        [field]: value\n      };\n      \n      // If start date is changed, clear end date if it's now invalid\n      if (field === 'startDate' && value && prev.endDate) {\n        const startDate = new Date(value as string);\n        const endDate = new Date(prev.endDate);\n        startDate.setDate(startDate.getDate() + 1); // Add 1 day to start date\n        \n        // If end date is before or equal to start date, clear it\n        if (endDate <= startDate) {\n          newData.endDate = '';\n        }\n      }\n      \n      return newData;\n    });\n  };\n\n  const handleTravelerChange = (index: number, field: keyof TravelerInfo, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      travelers: prev.travelers.map((traveler, i) => \n        i === index ? { ...traveler, [field]: value } : traveler\n      )\n    }));\n  };\n\n  const handleNumberOfTravelersChange = (count: number) => {\n    setFormData(prev => {\n      const travelers = [...prev.travelers];\n      \n      if (count > travelers.length) {\n        // Add new travelers\n        for (let i = travelers.length; i < count; i++) {\n          travelers.push({\n            firstName: '',\n            lastName: '',\n            age: '',\n            email: '',\n            phone: '',\n            vaxId: '',\n            nationality: ''\n          });\n        }\n      } else if (count < travelers.length) {\n        // Remove travelers\n        travelers.splice(count);\n      }\n      \n      return {\n        ...prev,\n        numberOfTravelers: count,\n        travelers\n      };\n    });\n  };\n\n  const handleBillingAddressChange = (field: keyof QuoteFormData['billingAddress'], value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      billingAddress: {\n        ...prev.billingAddress,\n        [field]: value\n      }\n    }));\n  };\n\n  // Helper function to convert DD/MM/YYYY to YYYY-MM-DD for internal storage\n  const convertToISO = (ddmmyyyy: string): string => {\n    if (!ddmmyyyy || ddmmyyyy.length !== 10) return '';\n    const [day, month, year] = ddmmyyyy.split('/');\n    // Create date in local timezone to avoid timezone issues\n    const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\n    return date.toISOString().split('T')[0];\n  };\n\n  // Helper function to format input as DD/MM/YYYY\n  const formatDateInput = (value: string): string => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n    \n    // Format as DD/MM/YYYY\n    if (digits.length >= 8) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4, 8)}`;\n    } else if (digits.length >= 4) {\n      return `${digits.slice(0, 2)}/${digits.slice(2, 4)}/${digits.slice(4)}`;\n    } else if (digits.length >= 2) {\n      return `${digits.slice(0, 2)}/${digits.slice(2)}`;\n    }\n    return digits;\n  };\n\n  const nextPhase = async () => {\n    if (currentPhase === 1) {\n      // Generate quotes when moving from phase 1 to 2\n      try {\n        const options = await generateQuoteOptions();\n        setQuoteOptions(options);\n        \n        // Automatically pre-select the middle plan (standard)\n        const standardPlan = options.find(option => option.type === 'standard');\n        if (standardPlan) {\n          setFormData(prev => ({\n            ...prev,\n            selectedQuote: standardPlan\n          }));\n        }\n      } catch (error) {\n        console.error('Error generating quotes:', error);\n        setQuoteError('Failed to generate quotes. Please try again.');\n        return; // Don't proceed to next phase if quotes failed\n      }\n    }\n\n    if (currentPhase === 5) {\n      // Fetch screening questions when moving from phase 5 to 6\n      if (formData.selectedQuote?.terracottaQuoteId) {\n        try {\n          const screeningResponse = await terracottaService.getScreeningQuestions(formData.selectedQuote.terracottaQuoteId);\n          setScreeningQuestions(screeningResponse.screeningQuestions || []);\n        } catch (error) {\n          console.error('Error fetching screening questions:', error);\n          // Use mock screening questions to demonstrate the feature\n          setScreeningQuestions([\n            {\n              questionNumber: 1,\n              question: \"Do you have any pre-existing medical conditions that require ongoing treatment?\",\n              yesMessage: \"Please note that pre-existing conditions may not be covered under this policy. Additional medical screening may be required.\",\n              noMessage: \"Thank you. No additional medical information is required.\",\n              yesAction: \"MEDICAL_SCREENING\",\n              noAction: \"CONTINUE\",\n              yesActionText: \"Medical screening required\",\n              noActionText: \"Continue with application\"\n            },\n            {\n              questionNumber: 2,\n              question: \"Are you currently taking any prescribed medication?\",\n              yesMessage: \"Please ensure you have sufficient medication for your trip and carry a copy of your prescription.\",\n              noMessage: \"Thank you. No additional medication information is required.\",\n              yesAction: \"MEDICATION_CHECK\",\n              noAction: \"CONTINUE\",\n              yesActionText: \"Medication verification required\",\n              noActionText: \"Continue with application\"\n            }\n          ]);\n        }\n      }\n    }\n    \n    if (currentPhase < 8) {\n      setCurrentPhase((prev) => (prev + 1) as WizardPhase);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const prevPhase = () => {\n    if (currentPhase > 1) {\n      setCurrentPhase((prev) => (prev - 1) as WizardPhase);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const selectQuote = (quote: QuoteOption) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedQuote: quote\n    }));\n  };\n\n  const addAdditionalPolicy = (policy: AdditionalPolicy) => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: [...prev.additionalPolicies, policy]\n    }));\n  };\n\n  const removeAdditionalPolicy = (policyId: string) => {\n    setFormData(prev => ({\n      ...prev,\n      additionalPolicies: prev.additionalPolicies.filter(p => p.id !== policyId)\n    }));\n  };\n\n  const calculateTotalPrice = (): number => {\n    const basePrice = formData.selectedQuote?.price || 0;\n    const additionalPrice = formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0);\n    return basePrice + additionalPrice;\n  };\n\n  const generatePolicyPDF = async () => {\n    await generatePDF(formData, calculateTotalPrice, formatDateToEuropean, policyNumber || `TI-${Date.now().toString().slice(-8)}`);\n  };\n\n  const downloadPolicyPDF = () => {\n    generatePolicyPDF();\n  };\n\n  const processPayment = async () => {\n    setIsProcessing(true);\n    \n    try {\n      // First save the quote to database\n      const quoteData = {\n        destination: formData.destination,\n        countryOfResidence: formData.countryOfResidence,\n        startDate: formData.startDate,\n        endDate: formData.endDate,\n        tripType: formData.tripType,\n        numberOfTravelers: formData.numberOfTravelers,\n        travelers: formData.travelers,\n        selectedQuote: formData.selectedQuote,\n        additionalPolicies: formData.additionalPolicies,\n        totalAmount: calculateTotalPrice()\n      };\n\n      // console.log('Saving quote to database...', quoteData);\n      // console.log('Quote data JSON string:', JSON.stringify(quoteData));\n      const quoteResponse = await createQuote(quoteData);\n      \n      if (quoteResponse.status === 'success' && quoteResponse.data) {\n        const quoteId = quoteResponse.data.quoteId;\n        \n        // Convert screening answers to Terracotta format\n        const terracottaScreeningAnswers = Object.entries(screeningAnswers).map(([questionNumber, answer]) => ({\n          questionNumber: parseInt(questionNumber),\n          answer: answer as 'yes' | 'no'\n        }));\n\n        // Save policy details with Terracotta\n        if (formData.selectedQuote?.terracottaQuoteId) {\n          try {\n            const savePolicyResponse = await terracottaService.savePolicyDetails({\n              userID: '4072',\n              userCode: '111427',\n              quoteID: formData.selectedQuote.terracottaQuoteId,\n              screeningQuestionAnswers: terracottaScreeningAnswers\n            });\n\n            if (savePolicyResponse.policySaved === 'Yes') {\n              setPolicyNumber(savePolicyResponse.policyID);\n              setIsProcessing(false);\n              nextPhase(); // Move to documents phase\n              return;\n            } else {\n              throw new Error(savePolicyResponse.Message || 'Failed to save policy with Terracotta');\n            }\n          } catch (terracottaError) {\n            console.error('Terracotta policy save error:', terracottaError);\n            // Fall through to regular payment processing\n          }\n        }\n        \n        // Fallback to regular payment processing if Terracotta fails\n        const paymentData = {\n          quoteId: quoteId,\n          paymentMethod: formData.paymentMethod,\n          cardNumber: formData.cardNumber, // Note: In production, this should be tokenized\n          expiryDate: formData.expiryDate,\n          cvv: formData.cvv,\n          billingAddress: formData.billingAddress,\n          amount: calculateTotalPrice()\n        };\n\n        const paymentResponse = await apiProcessPayment(paymentData);\n        \n        if (paymentResponse.status === 'success') {\n          if (paymentResponse.data?.policyNumber) {\n            setPolicyNumber(paymentResponse.data.policyNumber);\n          }\n          setIsProcessing(false);\n          nextPhase(); // Move to documents phase\n        } else {\n          throw new Error(paymentResponse.message || 'Payment failed');\n        }\n      } else {\n        throw new Error(quoteResponse.message || 'Failed to save quote');\n      }\n    } catch (error) {\n      console.error('Payment processing error:', error);\n      setIsProcessing(false);\n      alert('Payment processing failed. Please try again. Error: ' + (error instanceof Error ? error.message : 'Unknown error'));\n    }\n  };\n\n  const isPhaseValid = (phase: WizardPhase): boolean => {\n    switch (phase) {\n      case 1:\n        return !!(\n          formData.destination &&\n          formData.startDate &&\n          formData.endDate &&\n          formData.tripType &&\n          formData.countryOfResidence &&\n          formData.travelers.every(t => t.firstName && t.lastName && t.age && t.email)\n        );\n      case 2:\n        return !!formData.selectedQuote;\n      case 3:\n        return true; // Additional policies phase is always valid (optional)\n      case 4:\n        return true; // Summary phase is always valid\n      case 5:\n        return true; // Confirmation phase is always valid\n      case 6:\n        // Screening questions phase - all questions must be answered\n        return screeningQuestions.length === 0 || Object.keys(screeningAnswers).length === screeningQuestions.length;\n      case 7:\n        const paymentValid = !!(\n          formData.cardNumber && \n          formData.expiryDate && \n          formData.cvv && \n          formData.billingAddress.street && \n          formData.billingAddress.city && \n          formData.billingAddress.postalCode && \n          formData.billingAddress.country\n        );\n        return paymentValid;\n      case 8:\n        return true; // Documents phase is always valid\n      default:\n        return false;\n    }\n  };\n\n  const renderPhase1 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Trip Details & Traveler Information</h2>\n      \n      <div className=\"form-section\">\n        <h3>Trip Details</h3>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"tripType\">\n            Trip Type \n            <span style={{ fontSize: '0.8em', color: '#666', marginLeft: '5px' }}>\n              {isLoadingPolicyTypes ? '(Loading...)' : `(${availablePolicyTypes.length} types available)`}\n            </span>\n          </label>\n          <select\n            id=\"tripType\"\n            value={formData.tripType}\n            onChange={(e) => handleInputChange('tripType', e.target.value)}\n            required\n            disabled={isLoadingPolicyTypes}\n          >\n            <option value=\"\">\n              {isLoadingPolicyTypes ? 'Loading policy types...' : 'Select trip type'}\n            </option>\n            {availablePolicyTypes.map((policyType) => {\n              // Map Terracotta policy types to our database values\n              let tripTypeValue = 'single';\n              if (policyType.TypePolicyName.toLowerCase().includes('annual')) {\n                tripTypeValue = 'annual';\n              } else if (policyType.TypePolicyName.toLowerCase().includes('comprehensive')) {\n                tripTypeValue = 'comprehensive';\n              } else if (policyType.TypePolicyName.toLowerCase().includes('longstay') || \n                         policyType.TypePolicyName.toLowerCase().includes('long stay') ||\n                         policyType.TypePolicyName.toLowerCase().includes('longstay')) {\n                tripTypeValue = 'longstay';\n              }\n              \n              return (\n                <option key={policyType.TypePolicyID} value={tripTypeValue}>\n                  {policyType.TypePolicyName} {policyType.Description && `(${policyType.Description})`}\n                </option>\n              );\n            })}\n            {/* Fallback options if no policy types loaded */}\n            {!isLoadingPolicyTypes && availablePolicyTypes.length === 0 && (\n              <>\n                <option value=\"single\">Regular Single Trip Insurance</option>\n                <option value=\"annual\">Annual Multi-Trip Travel Insurance</option>\n                <option value=\"comprehensive\">Comprehensive Single Trip Insurance</option>\n                <option value=\"longstay\">Long Stay Travel Insurance</option>\n              </>\n            )}\n          </select>\n        </div>\n        \n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label htmlFor=\"countryOfResidence\">Country of Residence</label>\n            <select\n              id=\"countryOfResidence\"\n              value={formData.countryOfResidence}\n              onChange={(e) => handleInputChange('countryOfResidence', e.target.value)}\n              required\n              disabled={isLoadingCountriesOfResidence}\n            >\n              <option value=\"\">\n                {isLoadingCountriesOfResidence ? 'Loading countries...' : 'Select your country of residence'}\n              </option>\n              {countriesOfResidence.map((country) => (\n                <option key={country.country_id} value={country.country_name}>\n                  {country.country_name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"destination\">\n              Destination Category \n              <span \n                className=\"help-icon\" \n                onClick={() => setShowHelpPopup(true)}\n                title=\"Click to see all countries by category\"\n              >\n                (?)\n              </span>\n            </label>\n            <select\n              id=\"destination\"\n              value={formData.destination}\n              onChange={(e) => handleInputChange('destination', e.target.value)}\n              required\n              disabled={isLoadingCategories}\n            >\n              <option value=\"\">\n                {isLoadingCategories ? 'Loading categories...' : 'Select destination category'}\n              </option>\n              {destinationCategories.map((category) => (\n                <option key={category} value={category}>\n                  {category}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label htmlFor=\"startDate\">Departure Date <span className=\"date-format-hint\">(DD/MM/YYYY)</span></label>\n            <CustomDatePicker\n              id=\"startDate\"\n              value={formData.startDate}\n              onChange={(value) => handleInputChange('startDate', value)}\n              placeholder=\"DD/MM/YYYY\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"endDate\">Return Date <span className=\"date-format-hint\">(DD/MM/YYYY)</span></label>\n            <CustomDatePicker\n              id=\"endDate\"\n              value={formData.endDate}\n              onChange={(value) => handleInputChange('endDate', value)}\n              placeholder=\"DD/MM/YYYY\"\n              required\n              minDate={formData.startDate ? (() => {\n                // Set minimum date to start date + 1 day\n                const startDate = new Date(formData.startDate);\n                startDate.setDate(startDate.getDate() + 1);\n                return startDate.toISOString().split('T')[0];\n              })() : undefined}\n            />\n          </div>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"numberOfTravelers\">Number of Travelers</label>\n          <select\n            id=\"numberOfTravelers\"\n            value={formData.numberOfTravelers}\n            onChange={(e) => handleNumberOfTravelersChange(parseInt(e.target.value))}\n          >\n            {[1,2,3,4,5,6,7,8].map(num => (\n              <option key={num} value={num}>{num} Traveler{num > 1 ? 's' : ''}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"form-section\">\n        <h3>Traveler Information</h3>\n        {formData.travelers.map((traveler, index) => (\n          <div key={index} className=\"traveler-info\">\n            <h4>Traveler {index + 1}</h4>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`title-${index}`}>Title</label>\n                <select\n                  id={`title-${index}`}\n                  value={traveler.title || 'Mr'}\n                  onChange={(e) => handleTravelerChange(index, 'title', e.target.value)}\n                  title=\"Select the traveler's title\"\n                >\n                  <option value=\"Mr\">Mr</option>\n                  <option value=\"Mrs\">Mrs</option>\n                  <option value=\"Miss\">Miss</option>\n                  <option value=\"Ms\">Ms</option>\n                  <option value=\"Dr\">Dr</option>\n                  <option value=\"Prof\">Prof</option>\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`firstName-${index}`}>First Name</label>\n                <input\n                  type=\"text\"\n                  id={`firstName-${index}`}\n                  value={traveler.firstName}\n                  onChange={(e) => handleTravelerChange(index, 'firstName', e.target.value)}\n                  placeholder=\"Enter first name\"\n                  title=\"Enter the traveler's first name\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`lastName-${index}`}>Last Name</label>\n                <input\n                  type=\"text\"\n                  id={`lastName-${index}`}\n                  value={traveler.lastName}\n                  onChange={(e) => handleTravelerChange(index, 'lastName', e.target.value)}\n                  placeholder=\"Enter last name\"\n                  title=\"Enter the traveler's last name\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`dateOfBirth-${index}`}>Date of Birth</label>\n                <input\n                  type=\"date\"\n                  id={`dateOfBirth-${index}`}\n                  value={traveler.dateOfBirth || ''}\n                  onChange={(e) => {\n                    const dateOfBirth = e.target.value;\n                    // Auto-calculate age from date of birth\n                    if (dateOfBirth) {\n                      const age = calculateAgeFromDateOfBirth(dateOfBirth);\n                      handleTravelerChange(index, 'dateOfBirth', dateOfBirth);\n                      handleTravelerChange(index, 'age', age.toString());\n                    } else {\n                      handleTravelerChange(index, 'dateOfBirth', dateOfBirth);\n                    }\n                  }}\n                  title=\"Enter the traveler's date of birth (age will be calculated automatically)\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`age-${index}`}>Age (Auto-calculated)</label>\n                <input\n                  type=\"number\"\n                  id={`age-${index}`}\n                  value={traveler.age}\n                  onChange={(e) => handleTravelerChange(index, 'age', e.target.value)}\n                  placeholder=\"Enter age\"\n                  title=\"Age will be calculated from date of birth, but you can override it manually\"\n                  min=\"1\"\n                  max=\"120\"\n                  required\n                  readOnly={!!traveler.dateOfBirth}\n                  style={{ backgroundColor: traveler.dateOfBirth ? '#f5f5f5' : 'white' }}\n                />\n                {traveler.dateOfBirth && (\n                  <small style={{ color: '#666', fontSize: '0.8em' }}>\n                    Age calculated from date of birth\n                  </small>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor={`email-${index}`}>Email</label>\n                <input\n                  type=\"email\"\n                  id={`email-${index}`}\n                  value={traveler.email}\n                  onChange={(e) => handleTravelerChange(index, 'email', e.target.value)}\n                  placeholder=\"Enter email address\"\n                  title=\"Enter the traveler's email address\"\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor={`phone-${index}`}>Phone</label>\n                <input\n                  type=\"tel\"\n                  id={`phone-${index}`}\n                  value={traveler.phone}\n                  onChange={(e) => handleTravelerChange(index, 'phone', e.target.value)}\n                  placeholder=\"+30 123 456 7890\"\n                  title=\"Enter the traveler's phone number\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor={`vaxId-${index}`}>VAX ID</label>\n              <input\n                type=\"text\"\n                id={`vaxId-${index}`}\n                value={traveler.vaxId}\n                onChange={(e) => handleTravelerChange(index, 'vaxId', e.target.value)}\n                placeholder=\"Enter VAX ID\"\n                title=\"Enter the traveler's VAX ID (optional)\"\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderPhase2 = () => (\n    <div className=\"wizard-phase\">\n      <div style={{ textAlign: 'center', marginBottom: '40px' }}>\n        <h2 style={{ \n          fontSize: '2.2em', \n          color: '#333',\n          margin: '0 0 10px 0',\n          fontWeight: 'bold',\n          fontFamily: 'sans-serif'\n        }}>\n          Choose Your Insurance Plan\n        </h2>\n        <p style={{ \n          fontSize: '1.1em', \n          color: '#666',\n          margin: '0',\n          fontWeight: '400'\n        }}>\n          Select the coverage that best fits your travel needs.\n        </p>\n      </div>\n      \n      \n      {isLoadingQuotes && (\n        <div className=\"loading-message\">\n          <p>Loading insurance quotes from Terracotta...</p>\n        </div>\n      )}\n      \n      {quoteError && (\n        <div className=\"error-message\">\n          <p>âš ï¸ {quoteError}</p>\n          <p>Using fallback quotes for demonstration.</p>\n        </div>\n      )}\n      \n      <div className=\"quote-options\" style={{ \n        display: 'grid', \n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', \n        gap: '20px',\n        marginTop: '20px',\n        maxWidth: '1200px',\n        margin: '20px auto 0 auto'\n      }}>\n        {quoteOptions.length > 0 ? quoteOptions.map((option) => (\n          <div \n            key={option.id} \n            className={`quote-option ${formData.selectedQuote?.id === option.id ? 'selected' : ''}`}\n            onClick={() => selectQuote(option)}\n            style={{\n              background: 'white',\n              border: formData.selectedQuote?.id === option.id ? '2px solid #1976d2' : '1px solid #e0e0e0',\n              borderRadius: '8px',\n              padding: '24px',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: formData.selectedQuote?.id === option.id \n                ? '0 4px 12px rgba(25, 118, 210, 0.15)'\n                : '0 2px 8px rgba(0,0,0,0.1)',\n              position: 'relative'\n            }}\n            onMouseEnter={(e) => {\n              if (formData.selectedQuote?.id !== option.id) {\n                e.currentTarget.style.boxShadow = '0 4px 16px rgba(0,0,0,0.15)';\n                e.currentTarget.style.borderColor = '#1976d2';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (formData.selectedQuote?.id !== option.id) {\n                e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';\n                e.currentTarget.style.borderColor = '#e0e0e0';\n              }\n            }}\n          >\n            {/* Selected indicator */}\n            {formData.selectedQuote?.id === option.id && (\n              <div style={{\n                position: 'absolute',\n                top: '-8px',\n                right: '-8px',\n                width: '24px',\n                height: '24px',\n                backgroundColor: '#1976d2',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                color: 'white',\n                fontSize: '12px',\n                fontWeight: 'bold'\n              }}>\n                âœ“\n              </div>\n            )}\n            \n            {/* Plan Header */}\n            <div style={{ marginBottom: '20px' }}>\n              <h3 style={{ \n                margin: '0 0 8px 0', \n                fontSize: '1.3em', \n                color: '#1976d2',\n                fontWeight: 'bold'\n              }}>\n                {option.packageName || option.schemaName}\n              </h3>\n              <p style={{ \n                margin: '0 0 12px 0', \n                fontSize: '0.9em', \n                color: '#666'\n              }}>\n                {option.typePolicyName}\n              </p>\n              <div style={{ marginBottom: '16px' }}>\n                <div style={{ \n                  fontSize: '2em', \n                  fontWeight: 'bold', \n                  color: '#333',\n                  lineHeight: '1'\n                }}>\n                  {option.currency || 'â‚¬'}{option.price}\n                </div>\n                <div style={{ \n                  fontSize: '0.9em', \n                  color: '#666',\n                  marginTop: '4px'\n                }}>\n                  per trip\n                </div>\n              </div>\n            </div>\n            \n            {/* Key Features from SOAP Data */}\n            <div style={{ marginBottom: '20px' }}>\n              <div style={{ \n                display: 'grid', \n                gridTemplateColumns: '1fr 1fr', \n                gap: '8px',\n                marginBottom: '16px',\n                fontSize: '0.85em'\n              }}>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                }}>\n                  <span style={{ color: '#4caf50' }}>âœ“</span>\n                  <span><strong>Cover Level:</strong> {option.coverLevel || 0}</span>\n                </div>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                }}>\n                  <span style={{ color: '#4caf50' }}>âœ“</span>\n                  <span><strong>Max Days:</strong> {option.maxDaysPerTrip || 0}</span>\n                </div>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                }}>\n                  <span style={{ color: '#4caf50' }}>âœ“</span>\n                  <span><strong>Schema:</strong> {option.schemaID}</span>\n                </div>\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  gap: '6px',\n                  background: '#f8f9fa',\n                  padding: '6px 10px',\n                  borderRadius: '6px'\n                }}>\n                  <span style={{ color: '#4caf50' }}>âœ“</span>\n                  <span><strong>IPT:</strong> {option.currency}{option.ipt}</span>\n                </div>\n              </div>\n              \n              {/* Best Buy Text */}\n              {option.isBestBuy === 1 && option.isBestBuyText && (\n                <div style={{\n                  background: '#e8f5e8',\n                  border: '1px solid #4caf50',\n                  borderRadius: '6px',\n                  padding: '8px',\n                  marginBottom: '16px',\n                  fontSize: '0.85em',\n                  color: '#2e7d32',\n                  textAlign: 'center',\n                  fontWeight: 'bold'\n                }}>\n                  âœ¨ {option.isBestBuyText} âœ¨\n                </div>\n              )}\n            </div>\n            \n            {/* Features List */}\n            <div style={{ marginBottom: '24px' }}>\n              {option.features.map((feature, index) => (\n                <div key={index} style={{ \n                  display: 'flex', \n                  alignItems: 'flex-start', \n                  marginBottom: '6px',\n                  fontSize: '0.9em',\n                  color: '#333'\n                }}>\n                  <span style={{ \n                    color: '#4caf50', \n                    marginRight: '8px',\n                    marginTop: '2px',\n                    fontSize: '0.8em'\n                  }}>âœ“</span>\n                  <span>{feature}</span>\n                </div>\n              ))}\n            </div>\n            \n            {/* Action Button */}\n            <button \n              style={{\n                width: '100%',\n                padding: '12px',\n                backgroundColor: formData.selectedQuote?.id === option.id ? '#ff6b35' : '#1976d2',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                fontSize: '0.95em',\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                transition: 'background-color 0.3s ease',\n                textTransform: 'uppercase'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = formData.selectedQuote?.id === option.id ? '#e55a2b' : '#1565c0';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = formData.selectedQuote?.id === option.id ? '#ff6b35' : '#1976d2';\n              }}\n            >\n              {formData.selectedQuote?.id === option.id ? 'SELECTED' : 'SELECT PLAN'}\n            </button>\n          </div>\n        )) : (\n          <div style={{ \n            gridColumn: '1 / -1', \n            textAlign: 'center', \n            padding: '40px',\n            color: '#666'\n          }}>\n            <p>Loading SOAP quotes...</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderPhase3 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Enhance Your Coverage</h2>\n      <p>Add optional coverage for extra protection during your trip.</p>\n      \n      <div className=\"selected-plan-summary\">\n        <div className=\"current-plan\">\n          <h3>Your Selected Plan</h3>\n          {formData.selectedQuote && (\n            <div className=\"plan-info\">\n              <div className=\"plan-name\">{formData.selectedQuote.name}</div>\n              <div className=\"plan-price\">â‚¬{formData.selectedQuote.price}</div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"additional-policies\">\n        <h3>Optional Coverage Add-ons</h3>\n        <div className=\"policies-grid\">\n          {availableAdditionalPolicies.map(policy => {\n            const isSelected = formData.additionalPolicies.some(p => p.id === policy.id);\n            return (\n              <div key={policy.id} className={`policy-card ${isSelected ? 'selected' : ''}`}>\n                <div className=\"policy-header\">\n                  <div className=\"policy-icon\">{policy.icon}</div>\n                  <div className=\"policy-info\">\n                    <h4>{policy.name}</h4>\n                    <div className=\"policy-price\">â‚¬{policy.price.toFixed(2)}</div>\n                  </div>\n                  <button \n                    className={`policy-btn ${isSelected ? 'remove' : 'add'}`}\n                    onClick={() => isSelected ? removeAdditionalPolicy(policy.id) : addAdditionalPolicy(policy)}\n                  >\n                    {isSelected ? 'REMOVE' : 'ADD'}\n                  </button>\n                </div>\n                <div className=\"policy-description\">\n                  <p>{policy.description}</p>\n                  {policy.id === 'excess-waiver' && (\n                    <button \n                      className=\"find-out-more\" \n                      onClick={() => alert('More information about Excess Waiver coverage will be available soon.')}\n                      aria-label=\"Learn more about Excess Waiver coverage\"\n                      title=\"Get more information about Excess Waiver coverage\"\n                      type=\"button\"\n                    >\n                      Find out more\n                    </button>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"total-summary-box\">\n        <div className=\"summary-content\">\n          <div className=\"base-plan\">\n            <span>Base Plan: {formData.selectedQuote?.name}</span>\n            <span>â‚¬{formData.selectedQuote?.price}</span>\n          </div>\n          {formData.additionalPolicies.map(policy => (\n            <div key={policy.id} className=\"additional-item\">\n              <span>{policy.name}</span>\n              <span>â‚¬{policy.price.toFixed(2)}</span>\n            </div>\n          ))}\n          <div className=\"total-line\">\n            <span className=\"total-label\">Total Premium:</span>\n            <span className=\"total-amount\">â‚¬{calculateTotalPrice().toFixed(2)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderPhase4 = () => {\n    const calculateTripDuration = () => {\n      if (formData.startDate && formData.endDate) {\n        const start = new Date(formData.startDate);\n        const end = new Date(formData.endDate);\n        const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 3600 * 24));\n        return days;\n      }\n      return 0;\n    };\n\n    return (\n      <div className=\"wizard-phase\">\n        <h2>Review Your Details</h2>\n        <p>Please carefully review all information below. You can go back to make changes if needed.</p>\n        \n        <div className=\"professional-summary\">\n          {/* Trip Overview Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>ðŸŒ Trip Overview</h3>\n            </div>\n            <div className=\"card-content\">\n              <div className=\"summary-grid\">\n                <div className=\"summary-row\">\n                  <span className=\"label\">Insurance Type:</span>\n                  <span className=\"value\">{\n                    formData.tripType === 'single' ? 'Single Trip Insurance' :\n                    formData.tripType === 'annual' ? 'Annual Multi-Trip Insurance' :\n                    formData.tripType === 'longstay' ? 'Long Stay Travel Insurance' :\n                    'Comprehensive Single Trip Insurance'\n                  }</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Country of Residence:</span>\n                  <span className=\"value\">{formData.countryOfResidence}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Destination:</span>\n                  <span className=\"value\">{formData.destination}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Departure Date:</span>\n                  <span className=\"value\">{formatDateToEuropean(formData.startDate)}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Return Date:</span>\n                  <span className=\"value\">{formatDateToEuropean(formData.endDate)}</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Trip Duration:</span>\n                  <span className=\"value\">{calculateTripDuration()} days</span>\n                </div>\n                <div className=\"summary-row\">\n                  <span className=\"label\">Number of Travelers:</span>\n                  <span className=\"value\">{formData.numberOfTravelers} {formData.numberOfTravelers === 1 ? 'person' : 'people'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Travelers Information Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>ðŸ‘¥ Traveler Information</h3>\n            </div>\n            <div className=\"card-content\">\n              {formData.travelers.map((traveler, index) => (\n                <div key={index} className=\"traveler-card\">\n                  <div className=\"traveler-header\">\n                    <h4>Primary {index === 0 ? 'Policyholder' : `Traveler ${index + 1}`}</h4>\n                  </div>\n                  <div className=\"traveler-details\">\n                    <div className=\"detail-grid\">\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Full Name:</span>\n                        <span className=\"detail-value\">{traveler.firstName} {traveler.lastName}</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Age:</span>\n                        <span className=\"detail-value\">{traveler.age} years old</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span className=\"detail-label\">Email Address:</span>\n                        <span className=\"detail-value\">{traveler.email}</span>\n                      </div>\n                      {traveler.phone && (\n                        <div className=\"detail-item\">\n                          <span className=\"detail-label\">Phone Number:</span>\n                          <span className=\"detail-value\">{traveler.phone}</span>\n                        </div>\n                      )}\n                      {traveler.vaxId && (\n                        <div className=\"detail-item\">\n                          <span className=\"detail-label\">VAX ID:</span>\n                          <span className=\"detail-value\">{traveler.vaxId}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Insurance Plan Card */}\n          <div className=\"summary-card\">\n            <div className=\"card-header\">\n              <h3>ðŸ›¡ï¸ Selected Insurance Plan</h3>\n            </div>\n            <div className=\"card-content\">\n              {formData.selectedQuote && (\n                <div className=\"plan-summary\">\n                  <div className=\"plan-header\">\n                    <h4>{formData.selectedQuote.name}</h4>\n                    <div className=\"plan-price\">\n                      <span className=\"price-label\">Total Premium:</span>\n                      <span className=\"price-value\">â‚¬{calculateTotalPrice().toFixed(2)}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"coverage-overview\">\n                    <h5>Coverage Limits</h5>\n                    <div className=\"coverage-grid\">\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">ðŸ¥</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Medical Emergency</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.medical}</span>\n                        </div>\n                      </div>\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">ðŸ§³</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Baggage Protection</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.baggage}</span>\n                        </div>\n                      </div>\n                      <div className=\"coverage-item\">\n                        <span className=\"coverage-icon\">âŒ</span>\n                        <div className=\"coverage-details\">\n                          <span className=\"coverage-type\">Trip Cancellation</span>\n                          <span className=\"coverage-amount\">{formData.selectedQuote.coverage.cancellation}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"features-overview\">\n                    <h5>Included Benefits</h5>\n                    <div className=\"features-grid\">\n                      {formData.selectedQuote.features.map((feature, index) => (\n                        <div key={index} className=\"feature-item\">\n                          <span className=\"feature-check\">âœ“</span>\n                          <span className=\"feature-text\">{feature}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Summary Totals */}\n          <div className=\"summary-card total-card\">\n            <div className=\"card-content\">\n              <div className=\"total-summary\">\n                <div className=\"total-row\">\n                  <span className=\"total-label\">Base Premium:</span>\n                  <span className=\"total-value\">â‚¬{formData.selectedQuote?.price}</span>\n                </div>\n                {formData.additionalPolicies.length > 0 && (\n                  <div className=\"total-row\">\n                    <span className=\"total-label\">Additional Policies:</span>\n                    <span className=\"total-value\">â‚¬{formData.additionalPolicies.reduce((sum, policy) => sum + policy.price, 0).toFixed(2)}</span>\n                  </div>\n                )}\n                <div className=\"total-row\">\n                  <span className=\"total-label\">Taxes & Fees:</span>\n                  <span className=\"total-value\">Included</span>\n                </div>\n                <div className=\"total-row final-total\">\n                  <span className=\"total-label\">Total Amount:</span>\n                  <span className=\"total-value\">â‚¬{calculateTotalPrice().toFixed(2)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderPhase5 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Confirmation</h2>\n      <p>Please confirm that all details are correct before proceeding to payment.</p>\n      \n      <div className=\"confirmation-box\">\n        <div className=\"confirmation-item\">\n          <strong>Trip:</strong> {formData.destination} ({formatDateToEuropean(formData.startDate)} to {formatDateToEuropean(formData.endDate)})\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Country of Residence:</strong> {formData.countryOfResidence}\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Travelers:</strong> {formData.numberOfTravelers} person{formData.numberOfTravelers > 1 ? 's' : ''}\n        </div>\n        <div className=\"confirmation-item\">\n          <strong>Plan:</strong> {formData.selectedQuote?.name}\n        </div>\n        <div className=\"confirmation-item total\">\n          <strong>Total Amount:</strong> â‚¬{calculateTotalPrice().toFixed(2)}\n        </div>\n      </div>\n      \n      <div className=\"terms-section\">\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" required />\n          <span>I agree to the <button \n            className=\"link-button\" \n            onClick={() => onNavigate?.('privacy')}\n            style={{ background: 'none', border: 'none', color: '#0077b6', textDecoration: 'underline', cursor: 'pointer' }}\n          >\n            Terms and Conditions\n          </button></span>\n        </label>\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" required />\n          <span>I agree to the <button \n            className=\"link-button\" \n            onClick={() => onNavigate?.('privacy')}\n            style={{ background: 'none', border: 'none', color: '#0077b6', textDecoration: 'underline', cursor: 'pointer' }}\n          >\n            Privacy Policy\n          </button></span>\n        </label>\n        <label className=\"checkbox-option\">\n          <input type=\"checkbox\" />\n          <span>I would like to receive marketing emails about travel insurance offers</span>\n        </label>\n      </div>\n    </div>\n  );\n\n  const renderPhase6 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Screening Questions</h2>\n      <p>Please answer the following questions to complete your insurance application.</p>\n      \n      <div className=\"screening-questions\">\n        {screeningQuestions.length === 0 ? (\n          <div className=\"no-questions\">\n            <p>No screening questions required for this policy.</p>\n          </div>\n        ) : (\n          screeningQuestions.map((question, index) => (\n            <div key={question.questionNumber} className=\"screening-question\">\n              <h3>Question {question.questionNumber}</h3>\n              <p className=\"question-text\">{question.question}</p>\n              \n              <div className=\"question-options\">\n                <label className=\"radio-option\">\n                  <input\n                    type=\"radio\"\n                    name={`question-${question.questionNumber}`}\n                    value=\"yes\"\n                    checked={screeningAnswers[question.questionNumber] === 'yes'}\n                    onChange={(e) => setScreeningAnswers(prev => ({\n                      ...prev,\n                      [question.questionNumber]: 'yes'\n                    }))}\n                  />\n                  <span>Yes</span>\n                </label>\n                <label className=\"radio-option\">\n                  <input\n                    type=\"radio\"\n                    name={`question-${question.questionNumber}`}\n                    value=\"no\"\n                    checked={screeningAnswers[question.questionNumber] === 'no'}\n                    onChange={(e) => setScreeningAnswers(prev => ({\n                      ...prev,\n                      [question.questionNumber]: 'no'\n                    }))}\n                  />\n                  <span>No</span>\n                </label>\n              </div>\n              \n              {/* Show messages based on answer */}\n              {screeningAnswers[question.questionNumber] && (\n                <div className={`answer-message ${screeningAnswers[question.questionNumber]}`}>\n                  <p>\n                    {screeningAnswers[question.questionNumber] === 'yes' \n                      ? question.yesMessage \n                      : question.noMessage}\n                  </p>\n                </div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n\n  const renderPhase7 = () => (\n    <div className=\"wizard-phase\">\n      <h2>Payment Details</h2>\n      <p>Enter your payment information to complete your purchase.</p>\n      \n      \n      <div className=\"payment-section\">\n        <div className=\"payment-methods\">\n          <h3>Payment Method</h3>\n          <div className=\"payment-method-info\">\n            <p>We accept all major credit and debit cards for secure payment processing.</p>\n          </div>\n        </div>\n\n        <div className=\"card-details\">\n          <h3>Card Details</h3>\n          <div className=\"form-group\">\n            <label htmlFor=\"cardNumber\">Card Number</label>\n            <input\n              type=\"text\"\n              id=\"cardNumber\"\n              value={formData.cardNumber}\n              onChange={(e) => handleInputChange('cardNumber', e.target.value)}\n              placeholder=\"1234 5678 9012 3456\"\n              title=\"Enter your 16-digit card number\"\n              required\n            />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"expiryDate\">Expiry Date</label>\n              <input\n                type=\"text\"\n                id=\"expiryDate\"\n                value={formData.expiryDate}\n                onChange={(e) => handleInputChange('expiryDate', e.target.value)}\n                placeholder=\"MM/YY\"\n                title=\"Enter card expiry date in MM/YY format\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"cvv\">CVV</label>\n              <input\n                type=\"text\"\n                id=\"cvv\"\n                value={formData.cvv}\n                onChange={(e) => handleInputChange('cvv', e.target.value)}\n                placeholder=\"123\"\n                title=\"Enter the 3-digit CVV code from the back of your card\"\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"billing-address\">\n          <h3>Billing Address</h3>\n          <div className=\"form-group\">\n            <label htmlFor=\"street\">Street Address</label>\n            <input\n              type=\"text\"\n              id=\"street\"\n              value={formData.billingAddress.street}\n              onChange={(e) => handleBillingAddressChange('street', e.target.value)}\n              placeholder=\"Enter street address\"\n              title=\"Enter your billing street address\"\n              required\n            />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"city\">City</label>\n              <input\n                type=\"text\"\n                id=\"city\"\n                value={formData.billingAddress.city}\n                onChange={(e) => handleBillingAddressChange('city', e.target.value)}\n                placeholder=\"Enter city\"\n                title=\"Enter your billing city\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"postalCode\">Postal Code</label>\n              <input\n                type=\"text\"\n                id=\"postalCode\"\n                value={formData.billingAddress.postalCode}\n                onChange={(e) => handleBillingAddressChange('postalCode', e.target.value)}\n                placeholder=\"Enter postal code\"\n                title=\"Enter your billing postal code\"\n                required\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"country\">Country</label>\n            <input\n              type=\"text\"\n              id=\"country\"\n              value={formData.billingAddress.country}\n              onChange={(e) => handleBillingAddressChange('country', e.target.value)}\n              placeholder=\"Enter country\"\n              title=\"Enter your billing country\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"payment-summary\">\n        <div className=\"summary-item\">\n          <strong>Total Amount: â‚¬{calculateTotalPrice().toFixed(2)}</strong>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderPhase8 = () => (\n    <div className=\"wizard-phase\">\n      <h2>ðŸŽ‰ Congratulations!</h2>\n      <p>Your travel insurance has been successfully purchased.</p>\n      \n      <div className=\"success-message\">\n        <div className=\"policy-number\">\n          <strong>Policy Number:</strong> {policyNumber || `TI-${Date.now().toString().slice(-8)}`}\n        </div>\n        <div className=\"confirmation-email\">\n          A confirmation email has been sent to {formData.travelers[0]?.email}\n        </div>\n      </div>\n      \n      <div className=\"documents-section\">\n        <h3>Your Documents</h3>\n        <div className=\"document-links\">\n          <button \n            onClick={downloadPolicyPDF} \n            className=\"document-link download-btn\"\n            aria-label=\"Download your policy summary as a PDF document\"\n            title=\"Download a PDF copy of your travel insurance policy summary\"\n            type=\"button\"\n          >\n            ðŸ“„ Download Your Policy Summary (PDF)\n          </button>\n          {formData.selectedQuote?.summaryOfCoverUrl && (\n            <a href={formData.selectedQuote.summaryOfCoverUrl} className=\"document-link\" download>\n              ðŸ“„ Download Summary of Cover\n            </a>\n          )}\n          {formData.selectedQuote?.policyWordingUrl && (\n            <a href={formData.selectedQuote.policyWordingUrl} className=\"document-link\" download>\n              ðŸ“‹ Download Policy Terms & Conditions\n            </a>\n          )}\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            ðŸ†” Download Insurance Card\n          </a>\n          <a href=\"/Globelink_Wording_EU_V2_07.03.2025.pdf\" className=\"document-link\" download>\n            ðŸ“ž Emergency Contact Information\n          </a>\n        </div>\n      </div>\n      \n      <div className=\"next-steps\">\n        <h3>What's Next?</h3>\n        <ul>\n          <li>Save your policy documents in a safe place</li>\n          <li>Keep the emergency contact numbers with you while traveling</li>\n          <li>Download our mobile app for easy access to your policy</li>\n          <li>Contact us anytime at +30 6974907500 for assistance</li>\n        </ul>\n      </div>\n    </div>\n  );\n\n  const renderPhaseContent = () => {\n    switch (currentPhase) {\n      case 1:\n        return renderPhase1();\n      case 2:\n        return renderPhase2();\n      case 3:\n        return renderPhase3();\n      case 4:\n        return renderPhase4();\n      case 5:\n        return renderPhase5();\n      case 6:\n        return renderPhase6();\n      case 7:\n        return renderPhase7();\n      case 8:\n        return renderPhase8();\n      default:\n        return renderPhase1();\n    }\n  };\n\n  return (\n    <div className=\"quote-page\">\n      <style>\n        {`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}\n      </style>\n      <div className=\"container\">\n        <div className=\"wizard-header\">\n          <h1>Travel Insurance Quote Wizard</h1>\n            <div className=\"wizard-progress\">\n              {[1, 2, 3, 4, 5, 6, 7, 8].map(phase => (\n                <div key={phase} className={`progress-step ${currentPhase >= phase ? 'active' : ''} ${currentPhase === phase ? 'current' : ''}`}>\n                  <div className=\"step-number\">{phase}</div>\n                  <div className=\"step-label\">\n                    {phase === 1 && 'Details'}\n                    {phase === 2 && 'Quotes'}\n                    {phase === 3 && 'Add-ons'}\n                    {phase === 4 && 'Review'}\n                    {phase === 5 && 'Confirm'}\n                    {phase === 6 && 'Screening'}\n                    {phase === 7 && 'Payment'}\n                    {phase === 8 && 'Documents'}\n                  </div>\n                </div>\n              ))}\n            </div>\n        </div>\n\n        <div className=\"wizard-content\">\n          {renderPhaseContent()}\n        </div>\n\n        <div className=\"wizard-navigation\">\n          {currentPhase > 1 && currentPhase < 8 && (\n            <button \n              className=\"btn btn-secondary\" \n              onClick={prevPhase}\n              aria-label=\"Go to previous step\"\n              title=\"Go back to the previous step\"\n              type=\"button\"\n            >\n              Previous\n            </button>\n          )}\n          \n          {currentPhase < 7 && (\n            <button \n              className=\"btn btn-primary\" \n              onClick={nextPhase}\n              disabled={!isPhaseValid(currentPhase)}\n              aria-label={currentPhase === 6 ? 'Proceed to payment step' : 'Go to next step'}\n              title={currentPhase === 6 ? 'Continue to payment details' : 'Continue to next step'}\n              type=\"button\"\n            >\n              {currentPhase === 6 ? 'Proceed to Payment' : 'Next'}\n            </button>\n          )}\n          \n          {currentPhase === 7 && (\n            <>\n              <button \n                className=\"btn btn-primary\" \n                onClick={processPayment}\n                disabled={!isPhaseValid(currentPhase) || isProcessing}\n                aria-label={isProcessing ? 'Processing payment, please wait' : `Pay â‚¬${calculateTotalPrice().toFixed(2)} for your travel insurance`}\n                title={isProcessing ? 'Payment is being processed, please wait' : `Complete payment of â‚¬${calculateTotalPrice().toFixed(2)}`}\n                type=\"button\"\n                style={{\n                  opacity: (!isPhaseValid(currentPhase) || isProcessing) ? 0.5 : 1,\n                  cursor: (!isPhaseValid(currentPhase) || isProcessing) ? 'not-allowed' : 'pointer'\n                }}\n              >\n                {isProcessing ? 'Processing Payment...' : `Pay â‚¬${calculateTotalPrice().toFixed(2)}`}\n              </button>\n              \n            </>\n          )}\n          \n          {currentPhase === 8 && (\n            <button \n              className=\"btn btn-primary\" \n              onClick={() => window.location.href = '/'}\n              aria-label=\"Return to homepage\"\n              title=\"Go back to the main homepage\"\n              type=\"button\"\n            >\n              Return to Homepage\n            </button>\n          )}\n        </div>\n      </div>\n      \n      {/* Help Popup for Destination Categories */}\n      {showHelpPopup && (\n        <div className=\"help-popup-overlay\" onClick={() => setShowHelpPopup(false)}>\n          <div className=\"help-popup\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"help-popup-header\">\n              <h3>Destination Categories & Countries</h3>\n              <button \n                className=\"help-popup-close\" \n                onClick={() => setShowHelpPopup(false)}\n                aria-label=\"Close help popup\"\n              >\n                Ã—\n              </button>\n            </div>\n            \n            <div className=\"help-popup-content\">\n              {isLoadingCountries ? (\n                <div className=\"loading-message\">Loading countries...</div>\n              ) : (\n                <div className=\"categories-container\">\n                  {Object.entries(countriesByCategory).map(([category, countries]) => (\n                    <div key={category} className=\"category-section\">\n                      <h4 className=\"category-title\">{category}</h4>\n                      <div className=\"countries-grid\">\n                        {countries.map((country) => (\n                          <span key={country} className=\"country-item\">\n                            {country}\n                          </span>\n                        ))}\n                      </div>\n                      <div className=\"category-count\">\n                        {countries.length} countries\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Quote2;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}